<HTML>
<HEAD>
<title>A Brief History of the Cygwin Project</title>
</HEAD>

<!--#include virtual="cygwin-header.html"-->

<h1 align=center>A Brief History of the Cygwin Project</h1>

<p>The first thing done was to enhance the development tools (gcc,
gdb, gas, et al) so that they could generate/interpret Win32 native
object files.

<P>The next task was to port the tools to Win NT/95.  We could have
done this by rewriting large portions of the source to work within the
context of the Win32 API.  But this would have meant spending a huge
amount of time on each and every tool.  Instead, we took a substantially
different approach by writing a shared library (the Cygwin DLL) that adds
the necessary UNIX-like functionality missing from the Win32 API (fork,
spawn, signals, select, sockets, etc.).  We call this new interface
the Cygwin API.  Once written, it was possible to build working Win32
tools using UNIX-hosted cross-compilers, linking against this library.

<P>From this point, we pursued the goal of producing native tools capable of
rebuilding themselves under Windows NT and 95 (this is often
called self-hosting).  Since neither OS ships with standard UNIX
user tools (fileutils, textutils, bash, etc...), we had to get the
GNU equivalents working with the Cygwin API.  Most of these tools were
previously only built natively so we had to modify their configure
scripts to be compatible with cross-compilation.  Other than the
configuration changes, very few source-level changes had to be made.
Running bash with the development tools and user tools in place,
Windows NT and 95 look like a flavor of UNIX from the perspective of the
GNU configure mechanism.  Self hosting was achieved as of the beta 17.1
release.

<P>As of the B20 release, the compiler is EGCS-based and supports a flag
that makes it possible to compile vanilla Win32 executables that don't
depend on the Cygwin POSIX-like layer.  The default is still to use
the Cygwin library.

<H1>Release History</H1>

<H2>Release Beta 20.1 (Dec 4 1998)</H2>

<P>
This is a bug fix update to the Beta 20 release.

<P>
The main change is an improved version of the Cygwin library although
there are also a couple of other minor changes to the tools.

<H3>Changes in specific tools:</H3>

<P>
The "-mno-cygwin" flag to gcc now include the correct headers.  In 20.0,
it included the Cygwin headers which was incorrect.

<P>
The "-pipe" flag to gcc works correctly now.

<P>
The cygcheck program now reassures users that not finding cpp is the
correct behavior.

<P>
The "-b" flag to md5sum can now be used to generate correct checksums
of binary files.

<P>
The libtermcap library has been added to the compiler tools sources.
It is the new source of the termcap library and /etc/termcap file.

<P>
The less pager (using libtermcap) has been added to the binary
distribution.

<H3>Changes in the Cygwin API (cygwin.dll):</H3>

<P>
This version of Cygwin is backwards-compatible with the beta 20 and 19
releases.  The library is now much more stable under Windows 9x and the
bugs affecting configures under 9x (and NT to a lesser extent) have
also been fixed.


<P>
The bug that made it necessary to start the value of the CYGWIN
environment variable with two leading spaces has been fixed.


<P>
The serial support in the select call has been fixed.


<P>
Handling of DLLs loaded by non-cygwin apps has been improved.  Bugs in
dlopen have been fixed.


<P>
Passing _SC_CHILD_MAX to the sysconf function now yields CHILD_MAX (63)
instead of _POSIX_CHILD_MAX (3).


<P>
Several minor path bugs have been fixed.  Including the one that
caused "mkdir a/" to fail.


<P>
The include file sys/sysmacros.h has been added.  Added missing protos
for wcslen and wcscmp to wchar.h.


<P>
__P is now defined in include/sys/cdefs.h.  To support that last change,
the top-level Makefile.in now sets CC_FOR_TARGET and CXX_FOR_TARGET
differently.


<P>
Cygwin now exports the following newlib bessel functions: j1, jn, y1,
yn.


<P>
Several tty ioctl options have been added: TCGETA, TCSETA, TCSETAW, and
TCSETAF.


<P>
Several functions cope with NULL pointer references more gracefully.


<P>
Problems with execution of relative paths via #! should be fixed.




<H2>Release Beta 20 (Oct 30 1998)</H2>

<P>
This is a significant update to the Beta 19 release.  In addition to an
EGCS-based compiler and updated tools, this release includes a new
version of the Cygwin library that contains many improvements and
bugfixes over the last one.




<H3>The project has a new name!</H3>

<P>
Starting with this release, we are retiring the "GNU-Win32" name for the
releases.  We have also dropped the "32" from Cygwin32.  This means that
you should now refer to the tools as "the Cygwin toolset", the library
as "the Cygwin library" or "the Cygwin DLL", and the library's interface
as "the Cygwin API".


<P>
Because of this name change, we have changed any aspects of the library
that involved the name "Cygwin32".  For example, the CYGWIN32
environment variable is now the CYGWIN environment variable.  API
functions starting with cygwin32_ are still available under that form
for backwards-compatibility as well as under the new cygwin_-prefixed
names.  The same goes for the change of preprocessor define from
__CYGWIN32__ to __CYGWIN__.  We will remove the old names in a future
release so please take the minute or two that it will take to remove
those "32"s.  Thanks and I apologize for the hassle this may cause
people.  We would have changed the name to "Bob" but that name's already
taken by Microsoft...  :-)


<P>
Why change it?  For one thing, not all of the software included in the
distributions is GNU software, including the Cygwin library itself.  So
calling the project "GNU-Win32" has always been a bit of a misnomer.  In
addition, we think that calling the tools the "Cygwin tools" that use
the "Cygwin library" will be less confusing to people.


<P>
Also notice that we are now on the spiffy new sourceware.cygnus.com
web/ftp site.  The old address will work for some unknown period of
time (hopefully at least until we get all of the mirrors adjusted).




<H3>Changes in specific tools:</H3>

<P>
The latest public EGCS release is now the basis for the compiler used
in Cygwin distributions.  As a result, EGCS 1.1 is the compiler in this
release, with a few additional x86/Cygwin-related patches.


<P>
Those of you who are more interested in native Windows development than
in porting Unix programs will be glad to know that a new gcc flag
"-mno-cygwin" will link in the latest Mingw32 libs and produce an
executable that does not use Cygwin.


<P>
All of the other development tools have been updated to their latest
versions.  The linker (ld) includes many important bug fixes.  It is now
possible to safely strip a DLL with a .reloc section.  The windres
resource compiler is significantly improved.


<P>
Beta 20 also includes upgrades to a number of packages: ash-0.3.2-4,
bash 2.02.1, grep-2.2, ncurses 4.2, and less 332.  We have added bzip2
0.9.0 to the distribution.  And you'll now find that the df utility
has joined its other friends from the fileutils package.


<P>
The sh executable is still ash from the Debian Linux distribution but no
longer has the problematic quoting bug that was present in the Beta 19
release.  Control-Cs in the bash shell no longer kill background tasks.


<P>
Tcl/tk are upgraded to version 8.1a2 (with additional patches).
Compatible versions of tix and itcl are included.  These all include
Cygwin-compatible configury files so you can do a Unix-style build of
the Win32 ports of tcl/tk.  expect has been upgraded to 5.26 with some
additional Cygwin patches.


<P>
In response to customer requests and feedback, Cygnus has developed a
better graphical front end to GDB than GDBtk or WinGDB.  This tcl-based
GUI is shipping today to customers of the GNUPro Toolkit.  The
instrumentation changes to GDB and the tcl interpreter that was built
into GDB are part of the GPL'd source base.  But the tcl scripts are not
being made available to the net at this time.  For this reason, you will
only find a command-line version of gdb in this Cygwin release.


<P>
DJ Delorie has written a new "cygcheck" program that will print out
useful information about how your Cygwin environment is set up, what
DLLs a named executable is loading from where, etc.  We hope this will
make it easier to help diagnose common setup problems.


<P>
The ps utility has been upgraded.  It now has several options including
shorter and longer output formats.




<H3>Changes in the Cygwin API (cygwin.dll):</H3>

<P>
This version of Cygwin is backwards-compatible with the beta 19 release.
You can use the new "cygwin1.dll" with your old B19-compiled executables
if you move the old "cygwinb19.dll" out of the way and install a copy
of "cygwin1.dll" as "cygwinb19.dll".


<P>
Quite a lot of the Cygwin internals have been rewritten or modified to
address various issues.  If you have a question about specific changes,
the winsup/ChangeLog file in the development tools sources lists all
changes made to the DLL over the last three years.  Following are a few
highlights:


<P>
We are now using a new versioning scheme for Cygwin.  There is now a
separate version number for the DLL, the API, the shared memory region
interfaces, and the registry interface.  This will hopefully make it
easier for multiple Cygwin toolsets to coexist in one user environment.


<P>
Windows 98 is now supported (it is like Windows 95 from Cygwin's
perspective).  We still recommend upgrading to Windows NT.


<P>
While there is still a lot left to do in improving Cygwin's runtime
performance, we have put some effort into this prior to the B20 release.
Hopefully you will find that the latest version of Cygwin is faster than
ever.  In addition, we have plugged several nasty handle leaks
associated with opening/closing files and with using ttys.


<P>
The lseek call now uses WriteFile to fill gaps with zeros whenever a
write is done past an EOF, rather than leaving "undefined" data as Win32
specifies.


<P>
Significant work has been done to improve the Cygwin header files.


<P>
The Cygwin Support for Unix-style serial I/O is much improved.


<P>
Path handling has had another round of fixes/rewrites.  We no longer use
NT Extended Attributes by default for storing Unix permissions/execute
status because the file NT creates on FAT partitions is not scalable to
thousands of files (everything slows to a crawl).


<P>
Signal handling has also gotten a fair amount of attention.
Unfortunately, there are still some problems combining itimers and
Windows 9x.


<P>
The number of ttys has been upped from 16 to 128.


<P>
New API calls included in the DLL: sethostent, endhostent.


<P>
As mentioned earlier, all cygwin32_-prefixed functions are now exported
with a cygwin_ prefix instead.  Please adjust your code to call the
newly named functions.


<P>
reads of `slow' devices are now correctly interrupted by signals, i.e.
a read will receive an EINTR.




<H2>Release Beta 19 (Feb 26 1998)</H2>

<P>
This is a major release.  It includes a much-updated version of the
Cygwin32 library.  Because the Cygwin API has changed in incompatible
ways, the dll has been renamed cygwinb19.dll to avoid invalidating
previously built executables.


<P>
Note that a B19-compiled application exec()ing a B18-compiled
application will treat the B18-compiled executable as an ordinary
Win32 executable.  This means that open file descriptors and some other
internals will not be inheritted on exec() calls.  The reason for this
is that different shared memory areas are used by the different versions
of the cygwin library.  This may or may not be of importance to you
depending on what you're doing.


<P>
The Beta 19 release of the Cygwin32 library continues to be licensed
under the GNU General Public License (GPL).


<P>
The PE format definition used by the compiler tools now matches
Microsoft's more closely.  This should allow better interoperability
with other vendors' development tools although more work probably
remains to be done in this area.  This change invalidates all previously
built object (.o) and static library (.a) files so be sure to
delete/rebuild old .o and .a files you are using!


<P>
Finally, old symlinks are invalidated by this release.  The "system"
attribute is now used to mark symlinks which significantly speeds
up fstat and other file related calls.  Either recreate old ones or
set their "system" attribute flag so they will be recognized properly.


<P>
The new installer takes care of all environment variable settings
automatically by installing a shortcut in program files that pulls
up a bash prompt with all the correct environment variables set.
As a result, the setup process should be much cleaner than in the last
release.


<P>
For those of you who end up moving the tools around, the batch file
that sets up the default environment is called cygnus.bat and is
installed in the root of the install directory.  Because the tools have
been compiled to install in /cygnus/b19, when installed in this
location, the tools should "just work" if the bin directory is in your
path (no special environment variables are needed).  The only exception
is MAKE_MODE which needs to be set if you want to get ordinary Unix-like
make behavior -- see the make notes below for more information.




<H3>Changes in specific tools:</H3>

<P>
Ian Lance Taylor has written a resource compiler called "windres".
It can be used to compile windows resources from a textual rc file
into a COFF file.  The sources are in the binutils subdirectory of
the sources.


<P>
We have upgraded many of the utilities.  Beta 19 includes bash 2.01.1,
fileutils 3.16, gawk 3.0.3, patch 2.5, shellutils 1.16, tar 1.12,
textutils 1.22, and texinfo 3.11.  Bash under Cygwin32 now includes
working job control among other improvements.


<P>
The sh executable is now ash 0.2 from the Debian Linux distribution.
Using this more minimal shell as /bin/sh.exe speeds up configures
significantly.


<P>
Bison 1.25 has been added.


<P>
Tcl/tk are upgraded to version 8.0.  Compatible versions of tix and
itcl have been added.  These all include Cygwin32-compatible configury
files so you can do a Unix-style build of the Win32 ports of tcl/tk.


<P>
Expect 5.21.3 is included and basically works.


<P>
The binaries have been compiled with i686 optimizations turned on
which may result in a speed increase on Pentium-based systems
although the tools should work on i386 and later chips.


<P>
The linker (ld) has been enhanced -- it will now add the idata3
terminator automatically when linking dlls.


<P>
kill now supports signal names in arguments.  ps now shows process
start time information.


<P>
Although the default install of the tools should hide this detail, the
make utility now defaults to a Win32 mode which uses cmd.exe/command.com
as the subshell.  This mode allows the use of backslashes in filenames.
To build Unix programs, you need to set the MAKE_MODE environment
variable to "UNIX".  This way you will get the old behavior of using
sh.exe as the subshell.




<H3>Changes in the Cygwin32 API (cygwin.dll):</H3>

<P>
The interface is now better defined.  It contains libc, libm, and
Unix compatability calls.  It no longer contains exports for libgcc.a.
This should result in a more stable interface.  See the calls.texinfo
document for interface documentation.


<P>
There is now only one environment variable called CYGWIN32 that controls
the overall behavior of the dll:


<P>
        set CYGWIN32=[no]title [no]strip_title [no]binmode [no]glob
                strace=mask:cache,file [no]tty


<P>
So if you "set CYGWIN32=title tty", then you would get tty support
(see below) and have the current running process listed in the title
bar.


<P>
B19 adds support for:


<P>
* tty and pseudo-tty devices.  For now, ttys default to off because
taking over the console causes problems with using non-Cygwin console
programs in a Cygwin console.  To turn it on, set the environment
variable CYGWIN32 to include "tty".
* Hard links (requires NT on an NTFS filesystem).  When not possible (on
non-NTFS filesystems), link() will make a copy of the file in question
as it has done in previous releases.
* The SIGWINCH signal.  If tty handling is enabled then the process will
receive a SIGWINCH signal when the screen size changes.
* Additional terminal escape sequences recognized: scroll region setting via
&#60;ESC&#62;[n1;n2r and setting the console title using xterm escape sequence:
&#60;ESC&#62;]2;new title^G .


<P>
The following calls have been added:


<P>
* ptsname, grantpt, unlockpt
* login, logout, ttyslot, ctermid
* cfgetispeed, cfgetospeed, cfsetispeed, cfsetospeed
* setitimer, getitimer, ftime, tzset
* wait3, wait4, pause, sigpause
* getpgid, killpg, setegid (stub)
* strlwr, strupr
* sexecve, sexecl, sexecle, sexeclp, sexeclpe, sexecv, sexecp, sexecvpe
* rcmd, rresvport, rexec
* strsignal, strtosigno
* dlopen, dlsym, dlclose, dlerror
* inet_netof, inet_makeaddr
* socketpair
* fpathconf, realpath, chroot (stub)
* initgroups (stub), getgroups
* random, srandom


<P>
The following calls have been removed:


<P>
* ScreenCols, ScreenGetCursor, ScreenRows, ScreenSetCursor
* getkey, kbhit
* crypt (stub)
* all libgcc.a exports


<P>
The Winsock dll (wsock32.dll) is no longer implicitly linked into
the Cygwin32 dll.  Instead, it is explicitly loaded with LoadLibrary
the first time a process calls a Cygwin32 networking function.  This
speeds up most processes significantly (configures by about 20%).


<P>
The signal-related code has been rewritten from scratch.  Ditto for
most of the path handling code.


<P>
The globbing and getopt code has been replaced with BSD-derived
code.  The regexp code has been replaced with Henry Spencer's PD
implementation.


<P>
Doug Lea's malloc is now being used as the default malloc exported by
cygwin.  This malloc balances speed and compactness very nicely but is
more unforgiving when attempts are made to free already freed memory,
i.e. a segmentation violation will occur.


<P>
The bsearch call has been rewritten.


<P>
Alt Gr-key behavior has been changed in this release.  The left alt-key
still produces ESC-key sequence.  The right alt (Alt Gr)-key now
produces characters according to national keyboard layouts.


<P>
Processes no longer write their name in the title bar unless you include
"title" in the CYGWIN32 environment variable (see above).


<P>
Multiple cygwin.dlls no longer use the same memory space unless they are
identical (built at the same time).  This allows multiple dlls with
incompatible shared memory usage to be run simultaneously.  It also
facilitates debugging a buggy cygwin.dll.  By keeping only a single copy
of the latest cygwin.dll on your system, you can be assured of having
all cygwin processes exist in the same shared memory space.


<P>
The slash mount no longer defaults to C:.  It now defaults to the
system drive letter (where the OS is installed).


<P>
The standard dl* dynamic library loader functions are now available.
Cygwin32 B19 now correctly copies data after a fork and automatically
reloads any DLLs loaded in the parent process.  In addition, dlls will
now be correctly initialized when loaded and global constructors will
be called.  Global destructors will be called when the DLL is detached.
Handles gotten from dlopen or dlsym in the parent will be accessible in a
forked child.  The LD_LIBRARY_PATH environment variable is used in the dlopen
search.


<P>
Include the file &#60;cygwin32/cygwin_dll.h&#62; in a cygwin32 created .dll and
use the line DECLARE_CYGWIN_DLL(dll-entry-point) to produce .dlls that
can be used with these functions.




<H2>Release Beta 18 (May 6 1997)</H2>

<P>
This is a major release.  The new cygwin.dll is still
backwards-compatible with previously linked applications but
contains significant changes.


<P>
We have completely changed the installation process to make
use of an InstallShield5-based installer.  This should reduce the
number of installation problems people have experienced in the
past.  However, it is still necessary to set environment variables
by hand, as explained in the README.txt accompanying the distribution.
(Future gnu-win32 installers may include the capability to do this
automatically).




<H3>Changes in specific tools:</H3>

<P>
GCC compilation times have been improved by 20-30% by using spawn()
instead of fork().


<P>
GCC accepts both Win32 and POSIX paths/path lists in its
environment variables (COMPILER_PATH, LIBRARY_PATH, C_INCLUDE_PATH,
CPLUS_INCLUDE_PATH, OBJC_INCLUDE_PATH)


<P>
GDB comes with a tcl/tk-based GUI (gdbtk).  You can still invoke the
command line gdb by invoking it with "gdb -nw".


<P>
Bash verifies that /tmp exists and is a directory upon startup.
It complains if this isn't the case.


<P>
Running gcc or ld with "-s" used to create invalid executables.
The bug in bfd that was responsible for this has been fixed.


<P>
The conflict between String.h and string.h (and other such pairs
of header files) where you include one and get the other has been
fixed.


<P>
The top level install-sh script tries to install foo.exe if asked
to install foo when foo's not present.  This fixes many installs
of Unix software.


<P>
Dlltool has preliminary support for the IMPORT declaration in .def files
when invoked with -I.  Feel free to experiment with it but once this
functionality is tested more extensively this flag may go away.


<P>
Time is upgraded to version 1.7.


<P>
Make is upgraded to version 3.75.


<P>
Make accepts both Win32 and POSIX path lists in the VPATH variable.




<H3>Changes in the Cygwin32 API (cygwin.dll):</H3>

<P>
The following is now supported:


<P>
* UNC paths
* Reverse index escapes in console code
* Blocking select()s on a combination of sockets/handles
* Directory symlinks.
* Reparenting of child processes.


<P>
The following calls have been added:


<P>
* mmap(), mprotect(), msync(), munmap().  fork() changed to support these.
* fsync(), statfs(), fstatfs().
* getprotobynumber() and getservbyport().
* get_osfhandle(), cwait().
* spawnl(), spawnle(), spawnlp(), spawnlpe(), spawnv(), spawnve(),
spawnvp(), spawnvpe().
* nice().
* sigpending(), sigsuspend()
* Under NT only, chown(), getgrgid(), getgrnam(), endgrent(), getgrent(),
setpwend(), getpwent(), endpwent().  Win95 still has these as stubs.


<P>
Significantly better signals / exception handling support added.
The kill signal works much better now (control-C works in bash).


<P>
Shell scripts now run the shell specified after the #! instead of
always defaulting to /bin/sh.


<P>
Floating point registers are now properly initialized in the crt0.o.


<P>
Opening non-disk files such as com ports no longer check to see
if they are symlinks or executables.


<P>
The console title now is set to the name of the running process.


<P>
Winsock is now initialized upon app startup.


<P>
Moved reent_data from private address space to cygwin.dll.


<P>
The system() call now invokes spawnvp() instead of fork()/exec().


<P>
Support for NT extended attributes has been added but is disabled
for now because it slowed things down too much.  We want to use them to
remember info about symlink and executable status of files.


<P>
Under NT only, utilities mkpasswd and mkgroup can generate a valid
/etc/passwd and /etc/group.


<P>
Earlier releases stored mount points in the registry under
"Cygnus Support".  This changed to "Cygnus Solutions" starting
with beta 18.  Either use a registry editor (regedit under NT)
to rename the old entry or just redo your mount points and the
cygwin.dll will automatically create the new one for you.


<P>
Mount points can now be up to MAX_PATH in length instead of 30
characters.




<H2>Release Beta 17.1 (Dec 10 1996)</H2>

<P>
A patch has been applied to make Win 95 configure work again.


<P>
ld has been changed to make "a.exe" be the default executable name.




<H2>Release Beta 17 (Dec 7 1996)</H2>

<P>
It is now possible to rebuild the tools natively under x86 NT when
the full Cygnus Developers' Kit (CDK) and the User Tools are both
installed correctly.


<P>
While the cygwin.dll underwent substantial changes, none of them
prevent you from using previously built applications  The new dll
is compatible with beta 16 to the best of our knowledge.  Beta 14-built
programs will continue to fail with the beta 17 dll -- you will have to
relink them before they will work.


<P>
The winsup files that make up the Cygwin32 API are now under the
GNU General Public License.  See the accompanying press release
for more information.




<H3>Changes in specific tools:</H3>

<P>
Gcc now links by default against -lkernel32 and also against
-luser32 -lgdi32 -lcomdlg32 when mwindows is set.  Another major
change is that when creating an executable, gcc will now create
foo.exe when given a -o argument of foo.


<P>
Dlltool has patches to make it better handle the --subsystem argument
that allows choosing console vs. GUI among other options.
ld has been changed to have a much larger stack reserve size.  This
is necessary when rebuilding the toolchain natively under NT.


<P>
The C++ headers can now be found given a correctly set GCC_EXEC_PREFIX
environment variable.


<P>
New versions of fileutils and make are included.  Findutils has been
added.




<H3>Changes in the Cygwin32 API (cygwin.dll):</H3>

<P>
Scott Christley's headers and def files for the standard Win32 dlls
have been integrated.  Anything present only in the previous Cygnus headers
has been added in the appropriate places.  There are placeholder files
with the standard Win32 header names that pull in our headers so
programs that try to include specific headers should continue to work.
Having more complete headers should make Win32 native programming
easier.


<P>
Select has been rewritten from scratch.  The new one can deal with
all sockets, handles and sockets always ready, all handles.  Handles
and sockets with timeout not implemented yet.  Select now does
blocking and doesn't spin cpu.


<P>
File handling has been largely rewritten:
The fhandler array has been moved into local memory instead of shared
memory.  This makes a number of things behave better.  Lots of changes
to support this.  There is now fairly complete ansi/vt100 console support.
Some new file locking support has been added.  Arrow keys are now
supported.


<P>
Process handling much improved.


<P>
Significant serious bugs in fork() fixed.


<P>
The system() call now works.


<P>
unlink() now chmods read-only files to writable before attempting to
delete a file.  This fixes the outstanding problem where rm can't
delete read-only files saying "out of queue slots" repeatedly.


<P>
Text mode read has been rewritten.


<P>
New syslog code allows logging to event log under NT, file under Win 95.


<P>
Symlinks are enabled.


<P>
readv() and writev() have been written and exported.


<P>
For MS compatibility, we now export functions in the dll as _funcname
in addition to funcname.  I would suggest not making use of this fact
unless you are building code that already accesses C library calls
in this way.


<P>
Almost all of the source code is now in C++ files.




<H2>Release Beta 16 (Aug 30 1996)</H2>

<P>
Path handling has been completely rewritten.  To refer to drive Q: in
bash, you can now refer to //q/.  Alternatively, type "mount Q: /q" to
have drive Q: show up as /q.


<P>
We now pass the Plum Hall positive C conformance tests on the
i386 under Windows 95 and NT 4.0b2.


<P>
Fork was previously not accessible inside the dll.  This is no
longer the case which should allow us to add working system and popen
calls.


<P>
getdomainname works (it used to just return "cygnus.com") by getting
information from registry.


<P>
Fixed readdir bug that set errno improperly.  This fixed the problem
with diff not working across directories.


<P>
Better error checking in signal functions.  Initialize winsock in
cygwin32_socket with checkinit call (fixes bug that required calling any
function that did this first).


<P>
New functions: sigaddset, sigismember, sigfillset, sigemptyset.


<P>
Removed extra underscores present in sysdef files.


<P>
There is a now a major and a minor version number associated with
the cygwin.dll.  The major number changes only when incompatible changes
are made, the minor number changes when significant changes are made
to the dll that don't require relinking of old apps.


<P>
Changed value of HZ in include/sys/param.h to correct value of 1000.
(Fixes bug people reported about "time sleep 5" returning 50).


<P>
Assorted exception handling fixes for both i386 and ppc processors.


<P>
Assorted time-related fixes required for Cygnus Kerberos work.
New time functions: gmtime, corelocaltime


<P>
Assorted spawn and fork fixes.


<P>
Pseudo-Unix process handling added -- new ps and kill commands added


<P>
Control-Z's are now handled as a valid EOF token in files opened as
text.
lseek now always operates in binary mode.


<P>
Select revamped.


<P>
Various other changes.  For more detailed information, consult the file
in the source code winsup/ChangeLog.


<P>
Preprocessor define scheme changed.  Apps should now use _WIN32
instead of __WIN32__ to check for access to Win32 API and __CYGWIN32__
to check for presence of the Cygwin32 environment.


<P>
We are no longer including GNU findutils, GNU dbm, GNU bison,
GNU less, ncurses, ftp, finger, rcl, cvtres, or V.  This may or may not
change in the future.


<P>
You must relink old apps you built with prior releases with the new
cygwin.dll.




<H2>Release Beta 14 (April 10 1996)</H2>

<P>
Some bugs have been fixed.  GDBM and m4 are in the release.  GCC now
uses the standard install directories for cc1 etc.


<P>
A port of V to gnu-win32 is included.  You can now write graphics
applications which will run on Unix or Windows unchanged.  Some parts of
V work on the PPC too.


<P>
If you call any programs from the standard DOS shell, then the DLL will
expand all the wildcards (glob) found in the arguments on the command
line.  So ls *.exe will do what you think it should, even if you're not
in bash.


<P>
ncurses and less are included. The DLL's emulation of a vt100 isn't complete,
so ncurses doesn't do all that it should. Hence less is more or less
useless.  This can be fixed with a new DLL.  (If you want to use
something which uses curses, be sure to set your TERM and HOME
envirionment variables)


<P>
If you leave out main, then the libraries will try and call WinMain in the
usual way.


<P>
^C works much better on Windows 95.  It's still not quite right, but at
least most times it quits what you're doing, and most times doesn't
crash your machine.


<P>
You can start more than one concurrent bash session. 


<P>
Some networking support has been added.  Even though telnet.exe is provided,
I know that it doesn't work, so please don't send me bug reports.


<P>
You will have to relink your applications to go with the new DLL.


<P>
The DLL is released in its own .zip file too, so you don't have to
download a load of other stuff if you dont want to.




<H2>Release Beta 13 (Feb 9 1996)</H2>

<P>
Files are opened in binary mode, unless the registry is fiddled with.


<P>
The `cat &#62;foo &#60;&#60;EOF bug is fixed.


<P>
The symlink cookie has changed, so old links wont work any more.


<P>
Two resource tools are provided (untested).


<P>
More windows header files are provided. WxWindows almost compiles.


<P>
You can get to a raw floppy with `/dev/fd0 or `/dev/fd1.


<P>
You can have two filenames with the same name and different case in
the same directory.


<P>
Stat now fills in the st_nlink field for directories, so find works
better.


<P>
This version is much more stable than any previous version, and will
stay running long enough to configure and build itself on my NT box.


<P>
This version is also available in PowerPC versions.  The PowerPC
compiler doesn't do stack probing, so some applications won't work, or
they'll only work on some input data - e.g. the demo "hello world" will
compile, but gcc will crash compiling the dhrystone benchmark.


<P>
There's a new registry variable "fmode=binary" which controls
whether the tools always open files in binary mode (unless overridden
with O_TEXT), or always open files in text mode (unless overridden with
O_BINARY).


<P>
Filesystems can be mounted with the mixed_case flag.  This allows
you to use filenames with the same spelling, but different case in the
same directory.


<P>
I haven't tested or even used some of the packages that I've
provided.  I compiled them, and then fixed the obvious "the file should
have been opened in binary mode" problems.


<P>
I've already had reports of some of it not working correctly on
Windows 95.  I don't have a simple to use Windows 95 configuration, but
when I did try "it worked for me".  This may be another manifestation
of the bug which makes bash hang sometimes under NT.




<H2>Release Beta 12 (Jan 3 1996)</H2>

<P>
You can call non- gnu-win32 applications from bash.


<P>
You can mount other directories using the <CODE>mount</CODE> command.


<P>
Minimal ANSI terminal emulation included.


<P>
Packages split into smaller and more logical lumps.


<P>
/d&#60;name&#62; mechanism gone.


<P>
Initial support for the PowerPC added.




<H2>Release Beta 11 (Jan 3 1996)</H2>

<P>
Something broke on the way to the ftp site.




<H2>Release Beta 10 (Dec 5 1995)</H2>

<P>
You can pass environment variables around in bash.


<P>
Lots more stuff provided precompiled.


<P>
Diffs to standard FSF release provided.


<P>
It self-hosts.


<P>
It supports symbolic links.


<P>
The directory layout has changed to be more unix like.


<P>
The way that you get to non-c drives is new - i:\foo.cc
is now /di/foo.cc


<P>
Nasty bug found and fixed in fork.


<P>
CPP will now search the directories you supply in env names.




<H2>Release Beta 9</H2>

<P>
I've put all of libc and libm into a shared library,
This drastically reduces the size of some binaries.
e.g. ls goes from 82,949 bytes to 26,624.
"Hello World" is 2564 bytes long.
This is the first stage in greatly speeding up 
some of the stuff that's going on behind the curtain.


<P>
Different processes communicate using shared memory.


<P>
Some trivial use of the registry is made.


<P>
DLLTOOL is now *much* faster.


<P>
Some small problems have been fixed in the way that DLLs were
layed out.	




<H2>Release Beta 8</H2>

<P>
GDB works.


<P>
GCC now emits debug info which can make **huge** executables
Fortunately, strip works too.


<P>
More work has been done to make quoting work.


<P>
Simple termios support added to newlib.


<P>
Much nicer way of describing paths, eg //c/foo is c:\foo.




<H2>Release Beta 7</H2>

<P>
Works again on Win 95 (which is why -6 wasn't advertised).


<P>
Permissions are faked better.


<P>
Source of demos available without having to ftp the entire win32
binary tree. 




<H2>Release Beta 6</H2>

<P>
Can now generate DLLs, tiny demo included.
tcl, byacc, fileutils, diff, make included.




<H2>Release Beta 5</H2>

<P>
Bug preventing anything from running on recent versions
of Win95 fixed.


<P>
vfork and exec oddities fixed.


<P>
Import libraries are now really libraries and not
just .o files.


<P>
Debugging info stripped from images and libraries;
it's just bloat until gdb works.


<P>
I've filled in the four major import libraries.


<P>
The win*.h files are now installed into &#60;foo&#62;/include
rather that &#60;foo&#62;/include/sys, so more things will
compile out of the box.




<H2>Release Beta 4</H2>

<P>
PE support is fixed. Programs run on
NT 3.1, NT 3.5, NT 3.51 and Windows 95.


<P>
You can build GUI programs.


<P>
.DEF files for three other DLL's started.


<P>
New GUI demo program. 


<P>
C library distinguishes between text and binary files
consequently the text files generated by the
tools have the familiar ^M at the end of the line
which DOS likes so much.


<P>
Doug Evans of Cygnus has added a load
of fancy support for execve, opendir and 
various other cool things.


<P>
Exception handling is better.




<H2>Release Beta 3</H2>

<P>Was so long ago we don't remember.</p>
<HR>
<P><small>UNIX &reg; is a registered trademark of the Open Group in the
United States and other countries.</small></p>

<!--#include virtual="cygwin-footer.html"-->
