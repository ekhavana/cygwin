<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">

<html lang="en-US">

<head>
<title>Cygwin/XFree86 - Development - Server Test Series - Change Log</title>

<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<link rel="stylesheet" type="text/css" href="../../xfree86.css">

<meta name="Author" content="Harold L Hunt II">
<meta name="keywords" content="xfree86, Cygwin, X, x window system, microsoft, windows, x/server, xserver, x-server, Cygwin/XFree86, Win32, Win32API, Win32 API, shadow, shadowfb, fb">
<meta name="description" content="Cygwin/XFree86 - Development - Server Test Series - Change Log">

</head>

<!--#include virtual="../../cygx-header.html" -->

<h2>Cygwin/XFree86 - Development - Server Test Series - Change Log</h2>

<p>Last updated: 2003-07-28 2010 EDT</p>

<p>Server Test Series binary and source code releases are now
available via the sources.redhat.com ftp <a
href="http://cygwin.com/mirrors.html">mirror network</a> in the
pub/cygwin/xfree/devel/shadow/ directory.  You may wish to note the
desired filename in the links below, then download from your <a
href="http://cygwin.com/mirrors.html">closest mirror</a>.</p>

<!-- Change log entry template -->
<!--
<h4>Test</h4>
<table>
<tbody>

<tr><td>Released: 2003-01-13 0102 EST</td></tr>

<tr><td>Committed to XFree86 CVS: not yet</td></tr>

<tr><td>Basis: XFree86 CVS</td></tr>

<tr><td>Cygwin setup.exe package: XFree86-xserv-4.2.0-</td></tr>

<tr><td>Download binary: <a
href="http://www.msu.edu/~huntharo/xwin/shadow/XWin-Test.exe.bz2">XWin-Test.exe.bz2</a>
(1196 KiB)</td></tr>

<tr><td>Download source: <a
href="http://www.msu.edu/~huntharo/xwin/shadow/xwin-20030113-2235.tar.bz2">xwin-20030113-2235.tar.bz2</a>
(95 KiB)</td></tr>

<tr><td>Changes:</td></tr>

<tr>
<td>
<ul>

<li></li>

</ul>
</td>
</tr>
</tbody>
</table>
-->


<h4>Test92</h4>
<table>
<tbody>

<tr><td>Released: 2003-07-28 2010 EDT</td></tr>

<tr><td>Committed to XFree86 CVS: not yet</td></tr>

<tr><td>Basis: Test91</td></tr>

<tr><td>Cygwin setup.exe package: XFree86-xserv-4.2.0-43</td></tr>

<tr><td>Download binary: <a
href="http://www.msu.edu/~huntharo/xwin/shadow/XWin-Test92.exe.bz2">XWin-Test92.exe.bz2</a>
(1210 KiB)</td></tr>

<tr><td>Download source: <a
href="http://www.msu.edu/~huntharo/xwin/shadow/xwin-20030728-2010.tar.bz2">xwin-20030728-2010.tar.bz2</a>
(118 KiB)</td></tr>

<tr><td>Download xc/programs/Xserver/hw/xwin diff against Test91
source code: <a
href="http://www.msu.edu/~huntharo/xwin/shadow/xwin-Test91-to-Test92.diff">xwin-Test91-to-Test92.diff</a>
(9 KiB)</td></tr>

<tr><td>Changes:</td></tr>

<tr>
<td>
<ul>

<li>winconfig.c - Add new defaults for keyboardlayout: German
(Switzerland) and English (USA, International).</li>

<li>XWin.rc - Move Exit button to the bottom of the tray icon's menu.
(List suggestion)</li>

<li>winmultiwindowclass.c - Add checks for NULL pointers.  Should help
fix some crashes in MultiWindow mode.  (Ralf Habacker)</li>

<li>General - Add global variable that tracks whether XInitThreads ()
has been called so that it is only called once per process.  Calling
XInitThreads multiple times may have been contributing to crashes.
(Harold L Hunt II)</li>

</ul>
</td>
</tr>
</tbody>
</table>




<h4>Test91</h4>
<table>
<tbody>

<tr><td>Released: 2003-06-02 1055 EDT</td></tr>

<tr><td>Committed to XFree86 CVS: not yet</td></tr>

<tr><td>Basis: Test90</td></tr>

<tr><td>Cygwin setup.exe package: XFree86-xserv-4.2.0-42</td></tr>

<tr><td>Download binary: <a
href="http://www.msu.edu/~huntharo/xwin/shadow/XWin-Test91.exe.bz2">XWin-Test91.exe.bz2</a>
(1208 KiB)</td></tr>

<tr><td>Download source: <a
href="http://www.msu.edu/~huntharo/xwin/shadow/xwin-20030602-1055.tar.bz2">xwin-20030602-1055.tar.bz2</a>
(118 KiB)</td></tr>

<tr><td>Download xc/programs/Xserver/hw/xwin diff against Test90
source code: <a
href="http://www.msu.edu/~huntharo/xwin/shadow/xwin-Test90-to-Test91.diff.bz2">xwin-Test90-to-Test91.diff.bz2</a>
(18 KiB)</td></tr>

<tr><td>Changes:</td></tr>

<tr>
<td>
<ul>

<li>winconfig.c - Change nodeadkeys default to NULL for the German
(Germany) keyboard layout.  (Alexander Gottwald, Benjamin
Riefenstahl)</li>

<li>X.ico - Add 24 x 24 - 256 color and 24 x 24 - 16 color icons.
(Harold L Hunt II, Benjamin Riefenstahl)</li>

<li>wintrayicon.c - Change hard-coded 16 x 16 icon load to use
GetSystemMetrics (SM_CXSMICON) and GetSystemMetrics (SM_CYSMICON) to
retrieve size of small icon to be used.  Hopefully this loads the 24 x
24 icon on systems that have been changed to use 24 x 24 icons for the
notification tray.  (Harold L Hunt II, Benjamin Riefenstahl)</li>

<li>winmultiwindowwindow.c - Break some functions from this file into
several new files: winmultiwindowicons.c, winmultiwindowshape.c, and
winmultiwindowwndproc.c.  Provide enough Tender Loving Care (TLC) to
the various header files so that all files still build with no
warnings.  Note that this drops the size of winmultiwindowwindow.c
from 55 KiB to 21 KiB and creates three new files, none of which is
larger than 23 KiB.  Of those three new files, winmultiwindowicons.c
is 10 KiB, winmultiwindowshape.c is 6 KiB, and winmultiwindowwndproc.c
is 23 KiB.  Finally, it is interesting to note that
winmultiwindowwndproc.c contains a single function,
winTopLevelWindowProc(), so that file cannot be made any smaller by
breaking other functions into separate files.  (Harold L Hunt II)</li>

<li>winclass.c, winclass.h - Rename these files to
winmultiwindowclass.c and winmultiwindowclass.h, respectively, since
they are only used in MultiWindow mode.  Prefix the functions in these
files with MultiWindow.  (Harold L Hunt II)</li>

</ul>
</td>
</tr>
</tbody>
</table>



<h4>Test90</h4>
<table>
<tbody>

<tr><td>Released: 2003-06-01 1655 EDT</td></tr>

<tr><td>Committed to XFree86 CVS: not yet</td></tr>

<tr><td>Basis: Test89</td></tr>

<tr><td>Cygwin setup.exe package: XFree86-xserv-4.2.0-41</td></tr>

<tr><td>Download binary: <a
href="http://www.msu.edu/~huntharo/xwin/shadow/XWin-Test90.exe.bz2">XWin-Test90.exe.bz2</a>
(1208 KiB)</td></tr>

<tr><td>Download source: <a
href="http://www.msu.edu/~huntharo/xwin/shadow/xwin-20030601-1655.tar.bz2">xwin-20030601-1655.tar.bz2</a>
(117 KiB)</td></tr>

<tr><td>Download xc/programs/Xserver/hw/xwin diff against Test89
source code: <a
href="http://www.msu.edu/~huntharo/xwin/shadow/xwin-Test89-to-Test90.diff">xwin-Test89-to-Test90.diff</a>
(10 KiB)</td></tr>

<tr><td>Changes:</td></tr>

<tr>
<td>
<ul>

<li>wintrayicon.c/winInitNotifyIcon() - Replace call to LoadIcon with
a call to LoadImage that specifies the 16x16 icon as the size to be
loaded.  This makes the tray icon look much cleaner.  (Colin
Harrison)</li>

<li>wintrayicon.c/winDeleteNotifyIcon() - Call DestroyIcon on the icon
that was loaded in winInitNotifyIcon().  (Harold L Hunt II)</li>

<li>Clean up all compiler warnings in xc/programs/Xserver/hw/xwin.
The code now builds without a single warning when using the default
compilation flags on a Cygwin host.  (Harold L Hunt II)</li>

</ul>
</td>
</tr>
</tbody>
</table>



<h4>Test89</h4>
<table>
<tbody>

<tr><td>Released: 2003-05-31 2255 EDT</td></tr>

<tr><td>Committed to XFree86 CVS: not yet</td></tr>

<tr><td>Basis: Test88</td></tr>

<tr><td>Cygwin setup.exe package: XFree86-xserv-4.2.0-40</td></tr>

<tr><td>Download binary: <a
href="http://www.msu.edu/~huntharo/xwin/shadow/XWin-Test89.exe.bz2">XWin-Test89.exe.bz2</a>
(1208 KiB)</td></tr>

<tr><td>Download source: <a
href="http://www.msu.edu/~huntharo/xwin/shadow/xwin-20030531-2255.tar.bz2">xwin-20030531-2255.tar.bz2</a>
(116 KiB)</td></tr>

<tr><td>Download xc/programs/Xserver/hw/xwin diff against Test88
source code: <a
href="http://www.msu.edu/~huntharo/xwin/shadow/xwin-Test88-to-Test89.diff">xwin-Test88-to-Test89.diff</a>
(6 KiB)</td></tr>

<tr><td>Changes:</td></tr>

<tr>
<td>
<ul>

<li>winmultiwindowwindow.c/winTopLevelWindowProc() - Rework the mouse
polling timer so that it is attached to the root-level window.  This
prevents multiple mouse polling timers from being created, which was
happening in the old versions.  Introduce a new way of determining
that the timer should be created or deleted, which will hopefully fix
some corner cases where the timer was not being created.  (Harold L
Hunt II)</li>

<li>XWin.rc - Remove a couple of window style flags that were not
compatible with Earle's patch for removing the minimize and maximize
buttons from the dialog boxes.  (Earle F. Philhower III)</li>

<li>XWin.rc - Make ``x'' and ``C'' hotkeys for the Exit Confirmation
dialog box.  (Colin Harrison, Biju G C)</li>

</ul>
</td>
</tr>
</tbody>
</table>



<h4>Test88</h4>
<table>
<tbody>

<tr><td>Released: 2003-05-30 2355 EDT</td></tr>

<tr><td>Committed to XFree86 CVS: not yet</td></tr>

<tr><td>Basis: Test87</td></tr>

<tr><td>Cygwin setup.exe package: XFree86-xserv-4.2.0-39</td></tr>

<tr><td>Download binary: <a
href="http://www.msu.edu/~huntharo/xwin/shadow/XWin-Test88.exe.bz2">XWin-Test88.exe.bz2</a>
(1208 KiB)</td></tr>

<tr><td>Download source: <a
href="http://www.msu.edu/~huntharo/xwin/shadow/xwin-20030530-2355.tar.bz2">xwin-20030530-2355.tar.bz2</a>
(117 KiB)</td></tr>

<tr><td>Download xc/programs/Xserver/hw/xwin diff against Test87
source code: <a
href="http://www.msu.edu/~huntharo/xwin/shadow/xwin-Test87-to-Test88.diff">xwin-Test87-to-Test88.diff</a>
(4 KiB)</td></tr>

<tr><td>Changes:</td></tr>

<tr>
<td>
<ul>

<li>winmultiwindowwindow.c/winScaleXBitmapToWindows() - Clear the bits
in the alpha channel of the converted 32 bpp bitmap because it was
causing problems with window icons for certain display drivers.  Most
notably, display drivers from ATI were exhibiting these problems.
(Earle F. Philhower III)</li>

<li>wincursor.c/winPointerWarpCursor() - Discard the first cursor warp
message, since this is just X putting the mouse cursor in the center
of the screen, which is undesirable in Windows.  (Earle F. Philhower
III, Harold L Hunt II)</li>

<li>windialogs.c/winDisplay[Exit|DepthChange]Dialog() - Add calls to
drop the minimize and maximize buttons from the Exit Confirmation and
Depth Change dialog boxes, while preserving the icon on the upper left
hand corner of the dialog window.  (Earle F. Philhower III)</li>

</ul>
</td>
</tr>
</tbody>
</table>



<h4>Test87</h4>
<table>
<tbody>

<tr><td>Released: 2003-05-29 0045 EDT</td></tr>

<tr><td>Committed to XFree86 CVS: not yet</td></tr>

<tr><td>Basis: Test86</td></tr>

<tr><td>Cygwin setup.exe package: XFree86-xserv-4.2.0-38</td></tr>

<tr><td>Download binary: <a
href="http://www.msu.edu/~huntharo/xwin/shadow/XWin-Test87.exe.bz2">XWin-Test87.exe.bz2</a>
(1208 KiB)</td></tr>

<tr><td>Download source: <a
href="http://www.msu.edu/~huntharo/xwin/shadow/xwin-20030529-0045.tar.bz2">xwin-20030529-0045.tar.bz2</a>
(116 KiB)</td></tr>

<tr><td>Download xc/programs/Xserver/hw/xwin diff against Test86
source code: <a
href="http://www.msu.edu/~huntharo/xwin/shadow/xwin-Test86-to-Test87.diff.bz2">xwin-Test86-to-Test87.diff.bz2</a>
(11 KiB)</td></tr>

<tr><td>Changes:</td></tr>

<tr>
<td>
<ul>

<li>Convert X application icons set in WM_HINTS from XPMs to Windows
BMPs using an internal algorithm.  Earle, Ralf, and Colin worked
together on this one with coding, suggesting ideas, and testing.  The
end result is, as they say, very nearly perfect.  Each top-level X
window is now given its own class that has an icon associated with it.
The icon can be even changed while the application is running and this
is properly handled.  Icons are properly freed when a window and its
associated class are destroyed.  This entry encompasses a flurry of
emails and patches that I cannot possibly recount here; hopefully no
one feels slighted by this brief summary.  (Earle F. Philhower III,
Ralf Habacker, Colin Harrison)</li>

<li> Set XIconSizes() to the Windows approved 16, 32, and 48.  It
doesn't seem to be looked at by anything, but it is in the XLib
documents as something a WM should set.  (Earle F. Philhower III)</li>

<li>Removed several misc compile warnings.  (Earle F. Philhower
III)</li>

<li>winmultiwindowwindow.c/winTopLevelWindowProc() - Add a call to
winKeybdReleaseKeys () in WM_KILLFOCUS.  This fix stops the phantom
key presses that people were seeing.  The example here would be to
launch an xterm, then launch another xterm from that xterm.  Type
``exit'' in the first xterm and press enter.  The enter keydown
message is processed by the second xterm, but the keyup is never
processed so it got sent repeatedly to the root-level message loop
(which performs all keyboard processing), causing phantom key presses
to show up in any X app that currently had the focus.  At least, I
think that is that the problem was.  An interim solution was to press
and release the enter key, which would cause a keydown/keyup message
combo to be sent, thus ending the crazy looping.  This fix pops all
keys that are pressed when the current X app looses the keyboard
focus.  Colin suggested this, Earle move the location of the call to
the proper place.  (Colin Harrison, Earle F. Philhower III)</li>

<li>XWin.rc - Change the Exit Confirmation and Depth Change dialog
boxes to be centered by adding the DS_CENTER flag to the STYLE
attribute.  (Biju G C, Harold L Hunt II)</li>

<li>winmultiwindowwindow.c/winTopLevelWindowProc() - Let
DefaultWindowProc() handle the Alt+F4 key combo in the WM_*KEYDOWN
messages.  This allows a user to close a top-level X window (which has
an associated Windows window) by pressing Alt+F4.  Note that this
happens regardless of the -[no]winkill command-line parameter.  This
is the desired behavior since -[no]winkill should only affect the
behavior of the root-level window, not the individual X Client
windows.  (Biju G C, Harold L Hunt II)</li>

<li>winwndproc.c/winWindowProc() - Define a WM_GIVEUP message that
calls GiveUp(); remove the GiveUp() call from WM_CLOSE and replace it
with a call to winDisplayExitDialog(), which displays the Exit
Confirmation dialog box.  This only makes sense in conjunction with
the next change log entry.  (Biju G C, Harold L Hunt II)</li>

<li>windialogs.c/winExitDlgProc()/WM_COMMAND/ID_OK - Pass WM_GIVEUP to
PostMessage() instead of passing WM_CLOSE.  This patch causes the end
result that, in MultiWindow mode, selecting Close from the system menu
for non-root-level Windows window causes that particular X Client to
be killed.  The previous result was that the XWin.exe process was
exited without displaying the Exit Confirmation dialog box.  This must
have been a frustrating situation indeed and it makes this bug a
marvelous catch on Biju's part.  NOTE: The system menu can be opened
by right clicking on the title bar, or by left clicking the icon in
the upper left-hand corner of the app window, or by right clicking on
the application entry in the task bar.  (Biju G C, Harold L Hunt
II)</li>

<li>windialogs.c/winDisplay(Exit)|(ChangeDepth)Dialog() - Call
SetForegroundWindow() if the dialog box has already been created.
This pulls the dialog box to the foreground if it has been buried by
other windows.  It is legitimate to do this here because we are
responding to user input of some sort when this function gets called.
(Harold L Hunt II)</li>

<li>XWin.rc - Add the extended style WS_EX_DLGMODALFRAME and the
normal style WS_DLGFRAME to the Exit Confirmation dialog box in an
attempt to stop the dialog box from being listed in the task bar,
which was reported by one user.  This task bar listing has been
negatively confirmed in Windows 2000 and Windows XP, but it may be
happening in other versions of Windows.  Of course, this could have
been a reference to the fact that the dialog is present in the Alt+Tab
list.  However, that is the desired behavior and will not be changed
(how else could you get back to that dialog box?).  (Biju G C, Harold
L Hunt II)</li>

<li>Try, in vain, to maintain a uniform coding style and
variable/function naming convention.  I am mostly winning the
curly-brace (curly braces on separate lines please), indenting (emacs
default please), parameter spacing (e.g. func&nbsp;(x, y) instead of
func(&nbsp;x,y&nbsp;), func(&nbsp;x, y&nbsp), or even func(x,y)), and
binary operator spacing ((x&nbsp;+&nbsp;y) instead of (x+y)) wars, but
I am pitiful excuse for a belligerent dictator when it comes to the
variable naming (follow examples in winwndproc.c), variable prefixing
(follow winwndproc.c, which is my own sick mix of Hungarian prefixes
(int, dw, psz, f) and old-school C prefixes (i, n, l)), and function
naming wars.  I would like to ask all contributors to try to follow
the code that they see in the files that I authored, but I don't feel
that I have the right to reject patches that don't follow those
conventions.  I will, however, try my best to adapt all patches so
that I can read them and more easily maintain them in the future.  You
may also have noticed that I am a profuse commentor... I do that
because I have a very poor memory of why things were done they way
that they were done, so I sprinkle tips throughout the code to help
myself remember things.  You know, I have been realizing the entire
time that I was writing this change log that I have low blood sugar, I
am very tired, and this is so not the place for such huge amounts of
text.  Time for bed.  Change log over.  (Anonymous... Like you have to
guess)</li>

</ul>
</td>
</tr>
</tbody>
</table>



<h4>Test86</h4>
<table>
<tbody>

<tr><td>Released: 2003-05-18 1426 EDT</td></tr>

<tr><td>Committed to XFree86 CVS: not yet</td></tr>

<tr><td>Basis: Test85</td></tr>

<tr><td>Cygwin setup.exe package: XFree86-xserv-4.2.0-37</td></tr>

<tr><td>Download binary: <a
href="http://www.msu.edu/~huntharo/xwin/shadow/XWin-Test86.exe.bz2">XWin-Test86.exe.bz2</a>
(1206 KiB)</td></tr>

<tr><td>Download source: <a
href="http://www.msu.edu/~huntharo/xwin/shadow/xwin-20030518-1426.tar.bz2">xwin-20030518-1426.tar.bz2</a>
(112 KiB)</td></tr>

<tr><td>Download xc/programs/Xserver/hw/xwin diff against Test85
source code: <a
href="http://www.msu.edu/~huntharo/xwin/shadow/xwin-Test85-to-Test86.diff">xwin-Test85-to-Test86.diff</a>
(2 KiB)</td></tr>

<tr><td>Changes:</td></tr>

<tr>
<td>
<ul>

<li>winmultiwindowwindow.c/winTopLevelWindowProc() - Remove a
dependency on GetWindowInfo(), which is only present in NT 4.0 SP6,
Windows 98, and later.  Thanks to Dr. Charles L. Werner for reporting
this problem on Windows NT 4.0 SP3 and to Alexander Gottwald for
confirming that GetWindowInfo() is not present in Windows 95.  (Earle
F. Philhower III)</li>

</ul>
</td>
</tr>
</tbody>
</table>



<h4>Test85</h4>
<table>
<tbody>

<tr><td>Released: 2003-05-17 1320 EDT</td></tr>

<tr><td>Committed to XFree86 CVS: not yet</td></tr>

<tr><td>Basis: Test84</td></tr>

<tr><td>Cygwin setup.exe package: XFree86-xserv-4.2.0-36</td></tr>

<tr><td>Download binary: <a
href="http://www.msu.edu/~huntharo/xwin/shadow/XWin-Test85.exe.bz2">XWin-Test85.exe.bz2</a>
(1206 KiB)</td></tr>

<tr><td>Download source: <a
href="http://www.msu.edu/~huntharo/xwin/shadow/xwin-20030517-1320.tar.bz2">xwin-20030517-1320.tar.bz2</a>
(112 KiB)</td></tr>

<tr><td>Download xc/programs/Xserver/hw/xwin diff against Test84
source code: <a
href="http://www.msu.edu/~huntharo/xwin/shadow/xwin-Test84-to-Test85.diff">xwin-Test84-to-Test85.diff</a>
(22 KiB)</td></tr>

<tr><td>Changes:</td></tr>

<tr>
<td>
<ul>

<li>Implement window title changing in MultiWindow mode.  (Earle
F. Philhower III)</li>

<li>Implement an Always On Top command in the right-click menu (System
Menu) for each window in MultiWindow mode.  (Earle F. Philhower,
III)</li>

<li>Move the XNextEvent loop into a separate thread for MultiWindow
mode.  (Earle F. Philhower III)</li>

<li>Fix a race between the startup of the clipboard thread and
MultiWindow window manager thread that caused window title changing to
bork.  (Harold L Hunt II)</li>

<li>Stop calling pthread_exit () from winClipboardErrorHandler ().  An
error is an error, not a reason to dump core.  This may fix problems
people have been having with -clipboard, but I don't make any
promises.  (Harold L Hunt II)</li>

</ul>
</td>
</tr>
</tbody>
</table>



<h4>Test84</h4>
<table>
<tbody>

<tr><td>Released: 2003-05-13 0954 EDT</td></tr>

<tr><td>Committed to XFree86 CVS: not yet</td></tr>

<tr><td>Basis: Test83</td></tr>

<tr><td>Cygwin setup.exe package: XFree86-xserv-4.2.0-35</td></tr>

<tr><td>Download binary: <a
href="http://www.msu.edu/~huntharo/xwin/shadow/XWin-Test84.exe.bz2">XWin-Test84.exe.bz2</a>
(1204 KiB)</td></tr>

<tr><td>Download source: <a
href="http://www.msu.edu/~huntharo/xwin/shadow/xwin-20030513-0954.tar.bz2">xwin-20030513-0954.tar.bz2</a>
(111 KiB)</td></tr>

<tr><td>Download xc/programs/Xserver/hw/xwin diff against Test83
source code: <a
href="http://www.msu.edu/~huntharo/xwin/shadow/xwin-Test83-to-Test84.diff">xwin-Test83-to-Test84.diff</a>
(19 KiB)</td></tr>

<tr><td>Changes:</td></tr>

<tr>
<td>
<ul>

<li>Fix/implement window maximizing and restoring in MultiWindow mode.
(Earle F. Philhower III)</li>

<li>Implement handling in MultiWindow mode for monitors to the left of
the primary monitor on systems with multiple monitors.  (Earle
F. Philhower III)</li>

<li>Destroy the Exit confirmation dialog box and NULL its pointer when
the server is reset.  This fixes a problem that occurred when the Exit
confirmation dialog box was displayed and the server was reset; the
Exit confirmation dialog box would never display again after that
happened, preventing you from normally exiting Cygwin/XFree86.
(Harold L Hunt II)</li>

<li>Make the Windows window title include the display number and
screen number (e.g. Cygwin/XFree86 0:0) for the main window in
non-MultiWindow modes and the normally hidden root window in
MultiWindow mode.  (Harold L Hunt II)</li>

</ul>
</td>
</tr>
</tbody>
</table>



<h4>Test83</h4>
<table>
<tbody>

<tr><td>Released: 2003-05-01 1250 EDT</td></tr>

<tr><td>Committed to XFree86 CVS: not yet</td></tr>

<tr><td>Basis: Test82</td></tr>

<tr><td>Cygwin setup.exe package: XFree86-xserv-4.2.0-34</td></tr>

<tr><td>Download binary: <a
href="http://www.msu.edu/~huntharo/xwin/shadow/XWin-Test83.exe.bz2">XWin-Test83.exe.bz2</a>
(1204 KiB)</td></tr>

<tr><td>Download source: <a
href="http://www.msu.edu/~huntharo/xwin/shadow/xwin-20030501-1250.tar.bz2">xwin-20030501-1250.tar.bz2</a>
(111 KiB)</td></tr>

<tr><td>Download xc/programs/Xserver/hw/xwin diff against Test82
source code: <a
href="http://www.msu.edu/~huntharo/xwin/shadow/xwin-Test82-to-Test83.diff">xwin-Test82-to-Test83.diff</a>
(10 KiB)</td></tr>

<tr><td>Changes:</td></tr>

<tr>
<td>
<ul>

<li>Fix the Exit confirmation dialog box so that the arrow keys, tab
keys, and Enter/Escape keys all work.  Additionally, make the Exit
confirmation dialog box get the keyboard focus when it is opened.  It
was being set as the active window, but the keyboard focus was not
being set properly.  (Harold L Hunt II)</li>

<li>Make the Cancel button the default button on the Exit confirmation
dialog box.  Thanks to Biju G C for giving me a heads-up on this one.
(Harold L Hunt II)</li>

<li>Fix the cursor hiding on the Exit confirmation dialog box that was
occurring when no X Client windows were open in MultiWindow
mode.  (Harold L Hunt II)</li>

<li>Fix the Exit confirmation dialog box so that it doesn't prevent
the keyboard focus from returning to X Client windows in MultiWindow
mode when you dismiss the dialog box by closing it or by pressing
Cancel.  (Harold L Hunt II)</li>

<li>Change the root window title in MultiWindow mode to
``Cygwin/XFree86'' from ``Cygwin/XFree86 rl''.  (Harold L Hunt
II)</li>

<li>Change MultiWindow mode to use XWin.log again, instead of
XWinrl.log.  (Harold L Hunt II)</li>

<li>Change the top-level window procedure for MultiWindow mode to
share a global cursor hidden/shown flag with the root window
procedure.  (Harold L Hunt II)</li>

</ul>
</td>
</tr>
</tbody>
</table>



<h4>Test82</h4>
<table>
<tbody>

<tr><td>Released: 2003-04-30 2025 EDT</td></tr>

<tr><td>Committed to XFree86 CVS: not yet</td></tr>

<tr><td>Basis: Test81</td></tr>

<tr><td>Cygwin setup.exe package: XFree86-xserv-4.2.0-33</td></tr>

<tr><td>Download binary: <a
href="http://www.msu.edu/~huntharo/xwin/shadow/XWin-Test82.exe.bz2">XWin-Test82.exe.bz2</a>
(1204 KiB)</td></tr>

<tr><td>Download source: <a
href="http://www.msu.edu/~huntharo/xwin/shadow/xwin-20030430-2025.tar.bz2">xwin-20030430-2025.tar.bz2</a>
(111 KiB)</td></tr>

<tr><td>Download xc/programs/Xserver/hw/xwin diff against Test81
source code: <a
href="http://www.msu.edu/~huntharo/xwin/shadow/xwin-Test81-to-Test82.diff">xwin-Test81-to-Test82.diff</a>
(22 KiB)</td></tr>

<tr><td>Changes:</td></tr>

<tr>
<td>
<ul>

<li>Add an exit confirmation dialog box for when the user selects Exit
from the tray icon right-click menu and for when the user presses
Alt-F4 or Ctrl-Alt-Backspace (if the -unixkill command-line parameter
was specified).  (Harold L Hunt II)</li>

<li>Add ``Show Root Window'' and ``Hide Root Window'' commands to the
tray icon right-click menu when using MultiWindow mode (-multiwindow
command-line parameter).  These commands should be self-explanatory.
Thanks to Biju G C for the idea for this.  (Harold L Hunt II)</li>

<li>Add the X icon to the Depth Change dialog box.  Has anyone ever
seen this dialog box?  I added it months ago and have never heard from
anyone that it works or doesn't work.  (Harold L Hunt II)</li>

</ul>
</td>
</tr>
</tbody>
</table>



<h4>Test81</h4>
<table>
<tbody>

<tr><td>Released: 2003-04-29 2347 EDT</td></tr>

<tr><td>Committed to XFree86 CVS: not yet</td></tr>

<tr><td>Basis: Test80</td></tr>

<tr><td>Cygwin setup.exe package: XFree86-xserv-4.2.0-32</td></tr>

<tr><td>Download binary: <a
href="http://www.msu.edu/~huntharo/xwin/shadow/XWin-Test81.exe.bz2">XWin-Test81.exe.bz2</a>
(1203 KiB)</td></tr>

<tr><td>Download source: <a
href="http://www.msu.edu/~huntharo/xwin/shadow/xwin-20030429-2347.tar.bz2">xwin-20030429-2347.tar.bz2</a>
(110 KiB)</td></tr>

<tr><td>Download xc/programs/Xserver/hw/xwin diff against Test80
source code: <a
href="http://www.msu.edu/~huntharo/xwin/shadow/xwin-Test80-to-Test81.diff">xwin-Test80-to-Test81.diff</a>
(5 KiB)</td></tr>

<tr><td>Changes:</td></tr>

<tr>
<td>
<ul>

<li>Fix tray icon right-click menu to make sure that it disappears
when you click outside of the menu.  (Harold L Hunt II)</li>

<li>Delete the tray icon in the per-screen close procedure, which
ensures that every tray icon is deleted.  This also causes the tray
icons to be deleted when the server is reset, which is required since
the tray icons are recreated when the server is reset.  (Harold L Hunt
II)</li>

</ul>
</td>
</tr>
</tbody>
</table>



<h4>Test80</h4>
<table>
<tbody>

<tr><td>Released: 2003-04-29 1932 EDT</td></tr>

<tr><td>Committed to XFree86 CVS: not yet</td></tr>

<tr><td>Basis: Test79</td></tr>

<tr><td>Cygwin setup.exe package: XFree86-xserv-4.2.0-31</td></tr>

<tr><td>Download binary: <a
href="http://www.msu.edu/~huntharo/xwin/shadow/XWin-Test80.exe.bz2">XWin-Test80.exe.bz2</a>
(1203 KiB)</td></tr>

<tr><td>Download source: <a
href="http://www.msu.edu/~huntharo/xwin/shadow/xwin-20030429-1932.tar.bz2">xwin-20030429-1932.tar.bz2</a>
(110 KiB)</td></tr>

<tr><td>Download xc/programs/Xserver/hw/xwin diff against Test79
source code: <a
href="http://www.msu.edu/~huntharo/xwin/shadow/xwin-Test79-to-Test80.diff">xwin-Test79-to-Test80.diff</a>
(19 KiB)</td></tr>

<tr><td>Changes:</td></tr>

<tr>
<td>
<ul>

<li>Add automatic keyboard detection for ``Portuguese (Brazil)'',
``Portuguese (Portugal)'', and ``Italian''.  (Alexander Gottwald)</li>

<li>Add taskbar notification area (tray) icon.  Exit on double-click
of icon.  (Early Ehlinger)</li>

<li>Add popup menu for right-click on tray icon.  Add menu item for
``Exit''.  (Harold L Hunt II)</li>

<li>Add -[no]trayicon command-line parameters.  The default is for the
tray icon to be created for each screen (as if -trayicon were
passed).  You can turn tray icons off by placing -notrayicon at the
beginning of the parameter list to XWin.exe (must be before any
-screen x parameters).  You can then enable the tray icon on a
screen-by-screen basis by placing -trayicon after any -screen x
parameter that you wish to have tray icons enabled for.  For example,
``XWin.exe -notrayicon -screen 0 -screen 1 -screen 2 -trayicon'',
would create three screens, two of which (screens 0 and 1) would not have tray
icons, while the third (screen 2) would.</li>

<li>Hide root window in MultiWindow mode.  (Early Ehlinger)</li>

<li>Add some initial support files that might eventually hold code for
the X Video Extension.  These files do not currently affect the
operation of the server and I have stopped working on them for the
time, but I will leave them there as a place holder.  (Harold L Hunt
II)</li>

</ul>
</td>
</tr>
</tbody>
</table>


<h4>Test79</h4>
<table>
<tbody>

<tr><td>Released: 2003-03-12 0937 EST</td></tr>

<tr><td>Committed to XFree86 CVS: not yet</td></tr>

<tr><td>Basis: XFree86 CVS</td></tr>

<tr><td>Cygwin setup.exe package: XFree86-xserv-4.2.0-27</td></tr>

<tr><td>Download binary: <a
href="http://www.msu.edu/~huntharo/xwin/shadow/XWin-Test79.exe.bz2">XWin-Test79.exe.bz2</a>
(1203 KiB)</td></tr>

<tr><td>Download source: <a
href="http://www.msu.edu/~huntharo/xwin/shadow/xwin-20030312-0937.tar.bz2">xwin-20030312-0937.tar.bz2</a>
(108 KiB)</td></tr>

<tr><td>Download xc/programs/Xserver/hw/xwin diff against Test78
source code: <a
href="http://www.msu.edu/~huntharo/xwin/shadow/xwin-Test78-to-Test79.diff">xwin-Test78-to-Test79.diff</a>
(13 KiB)</td></tr>

<tr><td>Changes:</td></tr>

<tr>
<td>
<ul>

<li>MultiWindow Mode - Fix for the focus jumping rapidly and
uncontrollably between windows in certain scenarios.  (Kensuke
Matsuzaki)</li>

</ul>
</td>
</tr>
</tbody>
</table>


<h4>Test78</h4>
<table>
<tbody>

<tr><td>Released: 2003-02-24 0828 EST</td></tr>

<tr><td>Committed to XFree86 CVS: not yet</td></tr>

<tr><td>Basis: XFree86 CVS</td></tr>

<tr><td>Cygwin setup.exe package: XFree86-xserv-4.2.0-26</td></tr>

<tr><td>Download binary: <a
href="http://www.msu.edu/~huntharo/xwin/shadow/XWin-Test78.exe.bz2">XWin-Test78.exe.bz2</a>
(1202 KiB)</td></tr>

<tr><td>Download source: <a
href="http://www.msu.edu/~huntharo/xwin/shadow/xwin-20030224-0828.tar.bz2">xwin-20030224-0828.tar.bz2</a>
(108 KiB)</td></tr>

<tr><td>Download xc/programs/Xserver/hw/xwin diff against Test77
source code: <a
href="http://www.msu.edu/~huntharo/xwin/shadow/xwin-Test77-to-Test78.diff">xwin-Test77-to-Test78.diff</a>
(9 KiB)</td></tr>

<tr><td>Changes:</td></tr>

<tr>
<td>
<ul>

<li>Automatically detect several non-U.S. keyboard configurations by
querying Windows for the current locale.  (Alexander Gottwald)</li>

<li>Add a check for the height not being toggled to a positive integer
when the Shadow GDI DIB is created.  One user has reported it so far,
so it may be due to a single video card or driver version.  Also, this
may not fix the problem.  (Harold Hunt)</li>

</ul>
</td>
</tr>
</tbody>
</table>


<h4>Test77</h4>
<table>
<tbody>

<tr><td>Released: 2003-01-29 1415 EST</td></tr>

<tr><td>Committed to XFree86 CVS: 2003-02-12 1005 EST</td></tr>

<tr><td>Basis: Test76</td></tr>

<tr><td>Cygwin setup.exe package: XFree86-xserv-4.2.0-25</td></tr>

<tr><td>Download binary: <a
href="http://www.msu.edu/~huntharo/xwin/shadow/XWin-Test77.exe.bz2">XWin-Test77.exe.bz2</a>
(1202 KiB)</td></tr>

<tr><td>Download source: <a
href="http://www.msu.edu/~huntharo/xwin/shadow/xwin-20030129-1415.tar.bz2">xwin-20030129-1415.tar.bz2</a>
(107 KiB)</td></tr>

<tr><td>Download xc/programs/Xserver/hw/xwin diff against Test76
source code: <a
href="http://www.msu.edu/~huntharo/xwin/shadow/xwin-Test76-to-Test77.diff">xwin-Test76-to-Test77.diff</a>
(5 KiB)</td></tr>

<tr><td>Changes:</td></tr>

<tr>
<td>
<ul>

<li>Only call setlocale () once per process.  This was causing crashes
on startup when using both the -clipboard and -multiwindow
command-line parameters.  (Kensuke Matsuzaki, Harold Hunt)</li>

</ul>
</td>
</tr>
</tbody>
</table>



<h4>Test76</h4>
<table>
<tbody>

<tr><td>Released: 2003-01-28 1923 EST</td></tr>

<tr><td>Committed to XFree86 CVS: 2003-02-12 1005 EST</td></tr>

<tr><td>Basis: Test75</td></tr>

<tr><td>Cygwin setup.exe package: XFree86-xserv-4.2.0-24</td></tr>

<tr><td>Download binary: <a
href="http://www.msu.edu/~huntharo/xwin/shadow/XWin-Test76.exe.bz2">XWin-Test76.exe.bz2</a>
(1202 KiB)</td></tr>

<tr><td>Download source: <a
href="http://www.msu.edu/~huntharo/xwin/shadow/xwin-20030128-1923.tar.bz2">xwin-20030128-1923.tar.bz2</a>
(107 KiB)</td></tr>

<tr><td>Download xc/programs/Xserver/hw/xwin diff against Test75
source code: <a
href="http://www.msu.edu/~huntharo/xwin/shadow/xwin-Test75-to-Test76.diff">xwin-Test75-to-Test76.diff</a>
(3 KiB)</td></tr>

<tr><td>Changes:</td></tr>

<tr>
<td>
<ul>

<li>winshadgdi.c/winAllocateFBShadowGDI - Fix how dwStride was being
calculated, which was causing a crash on startup with both the
-engine 1 and -multiwindow command-line parameters.  (Harold Hunt)</li>

</ul>
</td>
</tr>
</tbody>
</table>




<h4>Test75</h4>
<table>
<tbody>

<tr><td>Released: 2003-01-26 2245 EST</td></tr>

<tr><td>Committed to XFree86 CVS: 2003-02-12 1005 EST</td></tr>

<tr><td>Basis: Test74</td></tr>

<tr><td>Cygwin setup.exe package: XFree86-xserv-4.2.0-23</td></tr>

<tr><td>Download binary: no longer distributed</td></tr>

<tr><td>Download source: <a
href="http://www.msu.edu/~huntharo/xwin/shadow/xwin-20030126-2245.tar.bz2">xwin-20030126-2245.tar.bz2</a>
(107 KiB)</td></tr>

<tr><td>Download xc/programs/Xserver/hw/xwin diff against Test74
source code: <a
href="http://www.msu.edu/~huntharo/xwin/shadow/xwin-Test74-to-Test75.diff">xwin-Test74-to-Test75.diff</a>
(4 KiB)</td></tr>

<tr><td>Changes:</td></tr>

<tr>
<td>
<ul>

<li>winshaddd[nl].c/winReleasePrimarySurfaceShadowDD[NL] - Check that
pddsPrimary is not NULL before calling
IDirectDrawSurface[2|4]_SetClipper.  This most likely showed up as a
crash during video depth changes.  (Alexander Gottwald)</li>

<li>winshaddd.c - Change a few accidental IDirectDrawSurface4
references to IDirectDrawSurface2.  (Harold Hunt)</li>

</ul>
</td>
</tr>
</tbody>
</table>



<h4>Test74</h4>
<table>
<tbody>

<tr><td>Released: 2003-01-24 1105 EST</td></tr>

<tr><td>Committed to XFree86 CVS: 2003-02-12 1005 EST</td></tr>

<tr><td>Basis: Test73</td></tr>

<tr><td>Cygwin setup.exe package: XFree86-xserv-4.2.0-22</td></tr>

<tr><td>Download binary: no longer distributed</td></tr>

<tr><td>Download source: <a
href="http://www.msu.edu/~huntharo/xwin/shadow/xwin-20030124-1105.tar.bz2">xwin-20030124-1105.tar.bz2</a>
(107 KiB)</td></tr>

<tr><td>Download xc/programs/Xserver/hw/xwin diff against Test73
source code: <a
href="http://www.msu.edu/~huntharo/xwin/shadow/xwin-Test73-to-Test74.diff.bz2">xwin-Test73-to-Test74.diff.bz2</a>
(8 KiB)</td></tr>

<tr><td>Download xc/lib/xtrans/Xtransutil.c diff against 2003-01-24
XFree86 CVS: <a
href="http://www.msu.edu/~huntharo/xwin/shadow/xc-lib-xtrans-Xtransutil.c-20030124-1105.diff">xc-lib-xtrans-Xtransutil.c-20030124-1105.diff</a>
(1 KiB)</td></tr>

<tr><td>Changes:</td></tr>

<tr>
<td>
<ul>

<li>xc/lib/xtrans/Xtransutil.c - Remove Cygwin-specific defines of
fchown and fchmod to chown and chmod, respectively.  It is not clear
when these were added, but they are certainly no longer needed and are
likely the cause of the first segfault that occurs if you debug
XWin.exe under gdb.  (Takashi Sawanaka)</li>

<li>Remove the condition variable used in the startup of the threaded
clipboard manager and multi-window window manager; the condition
variable was not needed and actually caused a race condition that
could prevent either manager from starting up.  Instead, just use a
mutex to hold the threads until the server has started, at which point
the mutex is unlocked.  (Harold Hunt)</li>

<li>winmultiwindowwm.c, winclipboardthread.c - Remove calls to
_Xsetlocale and replace them with calls to setlocale, since
_Xsetlocale is just defined to be setlocale.  (Kensuke Matsuzaki)</li>

<li>Fix a problem where the server window would shrink each time the
server was reset.  This problem only happened in non-rootless,
non-fullscreen, non-nodecoration, and non-scrollbars modes.  In other
words, it only happened when you ran the X Server in a single window
that had a window border but no scrollbars.  (Harold Hunt)</li>

</ul>
</td>
</tr>
</tbody>
</table>



<h4>Test73</h4>
<table>
<tbody>

<tr><td>Released: 2003-01-20 0108 EST</td></tr>

<tr><td>Committed to XFree86 CVS: 2003-02-12 1005 EST</td></tr>

<tr><td>Basis: Test72</td></tr>

<tr><td>Cygwin setup.exe package: XFree86-xserv-4.2.0-21</td></tr>

<tr><td>Download binary: no longer distributed</td></tr>

<tr><td>Download source: <a
href="http://www.msu.edu/~huntharo/xwin/shadow/xwin-20030120-0108.tar.bz2">xwin-20030120-0108.tar.bz2</a>
(106 KiB)</td></tr>

<tr><td>Download xc/programs/Xserver/hw/xwin diff against Test72
source code: <a
href="http://www.msu.edu/~huntharo/xwin/shadow/xwin-Test72-to-Test73.diff.bz2">xwin-Test72-to-Test73.diff.bz2</a>
(16 KiB)</td></tr>

<tr><td>Changes:</td></tr>

<tr>
<td>
<ul>

<li>Preliminary integration of the <em>xwinclip</em> functionality
into the main server executable.  This functionality is accessible via
the <em>-clipboard</em> command-line parameter.  (Harold Hunt)</li>

<li>Delay the execution of the Multi-Window Window Manager thread
until the X Server has finished starting up.  (Harold Hunt)</li>

<li>Restructure the way that the Multi-Window Window Manager handles
fatal errors.  Return FALSE when we encounter an initialization error
so that the server can make a clean exit, instead of aborting
immediately by calling exit (1).  For later errors, call pthread_exit
(NULL) instead of exit (1) so that only the Multi-Window Window
Manager aborts; there is no need to kill the X Server process since
work could still be recovered without the window manager module.
(Harold Hunt)</li>

<li>Destroy the pthread mutex and condition variables, used for
synchronization in the Multi-Window Window Manager, upon X Server
exit.  (Harold Hunt)</li>

</ul>
</td>
</tr>
</tbody>
</table>



<h4>Test72</h4>
<table>
<tbody>

<tr><td>Released: 2003-01-17 0153 EST</td></tr>

<tr><td>Committed to XFree86 CVS: 2003-02-12 1005 EST</td></tr>

<tr><td>Basis: Test71</td></tr>

<tr><td>Cygwin setup.exe package: XFree86-xserv-4.2.0-20</td></tr>

<tr><td>Download binary: no longer distributed</td></tr>

<tr><td>Download source: <a
href="http://www.msu.edu/~huntharo/xwin/shadow/xwin-20030117-0153.tar.bz2">xwin-20030117-0153.tar.bz2</a>
(100 KiB)</td></tr>

<tr><td>Changes:</td></tr>

<tr>
<td>
<ul>

<li>winmultiwindowwindow.c - Add an evil, naughty, ugly, shameless,
and worthless hack to the multi-window mode to enable the X
Non-Rectangular Shape extension.  This will need to be evaluated and
fixed by other developers.  (Harold Hunt)</li>

</ul>
</td>
</tr>
</tbody>
</table>



<h4>Test71</h4>
<table>
<tbody>

<tr><td>Released: 2003-01-15 1007 EST</td></tr>

<tr><td>Committed to XFree86 CVS: 2003-02-12 1005 EST</td></tr>

<tr><td>Basis: Test70</td></tr>

<tr><td>Cygwin setup.exe package: XFree86-xserv-4.2.0-</td></tr>

<tr><td>Download binary: no longer distributed</td></tr>

<tr><td>Download source: <a
href="http://www.msu.edu/~huntharo/xwin/shadow/xwin-20030115-1007.tar.bz2">xwin-20030115-1007.tar.bz2</a>
(98 KiB)</td></tr>

<tr><td>Changes:</td></tr>

<tr>
<td>
<ul>

<li>This is an unstripped build to aid in debugging the new
multiwindow mode.</li>

<li>Attempt at fixing the segfault on startup that some users are
reporting.  (Kensuke Matsuzaki)</li>

<li>New <em>-multimonitor</em> command-line parameter that is used to
tell XWin.exe to display across all available displays.  (Nick
Crabtree)</li>

</ul>
</td>
</tr>
</tbody>
</table>



<h4>Test70</h4>
<table>
<tbody>

<tr><td>Released: 2003-01-12 1434 EST</td></tr>

<tr><td>Committed to XFree86 CVS: 2003-02-12 1005 EST</td></tr>

<tr><td>Basis: XFree86 CVS</td></tr>

<tr><td>Cygwin setup.exe package: XFree86-xserv-4.2.0-18</td></tr>

<tr><td>Download binary: no longer distributed</td></tr>

<tr><td>Download source: <a
href="http://www.msu.edu/~huntharo/xwin/shadow/xwin-20030112-1434.tar.bz2">xwin-20030112-1434.tar.bz2</a>
(95 KiB)</td></tr>

<tr><td>Changes:</td></tr>

<tr>
<td>
<ul>

<li>EXPERIMENTAL: New multiwindow mode (invoked with the
<em>-multiwindow</em> command-line parameter) that creates each
top-level X window in a Microsoft Windows window.  Note that there are
still debugging options on in this release, so do not expect
multiwindow mode to be polished enough for everyday use.  (Kensuke
Matsuzaki)</li>

</ul>
</td>
</tr>
</tbody>
</table>


<h4>Test69</h4>
<table>
<tbody>

<tr><td>Released: 2002-11-07 0015 EST</td></tr>

<tr><td>Committed to XFree86 CVS: 2003-02-12 1005 EST</td></tr>

<tr><td>Basis: XFree86 CVS</td></tr>

<tr><td>Cygwin setup.exe package: XFree86-xserv-4.2.0-16</td></tr>

<tr><td>Download binary: no longer distributed</td></tr>

<tr><td>Download source: <a
href="http://www.msu.edu/~huntharo/xwin/shadow/xwin-20021107-0015.tar.bz2">xwin-20021107-0015.tar.bz2</a>
(90 KiB)</td></tr>

<tr><td>Download xc/programs/Xserver/hw/xwin diff against 20021107
XFree86 CVS: <a
href="http://www.msu.edu/~huntharo/xwin/shadow/xwin-20021107-0015.diff">xwin-20021107-0015.diff</a>
(3 KiB)</td></tr>

<tr><td>Changes:</td></tr>

<tr>
<td>
<ul>

<li>Fix memory leaks in rootless mode.  (Kensuke Matsuzaki)</li>

<li>The test releases, and all future stable releases, are now built
with GCC 3.2.  There were no problems encountered when switching to
the new compiler version.  (Harold Hunt)</li>

</ul>
</td>
</tr>
</tbody>
</table>



<h4>Test68</h4>
<table>
<tbody>

<tr><td>Released: 2002-10-20 2321 EDT</td></tr>

<tr><td>Committed to XFree86 CVS: 2002-10-31 0610 EST</td></tr>

<tr><td>Basis: XFree86 CVS</td></tr>

<tr><td>Cygwin setup.exe package: XFree86-xserv-4.2.0-15</td></tr>

<tr><td>Download binary: no longer distributed</td></tr>

<tr><td>Download source: <a
href="http://www.msu.edu/~huntharo/xwin/shadow/xwin-20021020-2321.tar.bz2">xwin-20021020-2321.tar.bz2</a>
(90 KiB)</td></tr>

<tr><td>Download xc/programs/Xserver/hw/xwin diff against 20021020
XFree86 CVS: <a
href="http://www.msu.edu/~huntharo/xwin/shadow/xwin-20021020-2321.diff">xwin-20021020-2321.diff</a>
(14 KiB)</td></tr>

<tr><td>Changes:</td></tr>

<tr>
<td>
<ul>

<li>Add support for non-rectangular windows created by the X Shape
Extension while in Rootless mode (e.g., ``XWin -rootless'').
(MATSUZAKI Kensuke)</li>

<li>Not in the release build, but in the sources: Clean up the RANDR
extension code to match the latest RANDR interface.  This can't be enabled
yet because it crashes on startup in 32 bit per pixel mode. (Harold Hunt)
</li>

</ul>
</td>
</tr>
</tbody>
</table>


<h4>Test67</h4>
<table>
<tbody>

<tr><td>Released: 2002-10-18 2248 EDT</td></tr>

<tr><td>Committed to XFree86 CVS: not yet</td></tr>

<tr><td>Basis: XFree86 CVS</td></tr>

<tr><td>Cygwin setup.exe package: XFree86-xserv-4.2.0-14</td></tr>

<tr><td>Download binary: no longer distributed</td></tr>

<tr><td>Download source: <a
href="http://www.msu.edu/~huntharo/xwin/shadow/xwin-20021018-2248.tar.bz2">xwin-20021018-2248.tar.bz2</a>
(90 KiB)</td></tr>

<tr><td>Download xc/programs/Xserver/hw/xwin diff against 20021018
XFree86 CVS: <a
href="http://www.msu.edu/~huntharo/xwin/shadow/xwin-20021018-2248.diff">xwin-20021018-2248.diff</a>
(1 KiB)</td></tr>

<tr><td>Changes:</td></tr>

<tr>
<td>
<ul>

<li>Turn off debugging message in winwindow.c/winAddRgn () that was
being printed thousands, if not millions, of times.  (Harold Hunt)</li>

</ul>
</td>
</tr>
</tbody>
</table>



<h4>Test66</h4>
<table>
<tbody>

<tr><td>Released: 2002-10-16 2004 EDT</td></tr>

<tr><td>Committed to XFree86 CVS: 2002-10-17 0400 EDT</td></tr>

<tr><td>Basis: XFree86 CVS</td></tr>

<tr><td>Cygwin setup.exe package: XFree86-xserv-4.2.0-13</td></tr>

<tr><td>Download binary: no longer distributed</td></tr>

<tr><td>Download source: <a
href="http://www.msu.edu/~huntharo/xwin/shadow/xwin-20021016-2004.tar.bz2">xwin-20021016-2004.tar.bz2</a>
(90 KiB)</td></tr>

<tr><td>Download xc/config/cf diff against 20021016 XFree86 CVS: <a
href="http://www.msu.edu/~huntharo/xwin/shadow/xc-config-cf-20021016-2004.diff">xc-config-cf-20021016-2004.diff</a>
(3 KiB)</td></tr>

<tr><td>Download xc/programs/Xserver/Imakefile diff against 20021016
XFree86 CVS: <a
href="http://www.msu.edu/~huntharo/xwin/shadow/xc-programs-Xserver-Imakefile-20021016-2004.diff">xc-programs-Xserver-Imakefile-20021016-2004.diff</a>
(2 KiB)</td></tr>

<tr><td>Download xc/programs/Xserver/hw/xwin diff against 20021016
XFree86 CVS: <a
href="http://www.msu.edu/~huntharo/xwin/shadow/xwin-20021016-2004.diff.bz2">xwin-20021016-2004.diff.bz2</a>
(22 KiB)</td></tr>

<tr><td>New files in xwin: <a
href="http://www.msu.edu/~huntharo/xwin/shadow/xwin-newfiles-20021016-2004.tar.bz2">xwin-newfiles-20021016-2004.tar.bz2</a>
(10 KiB)</td></tr>

<tr><td>Changes:</td></tr>

<tr>
<td>
<ul>

<li>Include an X icon and the necessary build rules for building
Windows resource files (even while cross compiling).  (Harold Hunt,
Jehan Bing)</li>

<li>Include a preliminary rootless mode.  (MATSUZAKI Kensuke)</li>

<li>XF86Configfile suppport.  (Alexander Gottwald)</li>

<li>Scrollbars support.  (Jehan Bing, Harold Hunt)</li>

<li>Warning dialog on disruptive screen depth change --- not quite perfect.
(Harold Hunt)</li>

</ul>
</td>
</tr>
</tbody>
</table>


<h4>Test65</h4>
<table>
<tbody>

<tr><td>Released: 2002-07-16 0051 EDT</td></tr>

<tr><td>Committed to XFree86 CVS: not yet</td></tr>

<tr><td>Basis: XFree86 CVS</td></tr>

<tr><td>Cygwin setup.exe package: XFree86-xserv-4.2.0-12</td></tr>

<tr><td>Download binary: no longer distributed</td></tr>

<tr><td>Download source: <a
href="http://www.msu.edu/~huntharo/xwin/shadow/xwin-20020716-0051.tar.bz2">xwin-20020716-0051.tar.bz2</a>
(84 KiB)</td></tr>

<tr><td>Changes:</td></tr>

<tr>
<td>
<ul>

<li>Enable initial scrollbar support, when the new ``-scrollbars''
command-line argument is passed.  (Jehan Bing, Harold Hunt)</li>

<li>Correct the preprocesor definition of PROJECTROOT for
xc/programs/Xserver/hw/xwin/Imakefile.  (Alexander Gottwald)</li>

</ul>
</td>
</tr>
</tbody>
</table>


<h4>Test64</h4>
<table>
<tbody>

<tr><td>Released: 2002-07-08 2212 EDT</td></tr>

<tr><td>Committed to XFree86 CVS: not yet</td></tr>

<tr><td>Basis: XFree86 CVS</td></tr>

<tr><td>Cygwin setup.exe package: XFree86-xserv-4.2.0-11</td></tr>

<tr><td>Download binary: no longer distributed</td></tr>

<tr><td>Download source: <a
href="http://www.msu.edu/~huntharo/xwin/shadow/xwin-20020708-2212.tar.bz2">xwin-20020708-2212.tar.bz2</a>
(81 KiB)</td></tr>

<tr><td>Download xc/programs/Xserver/Imakefile diff against 20020708
XFree86 CVS: <a
href="http://www.msu.edu/~huntharo/xwin/shadow/xc-programs-Xserver-Imakefile-20020708-2212.diff">xc-programs-Xserver-Imakefile-20020708-2212.diff</a>
(2 KiB)</td></tr>

<tr><td>Download xwin diff against 20020708 XFree86 CVS: <a
href="http://www.msu.edu/~huntharo/xwin/shadow/xwin-20020708-2212.diff.bz2">xwin-20020708-2212.diff.bz2</a>
(3 KiB)</td></tr>

<tr><td>New files in xwin: <a
href="http://www.msu.edu/~huntharo/xwin/shadow/xwin-newfiles-20020708-2212.tar.bz2">xwin-newfiles-20020708-2212.tar.bz2</a>
(8 KiB)</td></tr>

<tr><td>Changes:</td></tr>

<tr>
<td>
<ul>

<li>winconfig.c, winconfig.h, winmsg.c, winmsg.h, InitOutput.c,
winkeybd.c - Add support for using XF86Config-style configuration
files.  (Alexander Gottwald)</li>

</ul>
</td>
</tr>
</tbody>
</table>


<h4>Test63</h4>
<table>
<tbody>

<tr><td>Released: 2002-07-04 0300 EDT</td></tr>

<tr><td>Committed to XFree86 CVS: 2002-07-06 0959 UTC</td></tr>

<tr><td>Basis: Test62</td></tr>

<tr><td>Cygwin setup.exe package: XFree86-xserv-4.2.0-10</td></tr>

<tr><td>Download binary: no longer distributed</td></tr>

<tr><td>Download source: <a
href="http://www.msu.edu/~huntharo/xwin/shadow/xwin-20020704-0300.tar.bz2">xwin-20020704-0300.tar.bz2</a>
(75 KiB)</td></tr>

<tr><td>Download xc/config/cf/cygwin.cf diff against 20020704 XFree86 CVS: <a
href="http://www.msu.edu/~huntharo/xwin/shadow/xc-config-cf-cygwin.cf-20020704-1800.diff">xc-config-cf-cygwin.cf-20020704-1800.diff</a>
(3 KiB)</td></tr>

<tr><td>Download xc/programs/Xserver/Imakefile diff against 20020704
XFree86 CVS: <a
href="http://www.msu.edu/~huntharo/xwin/shadow/xc-programs-Xserver-Imakefile-20020704-1800.diff">xc-programs-Xserver-Imakefile-20020704-1800.diff</a>
(1 KiB)</td></tr>

<tr><td>Download xwin diff against 20020704 XFree86 CVS: <a
href="http://www.msu.edu/~huntharo/xwin/shadow/xwin-20020704-0300.diff.bz2">xwin-20020704-0300.diff.bz2</a>
(27 KiB)</td></tr>

<tr><td>Changes:</td></tr>

<tr>
<td>
<ul>

<li>General - Fix the broken build that was Test62.  Test62 crashed
during its startup sequence for anyone unfortunate to download it
before it was pulled from distribution.  (Harold Hunt)</li>

<li>win.h, winmisc.c, winpfbdd.c, winshadgdi.c, winshaddd.c,
winshadddnl.c, winscrinit.c - Reimplement the stride pixel
calculations that were removed in Test61.  The ``stride'' is the
number of whole pixels that fit in a padded scan line; in other words,
the stride is the number of bits in a scanline divided by the number
of bits used to store each pixel (i.e., bits per pixel).  We cannot
pass the simple pixel width of the window to the fb initialization
routines because sometimes we have invisible pixels on the scanline
that must be accounted for (e.g., when the number of pixels in the
width is odd).  Had anyone seen this bug they would have seen a server
that drew things diagonally (only -engine 2 seemed to exhibit this
problem).  (Harold Hunt)</li>

<li>winshaddd.c, winshadddnl.c - Add support for the `-clipupdates
num_boxes' parameter when using `-engine 2' or `-engine 4', in
addition to the previously supported `-engine 1'.  Once again, I can't
tell if this feature has any benefit whatsoever.  I need some
volunteers to perform rigorous testing with different values for the
threshold at which point updated boxes are collected into a clipping
region.  One may find the ``x11perf'' program beneficial here, as well
as ``glxgears'', which gives a frames per second reading.  Of course,
it would be most beneficial to have performance comparisons for a few
different machine types (processors, memory amounts, video cards, PCI
or AGP, etc.).  Update clipping is off by default.  (Harold Hunt)</li>

<li>win.h, InitOutput.c, winengine.c, winshaddd.c, winshadddnl.c,
winshadpfb.c - Change the DirectDraw module handle and function
pointers from screen privates to global variables.  Loading the
DirectDraw module and function pointers needs to be done only at
server initialization, not at screen initialization.  Similarly, we
don't need to unload and reload DirectDraw for each screen when the
server regenerates; rather, we need only unload DirectDraw when the
server is shutting down.  This cleanup makes it much for difficult to
misunderstand what is going on with the DirectDraw module handle and
function pointers.  (Harold Hunt)</li>

<li>win.h, InitOutput.c, winengine.c - Detect the supported engines
only once at startup, rather than once per screen initialization.
Rework the supported engine detection logic to assume that the
DirectDraw module handle and function pointers have already been
loaded if they are present and working.  (Harold Hunt)</li>

<li>win.h, InitOutput.c, winwndproc.c - Add a global module handle for
``comctl32.dll'' and ``_TrackMouseEvent''.  Try to get a pointer to
the _TrackMouseEvent function and print an informational message if we
cannot find the function, suggesting to the user that they install
Internet Explorer 3.0 or greater if they have not already done so.
We also set the _TrackMouseEvent function pointer to point to the no
operation function if we can't find a valid function so that any calls
to the function pointer will do nothing (instead of trying to
dereference a NULL and crashing).  Mouse pointer hiding/showing may be
messed up when we don't have _TrackMouseEvent, but the user can
remedy that by following the advice in the information message.
Remove our compile-time link to comctl32.dll.  (Harold Hunt)</li>

<li>InitOutput.c, winshadgdi.c, winshaddd.c, winshadddnl.c - Add an
`-emulatepseudo' parameter that causes a depth 8 PseudoColor visual to
be created in TrueColor modes, with the same limitations described in
the Test62 change log.  PseudoColor emulation is off by default.
(Harold Hunt)</li>

<li>winscrinit.c - Add special handling for 8 bits per pixel screens
when calculating the depth of the screen.  An 8 bit per pixel screen
has no color masks so we can't sum up the bits in the color masks.
Fortunately, we know that an 8 bit per pixel screen is always depth
8.  (Harold Hunt)</li>

</ul>
</td>
</tr>
</tbody>
</table>


<h4>Test62</h4>
<table>
<tbody>

<tr><td>Released: 2002-07-02 0026 EDT</td></tr>

<tr><td>Committed to XFree86 CVS: 2002-07-06 0959 UTC</td></tr>

<tr><td>Basis: Test61</td></tr>

<tr><td>Cygwin setup.exe package: XFree86-xserv-4.2.0-9</td></tr>

<tr><td>Download binary: no longer distributed</td></tr>

<tr><td>Download source: <a
href="http://www.msu.edu/~huntharo/xwin/shadow/xwin-20020702-0026.tar.bz2">xwin-20020702-0026.tar.bz2</a>
(73 KiB)</td></tr>

<tr><td>Download Xserver/Imakefile diff: <a
href="http://www.msu.edu/~huntharo/xwin/shadow/xc-programs-Xserver-Imakefile-20020702-0026.diff">xc-programs-Xserver-Imakefile-20020702-0026.diff</a>
(1 KiB)</td></tr>

<tr><td>Download xwin diff against 20020702 XFree86 CVS: <a
href="http://www.msu.edu/~huntharo/xwin/shadow/xwin-20020702-0026.diff.bz2">xwin-20020702-0026.diff.bz2</a>
(23 KiB)</td></tr>

<tr><td>Changes:</td></tr>

<tr>
<td>
<ul>

<li>winscrinit.c, InitOutput.c, winshadgdi.c, winshaddd.c,
winshadddnl.c - Correctly calculate the number of bits used to store
color information by counting the total number of bits that are set in
our color masks.  This should fix problems introduced in Test61 for
users with 24bpp or 15bpp displays.  (Alan Hourihane, Harold Hunt)</li>

<li>InitOutput.c, winshadgdi.c, win.h - Add support for an
experimental parameter, that only works with `-engine 1', that
combines a specified number of boxes in the shadow update region into
a GDI clipping region then performs a single Blt operation for the
entire shadow framebuffer to the primary framebuffer, using the
clipping region to constrain the Blt to the updated area.  You specify
the number of boxes in a region that should be combined into a
clipping region using the new `-clipupdates num_boxes' parameter; by
defaul the feature is disabled, which is done by setting num_boxes to
zero.  (Harold Hunt)</li>

<li>winshadgdi.c, winshaddd.c, winshadddnl.c - Add a call to
initialize an 8bpp PseudoColor visual on top of our TrueColor visual
when WIN_EMULATE_PSEUDO_SUPPORT is enabled; by default,
WIN_EMULATE_PSEUDO_SUPPORT is not enabled.  This new PseudoColor
visual will allow programs such as Magic 7.1 to display when
Cygwin/XFree86 is running with a TrueColor default visual; however,
the colors are all messed up.  It may be possible to fix the colors by
making changes to our local colormap handling funtions (and enabling
them in TrueColor mode, which they currently are not), or by making
some change to FB and/or SHADOW.  This feature is being added now
because Cygwin/XFree86 doesn't crash when we call
miSetVisualTypesAndMasks a second time; I must be doing something
differently now that fixed the crashing (probably the bpp and depth
handling fixes).  (Harold Hunt)</li>

<li>winshadgdi.c, winshaddd.c, winshaddnl.c - Add a #if conditional to
winInitVisuals* that calls miSetVisualTypesAndMasks or
fbSetVisualTypesAndMasks depending on if XFree86Server is defined.
Currently this isn't useful because Mesa (similar to Open GL) doesn't
work when XFree86Server is undefined.  I'll leave this here for now
for future reference.  (Harold Hunt)</li>

</ul>
</td>
</tr>
</tbody>
</table>


<h4>Test61</h4>
<table>
<tbody>

<tr><td>Released: 2002-06-27 0020 EDT</td></tr>

<tr><td>Committed to XFree86 CVS: 2002-07-06 0959 UTC</td></tr>

<tr><td>Basis: XFree86 CVS</td></tr>

<tr><td>Cygwin setup.exe package: XFree86-xserv-4.2.0-8</td></tr>

<tr><td>Download binary: no longer distributed</td></tr>

<tr><td>Download source: <a
href="http://www.msu.edu/~huntharo/xwin/shadow/xwin-20020627-0020.tar.bz2">xwin-20020627-0020.tar.bz2</a>
(72 KiB)</td></tr>

<tr><td>Changes:</td></tr>

<tr>
<td>
<ul>

<li>General - Fix the KDE 3.0 alpha-channel icon bug that appeared
only when running Windows at 32 bits per pixel.  Many more details
below.  (Alan Hourihane)</li>

<li>
<p>General - pScreenInfo->dwDepth used to refer to the depth that the
user specified with the -depth parameter or the depth returned by
GetDeviceCaps (BITSPIXEL) and pScreenInfo->dwBPP used to refer to the
bits of color per pixel.  For example, running Windows at 32 bit color
would mean dwDepth == 32 and dwBPP == 24.  It turns out that this was
exactly backwards from what it should be.</p>

<p>The dwDepth variable new refers to the color ``depth'' of a pixel,
that is, the number of bits that make up the color specification for a
pixel.  For example, a 32 bit pixel uses 24 bits to represent color
plus an 8 bit pad for alignment purposes and a 16 bit pixel can use 15
or 16 bits to represent color.  The dwBPP variable now refers to the
bits used to store each pixel, that is, the number of bits that each
pixel occupies in the framebuffer memory.  For example, a 32 bit pixel
occupies 32 bits in the framebuffer memory while a 24 bit pixel
occupies 24 bits in the framebuffer memory (the former pixels are 32
bit aligned, while the latter pixels are called ``packed'' because the
pixels are not aligned and any given pixel may actually be stored in
two separate 32 bit units).</p>

<p>The meaning of dwDepth and dwBPP was corrected throughout the
source code, touching files such as wincmap.c, winscrinit.c,
InitOutput.c, winshadddnl.c, winshaddd.c, winshadgdi.c,
winnativegdi.c, winpfbdd.c, and win.h.  Also, we modify the depth 24
pixmap format at runtime to use 24 bits per pixel, instead of 32, when
Windows is running in 24 bit color; this matches the Windows pixel
format when running in 24 bit color.</p>

<p>The end result of all of this is that we now no longer report that
we have a depth 32 visual, as depth 32 visuals do not exist.  What we
were previously calling a depth 32 visual is actually a depth 24
visual with a different bits per pixel.  Advertising a proper visual
when running Windows at 32 bit color corrects the problem of KDE 3.0
not displaying icons or text with alpha channels.  Alan did the
magical part of discovering the underlying problem, I did the grunt
work of cleaning the code and making sure that all of the corner cases
were still handled.  (Alan Hourihane, Harold Hunt)</p>
</li>

<li>winshaddd.c, winshadddnl.c, winshadgdi.c, win.h, winscrinit.c -
Remove the essentially unused dwStride and dwStrideBytes variables
from the ScreenInfoRec.  (Harold Hunt)</li>

<li>winshaddd.c, winshadddnl.c - In winBltExposedRegionsShadowDD* ()
we try to restore the primary DirectDraw surface up to
WIN_REGAIN_SURFACE_RETRIES (currently 1) times when a bit block
transfer of the exposed regions fails.  This corrects the case where
switching a notebook from its internal display to an external display
(or vice versa) would cause the Cygwin/XFree86 window to blank and
fail to redraw itself until the Cygwin/XFree86 window was minimized
and then restored.  (Harold Hunt)</li>

</ul>
</td>
</tr>
</tbody>
</table>


<h4>Test60</h4>
<table>
<tbody>

<tr><td>Released: 2002-06-22 0007 EDT</td></tr>

<tr><td>Committed to XFree86 CVS: 2002-07-06 0959 UTC</td></tr>

<tr><td>Basis: XFree86 CVS</td></tr>

<tr><td>Cygwin setup.exe package: XFree86-xserv-4.2.0-7</td></tr>

<tr><td>Download binary: no longer distributed</td></tr>

<tr><td>Download source: <a
href="http://www.msu.edu/~huntharo/xwin/shadow/xwin-20020622-0007.tar.bz2">xwin-20020622-0007.tar.bz2</a>
(72 KiB)</td></tr>

<tr><td>Changes:</td></tr>

<tr>
<td>
<ul>

<li>Do a clean before rebuilding the server to ensure that the RENDER
extension is compiled in and enabled.  The RENDER extension is now
reenabled.  Unfortunately, the RENDER extension is the cause of the
display problem with KDE 3.0 icons that have alpha channels at a depth
of 32 bits per pixel.  It was previously thought that the LAYER and
RANDR extensions were causing the problem because a rebuild of the
server with RENDER enabled did not actually have RENDER enabled, thus
making it seem that RENDER was not causing the problem.  (Harold
Hunt)</li>

<li>wincreatwnd.c - Remove a seemingly erroneous return from
winCreateBoundingWindowFullScreen when we are using the Shadow GDI
engine.  This return was before we called UpdateWindow and
BringWindowToTop.  This seems to have snuck in at some point during
merging of my local 4.2.0 and main trees.  (Harold Hunt)</li>

</ul>
</td>
</tr>
</tbody>
</table>


<h4>Test59</h4>
<table>
<tbody>

<tr><td>Released: 2002-06-14 0826 EDT</td></tr>

<tr><td>Committed to XFree86 CVS: 2002-06-17 0804 UTC</td></tr>

<tr><td>Basis: Test58</td></tr>

<tr><td>Cygwin setup.exe package: XFree86-xserv-4.2.0-6</td></tr>

<tr><td>Download binary: no longer distributed</td></tr>

<tr><td>Download source: <a
href="http://www.msu.edu/~huntharo/xwin/shadow/xwin-20020614-0826.tar.bz2">xwin-20020614-0826.tar.bz2</a>
(72 KiB)</td></tr>

<tr><td>Download diff: <a
href="http://www.msu.edu/~huntharo/xwin/shadow/xc-config-cf-cygwin-20020614-0826.cf.diff">xc-config-cf-cygwin-20020614-0826.cf.diff</a>
(1 KiB)</td></tr>

<tr><td>Download diff: <a
href="http://www.msu.edu/~huntharo/xwin/shadow/xc-programs-Xserver-os-osinit-20020614-0826.c.diff">xc-programs-Xserver-os-osinit-20020614-0826.c.diff</a>
(1 KiB)</td></tr>

<tr><td>Changes:</td></tr>

<tr>
<td>
<ul>

<li>win.h, xc/config/cf/cygwin.cf - Stop building RANDR and disable
Cygwin/XFree86's LAYER support.  These two extensions were causing KDE
3.0 icons with alpha channels to not display.  RENDER is still
enabled.  (Harold Hunt)</li>

<li>xc/programs/Xserver/os/osinit.c - Don't close the stdin, stdout,
stderr file handles on Cygwin.  We are no longer a command-line
application so stdin, stdout, and stderr point to our first three file
handles, rather than to their usual locations.  This keeps the log
file from being closed when you run XWin.exe with 'start XWin.exe'.
(Stuart Adamson)</li>

<li>winwndproc.c - Call TrackMouseEvent to setup tracking for the
WM_MOUSELEAVE message.  When we see a WM_MOUSELEAVE message we show
the cursor if we are hiding it.  This will prevent cursors from
disappearing when using the -lesspointer parameter.  (Harold Hunt)</li>

</ul>
</td>
</tr>
</tbody>
</table>


<h4>Test58</h4>
<table>
<tbody>

<tr><td>Released: 2002-06-13 0102 EDT</td></tr>

<tr><td>Committed to XFree86 CVS: 2002-06-17 0804 UTC</td></tr>

<tr><td>Basis: Test57</td></tr>

<tr><td>Download binary: no longer distributed</td></tr>

<tr><td>Download source: <a
href="http://www.msu.edu/~huntharo/xwin/shadow/xwin-20020613-0102.tar.bz2">xwin-20020613-0102.tar.bz2</a>
(72 KiB)</td></tr>

<tr><td>Changes:</td></tr>

<tr>
<td>
<ul>

<li>InitOutput.c, XWin.man, win.h, winwndproc.c - Add the -lesspointer
command line parameter which causes Cygwin/XFree86 to hide the Windows
mouse cursor when the mouse is over any Cygwin/XFree86 window (whether
activated or not).  (Stuart Adamson)</li>

</ul>
</td>
</tr>
</tbody>
</table>


<h4>Test57</h4>
<table>
<tbody>

<tr><td>Released: 2002-06-08 2149 EDT</td></tr>

<tr><td>Committed to XFree86 CVS: 2002-06-17 0804 UTC</td></tr>

<tr><td>Basis: Test56</td></tr>

<tr><td>Download binary: no longer distributed</td></tr>

<tr><td>Download source: <a
href="http://www.msu.edu/~huntharo/xwin/shadow/xwin-20020608-2149.tar.bz2">xwin-20020608-2149.tar.bz2</a>
(72 KiB)</td></tr>

<tr><td>Changes:</td></tr>

<tr>
<td>
<ul>

<li>winwndproc.c - Call DefWindowProc after processing WM_NCMOUSEMOVE
messages.  This should fix the highlighting of the minimize and exit
buttons in Windows XP.  (Jehan Bing)</li>

<li>winwndproc.c, win.h, winallpriv.c - Make the cursor state
variable, fCursor, a static local variable in
winwndproc.c/winWindowProc (), rather than a member variable in the
winPrivScreenRec structure.  This makes sense because the Windows
cursor is either hidden or shown, as Windows does not hide or show the
mouse cursor on a per-window basis.  This also greatly simplifies the
handling of hiding and showing the Windows mouse cursor.  (Jehan
Bing)</li>

</ul>
</td>
</tr>
</tbody>
</table>


<h4>Test56</h4>
<table>
<tbody>

<tr><td>Released: 2002-06-07 2235 EDT</td></tr>

<tr><td>Committed to XFree86 CVS: 2002-06-17 0804 UTC</td></tr>

<tr><td>Basis: XFree86 CVS</td></tr>

<tr><td>Download binary: no longer distributed</td></tr>

<tr><td>Download source: <a
href="http://www.msu.edu/~huntharo/xwin/shadow/xwin-20020607-2235.tar.bz2">xwin-20020607-2235.tar.bz2</a>
(72 KiB)</td></tr>

<tr><td>Changes:</td></tr>

<tr>
<td>
<ul>

<li>InitOutput.c, win.h, wincreatewnd.c - Add a -nodecoration
parameter that creates the Cygwin/XFree86 window that is the same size
as the desktop, without a border.  The end effect is that you can
still get to the taskbar (even with Auto Hide enabled) and easily
switch to other application while not giving up any screen space to
the title bar, borders, etc.  (Jehan Bing)</li>

<li>winkeybd.c - Disregard the bogus key releases that we see when
losing the focus via Alt+Tab.  (Stuart Adamson)</li>

<li>win.h, winkeybd.h, winkeybd.c, winwndproc.c - Release all pressed
keys when the X server loses the keyboard focus.  (Stuart
Adamson)</li>

<li>InitOutput.c - Fix a typo that set iE3BTimeout to TRUE instead of
the specified timeout parameter when using the 3 button mouse
emulation timeout parameter with a single X screen.  (Stuart
Adamson)</li>

<li>wincursor.c - See if we are the foreground window before warping
the Windows cursor position.  This fixes the new bug that occurs if
you launch Cygwin/XFree86 and give another application the focus.  In
that case the Windows mouse cursor would still jump to the center of
the screen, even though the Cygwin/XFree86 window was not active.
(Harold Hunt)</li>

<li>winkeybd.h - Fix the bug where pressing both shift keys then
releasing them both would still cause all keyboard input to be
shift-modified.  The fix was to set the fixup for the non-extended
VK_SHIFT key to KEY_ShiftL.  (Harold Hunt)</li>

<li>wincreatewnd.c - Pass SW_SHOWNORMAL instead of SW_HIDE to
ShowWindow when running a DirectDraw engine in fullscreen mode.  This
fixes the bug where launching Cygwin/XFree86 then giving another
application the focus before the Cygwin/XFree86 window was displayed
would cause Cygwin/XFree86 to never display a window or register a
window handle on the Windows taskbar.  (Harold Hunt)</li>

</ul>
</td>
</tr>
</tbody>
</table>


<h4>Test55</h4>
<table>
<tbody>

<tr><td>Released: 2002-04-04 2206 EST</td></tr>

<tr><td>Committed to XFree86 CVS: 2002-04-11 0825 UTC</td></tr>

<tr><td>Basis: XFree86 CVS</td></tr>

<tr><td>Download binary: no longer distributed</td></tr>

<tr><td>Download source: <a
href="http://www.msu.edu/~huntharo/xwin/shadow/xwin-20020404-2206.tar.bz2">xwin-20020404-2206.tar.bz2</a>
(70 KiB)</td></tr>

<tr><td>Changes:</td></tr>

<tr>
<td>
<ul>

<li>wincursor.c - Try to fix winPointerWarpCursor by offsetting by the
coordinates of the Cygwin/XFree86 client area upper left-hand
corner.  (Harold Hunt)</li>

</ul>
</td>
</tr>
</tbody>
</table>


<h4>Test54</h4>
<table>
<tbody>

<tr><td>Released: 2002-04-03 2033 EST</td></tr>

<tr><td>Committed to XFree86 CVS: 2002-04-11 0825 UTC</td></tr>

<tr><td>Basis: XFree86 4.2.0 CVS</td></tr>

<tr><td>Download binary: no longer distributed</td></tr>

<tr><td>Download source: <a
href="http://www.msu.edu/~huntharo/xwin/shadow/xwin-20020403-2033.tar.bz2">xwin-20020403-2033.tar.bz2</a>
(70 KiB)</td></tr>

<tr><td>Changes:</td></tr>

<tr>
<td>
<ul>

<li>wincursor.c - Attempt to make WarpCursor function correctly by
adding function winWarpCursor.  The new function calls SetCursorPos ()
with the x and y coordinates passed to winWarpCursor.  Hopefully this
works.  (Harold Hunt)</li>

<li>winkeybd.c - Change winKeybdBell () to call MessageBeep (MB_OK)
instead of Beep (0, 0).  Beep () uses the PC speaker on Windows
NT/2000, which isn't desireable.  It also seems that Beep () may have
been causing freezes for some users.  (Harold Hunt)</li>

</ul>
</td>
</tr>
</tbody>
</table>


<h4>Test53</h4>
<table>
<tbody>

<tr><td>Released: 2001-11-11 1500 EST</td></tr>

<tr><td>Committed to XFree86 CVS: 2001-11-12 0348 EST</td></tr>

<tr><td>Basis: Test52</td></tr>

<tr><td>Download binary: no longer distributed</td></tr>

<tr><td>Download source: <a
href="http://www.msu.edu/~huntharo/xwin/shadow/xwin-20011111-1500.tar.bz2">xwin-20011111-1500.tar.bz2</a>
(69 KiB)</td></tr>

<tr><td>Changes:</td></tr>

<tr>
<td>
<ul>

<li>winkeybd.c - winRestoreModeKeyStates () - This function is
supposed to handle the case where the user switches out of
Cygwin/XFree86, changes the state of a mode key (i.e. Num Lock), then
returns to Cygwin/XFree86.  Back in May I replaced a macro, WIN_XOR,
with the C binary operator ^.  At the time I didn't realize that I was
using the binary operator instead of the logical operator.  The end
result is that some of the mode keys were toggled each time that
Cygwin/XFree86 gained and lost focus, regardless of whether the key
state had changed.  The WIN_XOR macro is being used again, and I have
added a note as to why the C xor operator cannot be used.  This has
been broken for months, I'm really surprised that no one noticed it
yet.</li>

<li>winwndproc.c - winWindowProc () - Move the mode key state
save/restore function calls to the WM_KILLFOCUS and WM_SETFOCUS
messages, from the WM_ACTIVATE message.</li>

</ul>
</td>
</tr>
</tbody>
</table>


<h4>Test52</h4>
<table>
<tbody>

<tr><td>Released: 2001-11-11 1200 EST</td></tr>

<tr><td>Committed to XFree86 CVS: 2001-11-11 1746 EST</td></tr>

<tr><td>Basis: XFree86 CVS</td></tr>

<tr><td>Download binary: no longer distributed</td></tr>

<tr><td>Download source: <a
href="http://www.msu.edu/~huntharo/xwin/shadow/xwin-20011111-1200.tar.bz2">xwin-20011111-1200.tar.bz2</a>
(69 KiB)</td></tr>

<tr><td>Changes:</td></tr>

<tr>
<td>
<ul>

<li>InitOutput.c - ddxProcessArgument () - Add an undocumented
parameter, -ignoreinput, to allow programmers to see how the
non-NativeGDI engines behave when they do not receive input
events.</li>

<li>win.h - Remove a duplicate declaration for winRestoreModeKeyStates
().</li>

<li>win.h - Add defines for ABS_AUTOHIDE and ABS_ALWAYSONTOP that
should be in Cygwin's w32api shellapi.h</li>

<li>winengine.c - New file.  Move winDetectSupportedEngines () and
winSetEngine () here from winscrinit.c</li>

<li>wincreatewnd.c - New file.  Move winCreateBoundingWindowFullScreen
() and winCreateBoundingWindowWindowed () here from winscrinit.c</li>

<li>wincreatewnd.c - Add a function, winAdjustForAutoHide (), to
detect the location of auto-hide Window's TaskBars then back away one
pixel from those edges of the screen to allow the TaskBars to popup
when the mouse is moved over them.</li>

<li>winkeybd.c - winKeybdReleaseModifierKeys () - Don't check which
modifier keys are down when we lose focus, just release them all; this
doesn't have any adverse effect and it makes the code simpler.</li>

<li>winkeybd.c - Add a function, winSendKeyEvent () to simplify
sending a keystroke event.</li>

<li>winscrinit.c - Move winPaintBackground () to winmisc.c</li>

<li>winwndproc.c - winWindowProc () - Remove duplicate checks for
pScreenPriv == NULL.</li>

<li>winwndproc.c - winWindowProc () - Only reload the privates
property when the window handle has changed.  I think I did this
correctly this time around.</li>

<li>winwndproc.c - winWindowProc () - WM_HOTKEY - Create an engine
specific function to handle the Alt+Tab hotkey.  Move the Primary FB
engine's functionality into that new engine specific function.  Set all
other engine's function to perform no operation.</li>

<li>winwndproc.c - winWindowProc () - Change the check on input events
from pScreenInfo->dwEngine == WIN_ENGINE_NATIVE_GDI to
pScreenInfo->fIgnoreInput.</li>

</ul>
</td>
</tr>
</tbody>
</table>


<h4>Test51</h4>
<table>
<tbody>

<tr><td>Released: 2001-10-30 1000 EST</td></tr>

<tr><td>Committed to XFree86 CVS: 2001-11-01 0724 EST</td></tr>

<tr><td>Basis: XFree86 CVS</td></tr>

<tr><td>Download binary: no longer distributed</td></tr>

<tr><td>Download source: <a
href="http://www.msu.edu/~huntharo/xwin/shadow/xwin-20011030-1000.tar.bz2">xwin-20011030-1000.tar.bz2</a>
(69 KiB)</td></tr>

<tr><td>Changes:</td></tr>

<tr>
<td>
<ul>

<li>The NativeGDI engine now correctly draws the familiar X background
on startup.</li>

<li>The NativeGDI engine is now allowed to continue past the point of
drawing the X background, as a few needed spans operations are now
implemented.</li>

<li>Check out the NativeGDI engine yourself by launching 'XWin -engine
16'.  You'll see a series of message boxes telling you what operations
have been completed and /tmp/XWin.log will have over one thousand
lines describing those operations.  Note: The NativeGDI engine doesn't
do anything useful yet, other than drawing the background and a
primitive cursor.</li>

</ul>
</td>
</tr>
</tbody>
</table>


<h4>Test50</h4>
<table>
<tbody>

<tr><td>Released: 2001-10-20 1622 EDT</td></tr>

<tr><td>Committed to XFree86 CVS: 2001-10-22 1122 EDT</td></tr>

<tr><td>Basis: XFree86 CVS</td></tr>

<tr><td>Download binary: no longer distributed</td></tr>

<tr><td>Download source: <a
href="http://www.msu.edu/~huntharo/xwin/shadow/xwin-20011020-1622.tar.bz2">xwin-20011020-1622.tar.bz2</a>
(68 KiB)</td></tr>

<tr><td>Changes:</td></tr>

<tr>
<td>
<ul>

<li>General - The NativeGDI engine can now create the familiar X
background pattern that is used to fill the initial X Server screen.
However, an all white pattern, instead of the correct pattern, is
being used to fill the server screen.  I can't find the mistake in
winfillsp.c, wingetsp.c, or winsetsp.c, so I'm making this release to
see if anyone can find the mistake.</li>

<li>winwndproc.c/winWindowProc () - Replace #if
!WIN_NATIVE_GDI_SUPPORT checks with checks for pScreenInfo->dwEngine
== WIN_SERVER_NATIVE_GDI.  Certain sections of winWindowProc (), such
as mouse input, cannot yet be processed by the NativeGDI engine.
Prohibiting user input causes the server startup process to be the
same every time, which makes debugging possible.</li>

<li>win.h/WIN_NATIVE_GDI_SUPPORT - Set to YES, again.  This works now
because we are no longer omitting sections of winwndproc.c (see
above).</li>

<li>win.h/DEBUG_MSG () - Make the macro accept a format string and a
variable list of data parameters in a similar manner to printf ().
DEBUG_MSG () sends a text message to the Win32 API's MessageBox ()
function.</li>

<li>winpixmap.c/winCreatePixmap () - Call
winnativegdi.c/winCreateDIBNativeGDI () for device independent bitmap
(DIB) creation.</li>

<li>winnativegdi.c/winCreateDIBNativeGDI () - Setup a simple black and
white color table for monochrome DIBs.</li>

<li>win.h - Remove duplicate #include of stdio.h</li>

<li>win.h - Move debugging message macros to after stdio.h in
included.</li>

<li>win.h/winPrivPixmapRec - Change the pixmap bits pointer from void
* to BYTE *.</li>

<li>winfillsp.c, wingetsp.c, winsetsp.c, wingc.c - Don't select the
drawable bitmap in wingc.c, rather, select and deselect the drawable
bitmap in the function that operates upon it.  A given bitmap can only
be selected into one device context (hdc) at a time; selecting bitmaps
in wingc.c/winValidateGC () could cause a bitmap to be selected into
more than one hdc at a time which would cause graphics operations to
fail.</li>

<li>winfillsp.c, winsetsp.c - Check for a failure from SelectObject ()
when selecting bitmaps into a device context; this is a sanity check
to make sure that a bitmap was deselected after a previous
operation.</li>

<li>winwndproc./winWindowProc (), winshaddd.c/winCloseScreenShadowDD
(), winshadddnl.c/winCloseScreenShadowDDNL (),
winshadgdi.c/winCloseScreenShadowGDI (),
winpfbdd.c/winCloseScreenPrimaryDD () - Remove #if 0'd code for
clipboard chain functionality that was moved to the <a
href="http://xfree86.cygwin.com/devel/xwinclip/">xwinclip
program</a>.</li>

</ul>
</td>
</tr>
</tbody>
</table>


<h4>Test49</h4>
<table>
<tbody>

<tr><td>Released: 2001-10-03 0056 EDT</td></tr>

<tr><td>Committed to XFree86 CVS: 2001-10-04 1603 EDT</td></tr>

<tr><td>Basis: XFree86 CVS</td></tr>

<tr><td>Download binary: no longer distributed</td></tr>

<tr><td>Download source: <a
href="http://www.msu.edu/~huntharo/xwin/shadow/xwin-20011003-0056.tar.bz2">xwin-20011003-0056.tar.bz2</a>
(68 KiB)</td></tr>

<tr><td>Changes:</td></tr>

<tr>
<td>
<ul>

<li>Send ErrorF () output to XWin.log</li>

<li>Prevent XWin.exe from opening a DOS box on launch</li>

<li>Enable FatalError () vendor specific function, currently does
nothing</li>

<li>Cleanup winkeybd.c/winTranslateKey ().  Replace switch statement
with table lookup; table stored in new file winkeybd.h</li>

<li>Force ShadowGDI engine when Windows color depth is 8 bits and
!FullScreen</li>

</ul>
</td>
</tr>
</tbody>
</table>


<h4>Test48</h4>
<table>
<tbody>

<tr><td>Released: 2001-09-02 1252 EDT</td></tr>

<tr><td>Committed to XFree86 CVS: not yet</td></tr>

<tr><td>Basis: XFree86 CVS</td></tr>

<tr><td>Download binary: no longer distributed</td></tr>

<tr><td>Download source: no longer distributed</td></tr>

<tr><td>Changes:</td></tr>

<tr>
<td>
<ul>

<li>Revert the default screen initialization process to pre-Test46
functionality.  Document, with comments, what is happening so that I
don't accidentally mess it up again.</li>

<li>Remove the clipboard support introduced with Test46, as this
functionality is now handled by <a href="../xwinclip/">xwinclip</a>.
xwinclip will contain all clipboard support until the XWin.exe headers
are rewritten to prevent collisions between the X client headers and
the X Server headers.</li>

<li>Remove the Test47 binary from the servers to prevent people from
downloading it, as it is quite broken.</li>

</ul>
</td>
</tr>
</tbody>
</table>


<h4>Test47</h4>
<table>
<tbody>

<tr><td>Released: 2001-08-31 0115 EDT</td></tr>

<tr><td>Committed to XFree86 CVS: not yet</td></tr>

<tr><td>Basis: Test46</td></tr>

<tr><td>Download binary: no longer distributed</td></tr>

<tr><td>Download source: no longer distributed</td></tr>

<tr><td>Changes:</td></tr>

<tr>
<td>
<ul>

<li>Fix broken argument processing in Test46 when no -screen parameter
was passed.</li>

<li>Remove the Test46 binary from the servers to prevent people from
downloading it, as it is quite broken.</li>

</ul>
</td>
</tr>
</tbody>
</table>


<h4>Test46</h4>
<table>
<tbody>

<tr><td>Released: 2001-08-30 1830 EDT</td></tr>

<tr><td>Committed to XFree86 CVS: not yet</td></tr>

<tr><td>Basis: XFree86 CVS</td></tr>

<tr><td>Download binary: no longer distributed</td></tr>

<tr><td>Download source: no longer distributed</td></tr>

<tr><td>Changes:</td></tr>

<tr>
<td>
<ul>

<li>Open the Windows clipboard and dump new clipboard text to
XA_CUT_BUFFER0 whenever the Windows clipboard changes.  This provides
rudimentary one-way Windows to X clipboard integration.</li>

<li>Remove cruft used to call winInitializeDefaultScreens () before
our OsVendorInit () function was working properly.</li>

<li>Add xc/programs/Xserver/hw/xwin/winerror.c which contains a
function that we can use to customize the ErrorF () output.  We will
use this to redirect ErrorF () messages to a file so that we can start
XWin.exe without a console.</li>

</ul>
</td>
</tr>
</tbody>
</table>


<h4>Test45</h4>
<table>
<tbody>

<tr><td>Released: 2001-08-28 1734 EDT</td></tr>

<tr><td>Committed to XFree86 CVS: Prior to release</td></tr>

<tr><td>Basis: XFree86 CVS</td></tr>

<tr><td>Download binary: no longer distributed</td></tr>

<tr><td>Download source: no updates to hw/xwin, only to
miext/layer</td></tr>

<tr><td>Changes:</td></tr>

<tr>
<td>
<ul>

<li>Transposed arguments in layer CopyClip wrapper caused Mozilla to
break.  (Keith Packard)</li>

</ul>
</td>
</tr>
</tbody>
</table>


<h4>Test44</h4>
<table>
<tbody>

<tr><td>Released: 2001-08-15 1958 EDT</td></tr>

<tr><td>Committed to XFree86 CVS: 2001-08-16 0424 EDT</td></tr>

<tr><td>Basis: Test43</td></tr>

<tr><td>Download binary: no longer distributed</td></tr>

<tr><td>Download source: no longer distributed</td></tr>

<tr><td>Changes:</td></tr>

<tr>
<td>
<ul>

<li>Bump the client connection limit from 32 to 1024 by passing the
square of getdtablesize () to setdtablesize ().</li>

</ul>
</td>
</tr>
</tbody>
</table>


<h4>Test43</h4>
<table>
<tbody>

<tr><td>Released: 2001-08-13 1915 EDT</td></tr>

<tr><td>Committed to XFree86 CVS: 2001-08-16 0424 EDT</td></tr>

<tr><td>Basis: XFree86 CVS</td></tr>

<tr><td>Download binary: no longer distributed</td></tr>

<tr><td>Download source: no longer distributed</td></tr>

<tr><td>Changes:</td></tr>

<tr>
<td>
<ul>

<li>Fix, finish, and enable miext/layer support.  (Harold Hunt)</li>

</ul>
</td>
</tr>
</tbody>
</table>


<h4>Test42</h4>
<table>
<tbody>

<tr><td>Released: 2001-08-04 1347 EDT</td></tr>

<tr><td>Committed to XFree86 CVS: 2001-08-06 0703 EDT</td></tr>

<tr><td>Basis: XFree86 CVS</td></tr>

<tr><td>Download binary: no longer distributed</td></tr>

<tr><td>Download source: no longer distributed</td></tr>

<tr><td>Changes:</td></tr>

<tr>
<td>
<ul>

<li>Add support to handle Ctrl+Alt+Backspace as shutdown signal.
(Alexander Gottwald)
</li>

<li>Add command line options to enable/disable each of the two key
combos that cause the server to shutdown.  (Alexander Gottwald)</li>

<li>Disable the -ansi build flag.  Causes the 'hypot' function to be
correctly prototyped, fixing some crashes.  (Brian Genisio, Alan
Hourihane)</li>

<li>Fix a namespace conflict in xc/lib/font/Type1/regions.c by
renaming 'infinity' to '_infinity'.  (Alan Hourihane)</li>

</ul>
</td>
</tr>

<tr><td>Usage:</td></tr>

<tr>
<td>
<ul>

<li>-[no]winkill enables/disables the Alt+F4 server shutdown key
combo.</li>

<li>-[no]unixkill enables/disables the Ctrl+Alt+Backspace server
shutdown key combo.</li>

<li>Default behavior:
<ul>

<li>Alt+F4: enabled</li>

<li>Ctrl+Alt+Backspace: disabled</li>

</ul>
</li>

</ul>
</td>
</tr>

</tbody>
</table>


<h4>Test41</h4>
<table>
<tbody>

<tr><td>Released: 2001-07-26 1608 EDT</td></tr>

<tr><td>Committed to XFree86 CVS: 2001-07-31 0547</td></tr>

<tr><td>Basis: XFree86 CVS</td></tr>

<tr><td>Download binary: no longer distributed</td></tr>

<tr><td>Download source: no longer distributed</td></tr>

<tr><td>Changes:</td></tr>

<tr>
<td>
<ul>

<li>Abstract the GDI PseudoColor handling into a set of functions for
each engine.</li>

<li>Add support for PseudoColor visuals when using DirectDraw engines
in fullscreen 8 bit color modes.  Support may never be added for using
PseudoColor visuals with DirectDraw engines in windowed mode, as the
DirectDrawPalette object has the first ten and the last ten colors
reserved in windowed mode.  Thus, adding PseudoColor support for
windowed DirectDraw modes would be rather difficult.</li>

<li>Fall back on StaticColor if running a DirectDraw engine in
windowed mode.</li>

<li>Turn off WIN_LAYER_SUPPORT for now, as it was causing the server to
crash on exit when running in 8 bit color modes.</li>

<li>Remove the WIN_PSEUDO_SUPPORT build flag; it is no longer used
because the PseudoColor support is stable.</li>

</ul>
</td>
</tr>
</tbody>
</table>


<h4>Test40</h4>
<table>
<tbody>

<tr><td>Released: 2001-07-15 1615 EDT</td></tr>

<tr><td>Committed to XFree86 CVS: 2001-07-25 1031 EDT</td></tr>

<tr><td>Basis: Test39</td></tr>

<tr><td>Download binary: no longer distributed</td></tr>

<tr><td>Download source: no longer distributed</td></tr>

<tr><td>Changes:</td></tr>

<tr>
<td>
<ul>

<li>Remove tests for the return value of MapWindowPoints (), as a
return value of zero doesn't necessarily mean that the function
failed.  Rather, a return value of zero can simply indicate that the
from window and to window have the same upper-left hand corner.</li>

<li>Test the return value of pwinCreateBoundingWindow () in
winFinishScreenInitFB (), return FALSE if pwinCreateBoundingWindow ()
fails.</li>

</ul>
</td>
</tr>
</tbody>
</table>


<h4>Test39</h4>
<table>
<tbody>

<tr><td>Released: 2001-07-02 0503 EDT</td></tr>

<tr><td>Committed to XFree86 CVS: 2001-07-25 1031 EDT</td></tr>

<tr><td>Basis: XFree86 CVS</td></tr>

<tr><td>Download binary: no longer distributed</td></tr>

<tr><td>Download source: no longer distributed</td></tr>

<tr><td>Changes:</td></tr>

<tr>
<td>
<ul>

<li>Enable OsVenderInit () in hw/xwin/InitOutput.c by fixing a type in
the DDXOSINIT flag in xc/config/cf/cygwin.cf.  There as a 'D' missing
from the flag. (Harold Hunt)</li>

<li>Add a default screen in OsVenderInit () if no screen parameters
were processed by hw/xwin/InitOutput.c/ddxProcessArgument ().  This
allows Cygwin/XFree86 to startup without any parameters, such as what
will happen if ia user runs /usr/X11R6/bin/X. (Harold Hunt)</li>

</ul>
</td>
</tr>
</tbody>
</table>


<h4>Test38</h4>
<table>
<tbody>

<tr><td>Released: 2001-06-29 1717 EDT</td></tr>

<tr><td>Committed to XFree86 CVS: 2001-07-02 0538 EDT</td></tr>

<tr><td>Basis: Test37</td></tr>

<tr><td>Download binary: no longer distributed</td></tr>

<tr><td>Download source: no longer distributed</td></tr>

<tr><td>Changes:</td></tr>

<tr>
<td>
<ul>

<li>Pick up the value of the monitorResolution global variable that is
set by passing the '-dpi' parameter to XWin.exe. (Harold Hunt)</li>

<li>Add file winlayer.c, which provides the source code framework, and
intial implementations for RandR and miext/layer support.
Unfortunately, the layer support doesn't work correctly when it is
enabled.  The server just draws a black screen when layer support is
enabled.  I would appreciate it if someone with layer experience or
some extra time on their hands would look into finishing this. (Harold
Hunt)</li>

<li>Make PseudoColor, as opposed to StaticColor, the default visual
class when running the GDI engine at 8 bits per pixel. (Harold
Hunt)</li>

</ul>
</td>
</tr>
</tbody>
</table>


<h4>Test37</h4>
<table>
<tbody>

<tr><td>Released: 2001-06-26 0001 EDT</td></tr>

<tr><td>Committed to XFree86 CVS: 2001-07-02 0538 EDT</td></tr>

<tr><td>Basis: XFree86 CVS</td></tr>

<tr><td>Download binary: no longer distributed</td></tr>

<tr><td>Download source: no longer distributed</td></tr>

<tr><td>Changes:</td></tr>

<tr>
<td>
<ul>

<li>PseudoColor - Fixed the strange colors when redrawing portions of
the Cygwin/XFree86 window that have been covered then exposed by
another Window. (Harold Hunt)</li>

<li>Stop creating a fake PseudoColor visual in when using a TrueColor
display.  Emulating PseudoColor on TrueColor is a long standing
problem and will be handled by the RandR extension when it
stabilizes. (Harold Hunt)</li>

<li>Move the palette realization code into an engine specific
function. (Harold Hunt)</li>

<li>Move the screen redrawing code into an engine specific
function. (Harold Hunt)</li>

</ul>
</td>
</tr>
</tbody>
</table>


<h4>Test36</h4>
<table>
<tbody>

<tr><td>Released: 2001-06-24 1656 EDT</td></tr>

<tr><td>Committed to XFree86 CVS: 2001-07-02 0538 EDT</td></tr>

<tr><td>Basis: Test35</td></tr>

<tr><td>Download binary: no longer distributed</td></tr>

<tr><td>Download source: no longer distributed</td></tr>

<tr><td>Changes:</td></tr>

<tr>
<td>
<ul>

<li>Changed the PseudoColor whitePixel location from 255 to 1, which
allows Magic 7.1 to use the default colormap, as opposed to creating
its own.  This prevents colormap changes when moving into and out of
the Magic window, which keeps the window viewable when the focus
is in another X window. (Harold Hunt)</li>

<li>Brought the experimental Native GDI support back from the dead by
setting up Pixmap privates and GC privates so that the global device
context handles could be gotten rid of.  Actually, the global handles
were long since gone, as the code that used them was #if 0'd out.  I
managed to change the drawing logic in the process, so the code now
only draws a white window, whereas before it was drawing the X hatched
background. (Harold Hunt)</li>

<li>Rewrote the winFinishScreenInitNativeGDI () procedure so that it
defers most of the default setup work to miScreenInit (). (Harold Hunt)</li>

<li>Added winnativegdi.c, which includes functions to fit the Native
GDI support into the current engine framework. (Harold Hunt)</li>

</ul>
</td>
</tr>
</tbody>
</table>


<h4>Test35</h4>
<table>
<tbody>

<tr><td>Released: 2001-06-23 2225 EDT</td></tr>

<tr><td>Committed to XFree86 CVS: 2001-06-25 0703 EDT</td></tr>

<tr><td>Basis: Test34</td></tr>

<tr><td>Download binary: no longer distributed</td></tr>

<tr><td>Download source: no longer distributed</td></tr>

<tr><td>Changes:</td></tr>

<tr>
<td>
<ul>

<li>PseudoColor support is now enabled, albeit with lots of
caveats. (Harold Hunt)

<ul>

<li>PseudoColor is only supported by the GDI blitter (-engine 1), so
you have to pass the '-engine 1' parameter to XWin.exe.</li>

<li>PseudoColor is only supported when Windows is running in 256 color
mode (8 bit color); the GDI engine cannot change the Windows display
depth, so you must be running Windows in 256 color mode before
starting XWin.exe.</li>

<li>There are plenty of situations that cause the colors displayed by
Cygwin/XFree86 to become garbled.</li>

<li>Test35 has been tested only on Windows 2000.  There is no reason
why Test35 should not run on the other versions of Windows, but I
would appreciate some quick feedback on whether Test35 functions on
Windows 95, 98, Me, and NT 4.0 when running Windows in 256 color mode
and passing '-engine 1' to XWin.exe.</li>

</ul>
</li>

</ul>
</td>
</tr>
</tbody>
</table>


<h4>Test34</h4>
<table>
<tbody>

<tr><td>Released: 2001-06-21 1500 EDT</td></tr>

<tr><td>Committed to XFree86 CVS: 2001-06-25 0703 EDT</td></tr>

<tr><td>Basis: Test33</td></tr>

<tr><td>Download binary: no longer distributed</td></tr>

<tr><td>Download source: no longer distributed</td></tr>

<tr><td>Changes:</td></tr>

<tr>
<td>
<ul>

<li>Add desired display depth vs. current display depth as criteria
for whether to change the video mode when using a DirectDraw engine in
fullscreen. (Harold Hunt)</li>

<li>Add experimental support for a real PseudoColor visual.  Toggled
on and off with WIN_PSEUDO_SUPPORT in win.h. (Harold Hunt)</li>

<li>Add DirectDraw return values to error messages for failed function
calls in winshaddd.c and winshadddnl.c. (Harold Hunt)</li>

<li>The StaticColor colormap only had 20 colors when using the GDI
engine.  Create the colormap with all 256 colors in the default GDI
palette, and set the shadow DIB palette to the default GDI palette so
that all colors in the colormap display correctly.  In other words,
fix the StaticColor support when using the GDI engine. (Harold
Hunt)</li>

</ul>
</td>
</tr>
</tbody>
</table>


<h4>Test33</h4>
<table>
<tbody>

<tr><td>Released: 2001-06-19 2255 EDT</td></tr>

<tr><td>Committed to XFree86 CVS: 2001-06-25 0703 EDT</td></tr>

<tr><td>Basis: Test32</td></tr>

<tr><td>Download binary: no longer distributed</td></tr>

<tr><td>Download source: no longer distributed</td></tr>

<tr><td>Changes:</td></tr>

<tr>
<td>
<ul>

<li>Add warning message if the requested DIB or DirectDraw surface
will be larger than 16 MB.  There is a 16 MB size limit for DIBs in
Windows 95, 98, and, presumably, Me.  For more information, see <a
href="http://msdn.microsoft.com/library/psdk/gdi/bitmaps_5d4g.htm">MSDN
Library->Platform SDK->Graphics and Multimedia Services->Windows
GDI->Bitmaps->Bitmap Reference->Bitmap
Functions->CreateDIBitmap</a>. (Harold Hunt)</li>

<li>Re-disable UseSmartScheduler, and add a note to
xc/config/cf/cygwin.cf that UseSmartScheduler has terrible performance
on Cygwin. (Harold Hunt)</li>

<li>Add processing for the '-screen' command to handle 'WxH', if it is
present.  This is in addition to the new 'W H' format. (Harold Hunt)</li>

<li>Grab a new ddraw.h header from the Wine project.  The new header
has several fixes to function parameter types, thus preventing
compilation warnings, and a few fixes to some structures that may have
been causing DirectDraw Surface creation problems. (Harold Hunt)</li>

<li>Add a check for a NULL hardware device context being returned by
BeginPaint in the winBltExposedRegions functions. (Harold Hunt)</li>

<li>Add error messages and extra sanity checks to winBltExposedRegions
functions. (Harold Hunt)</li>

<li>Remove the ShadowWindowProc functions, as the Cygwin/XFree86
ShadowUpdateProcs do not need ShadowWindowProcs. (Harold Hunt)</li>

</ul>
</td>
</tr>
</tbody>
</table>


<h4>Test32</h4>
<table>
<tbody>

<tr><td>Released: 2001-06-17 2256 EDT</td></tr>

<tr><td>Committed to XFree86 CVS: 2001-06-25 0703 EDT</td></tr>

<tr><td>Basis: Test31</td></tr>

<tr><td>Download binary: no longer distributed</td></tr>

<tr><td>Changes:</td></tr>

<tr>
<td>
<ul>

<li>Process keyboard message repeat counts.  The repeat count is
usually 1 on fast or lightly loaded machines. (Harold Hunt)</li>

<li>Disable processing of the left and right Windows keys, as they
cause focus to be returned to Windows.  Some users were reporting that
this caused endless keypresses to show up in Cygwin/XFree86. (Harold
Hunt)</li>

</ul>
</td>
</tr>
</tbody>
</table>


<h4>Test31</h4>
<table>
<tbody>

<tr><td>Released: 2001-06-15 1953 EDT</td></tr>

<tr><td>Committed to XFree86 CVS: 2001-06-25 0703 EDT</td></tr>

<tr><td>Basis: XFree86 CVS</td></tr>

<tr><td>Download binary: no longer distributed</td></tr>

<tr><td>Changes:</td></tr>

<tr>
<td>
<ul>

<li>A set of recent releases changed the '-screen n
WIDTHxHEIGHTxDEPTH' parameter to '-screen n width height' and added
the '-depth color_bit_depth' parameter.  The '-depth color_bit_depth'
parameter is only used in fullscreen mode when using a DirectDraw
engine.  Some of that information was missing from previous change log
entries. (Harold Hunt)</li>

<li>Tell X Server to quit when Alt-F4 key combination is
pressed. (Harold Hunt)</li>

<li>Don't call IDirectDraw_SetDisplayMode if the desired mode is the
same as the current mode.  This makes fullscreen server startup and
switching back and forth between the server and Windows much
faster.  This also causes the current refresh rate to be used by
default in fullscreen mode, rather than the minimal refresh rate that
is chosen by DirectDraw when you change the display mode but do not
specify a refresh rate.  Translation: yay! (Harold Hunt)</li>

<li>Added '-refresh rate_in_Hz' command line parameter to specify a
refresh rate.  Specifying an invalid refresh rate will cause the X
Server to abort on startup. (Harold Hunt)</li>

<li>Switch from DirectDraw to DirectDraw2 to support changing the
refresh rate.  The minimum DirectDraw version required to date has
been DirectDraw3, which is not affected by this release; therefore, I
don't foresee anyone being forced to upgrade to a new version of
DirectDraw. (Harold Hunt)</li>

</ul>
</td>
</tr>
</tbody>
</table>


<h4>Test30</h4>
<table>
<tbody>

<tr><td>Released: 2001-06-13 0027 EDT</td></tr>

<tr><td>Committed to XFree86 CVS: 2001-06-15 0411</td></tr>

<tr><td>Basis: XFree86 CVS</td></tr>

<tr><td>Download binary: no longer distributed</td></tr>

<tr><td>Changes:</td></tr>

<tr>
<td>
<ul>

<li>Send release messages for modifier keys (Alt, Ctrl, and Shift) to
the X Server when Cygwin/XFree86 loses the Windows keyboard focus.
This fixes the keyboard problems experienced when locking an NT
workstation by pressing Ctrl-Alt-Del when Cygwin/XFree86 had the
keyboard focus. (Harold Hunt)</li>

</ul>
</td>
</tr>
</tbody>
</table>


<h4>Test29</h4>
<table>
<tbody>

<tr><td>Released: 2001-06-07 2034 EDT</td></tr>

<tr><td>Committed to XFree86 CVS: 2001-06-08 0408 EDT</td></tr>

<tr><td>Basis: XFree86 CVS</td></tr>

<tr><td>Download binary: no longer distributed</td></tr>

<tr><td>Changes:</td></tr>

<tr>
<td>
<ul>

<li>Be a little more clever about handling cursor hiding/unhiding when
the server has regenerated itself.  Server regeneration happens when
you log off of an XDMCP session and are subsequently presented with a
new XDMCP login screen.  This fix addresses the server error message,
"Couldn't get last screen privates". (Harold Hunt)</li>

</ul>
</td>
</tr>
</tbody>
</table>


<h4>Test28</h4>
<table>
<tbody>

<tr><td>Released: 2001-06-06 1427 EDT</td></tr>

<tr><td>Committed to XFree86 CVS: 2001-06-06 1406 EDT</td></tr>

<tr><td>Basis: Test27</td></tr>

<tr><td>Download binary: no longer distributed</td></tr>

<tr><td>Changes:</td></tr>

<tr>
<td>
<ul>

<li>Detect when the cursor has crossed into a new X screen without
causing a Windows activation event; notify the cursor handling code
that the transition has happened.  (e.g. Launch two screens, place
them side by side, then move the cursor between them; previously, the
mouse events from the second screen would cause mouse movement on the
first screen, not on the second screen.) (Harold Hunt)</li>

<li>Improve cursor hiding/unhiding when using multiple screens
(e.g. 'XWin -screen 0 640x480 -screen 1 640x480').  Cursor
hiding/unhiding with multiple screens is not perfect yet, but using
multiple screens is now much more bearable. (Harold Hunt)</li>

</ul>
</td>
</tr>
</tbody>
</table>


<h4>Test27</h4>
<table>
<tbody>

<tr><td>Released: 2001-06-05 2009 EDT</td></tr>

<tr><td>Committed to XFree86 CVS: 2001-06-06 1406 EDT</td></tr>

<tr><td>Basis: Test26</td></tr>

<tr><td>Download binary: no longer distributed</td></tr>

<tr><td>Changes:</td></tr>

<tr>
<td>
<ul>

<li>Added a debug message to display the value returned by a failed
call to IDirectDraw_SetDisplayMode ().</li>

</ul>
</td>
</tr>
</tbody>
</table>


<h4>Test26</h4>
<table>
<tbody>

<tr><td>Released: 2001-06-05 0723 EDT</td></tr>

<tr><td>Committed to XFree86 CVS: 2001-06-06 1406 EDT</td></tr>

<tr><td>Basis: XFree86 CVS</td></tr>

<tr><td>Download binary: no longer distributed</td></tr>

<tr><td>Changes:</td></tr>

<tr>
<td>
<ul>

<li>Try installing a PseudoColor visual after the real visual to see
if this helps programs that require an 8 bit PseudoColor visual.  Try
running such programs at TrueColor depths (bit depth >= 15) and at
StaticColor (bit depth == 8). (Harold Hunt)</li>

</ul>
</td>
</tr>
</tbody>
</table>


<h4>Test25</h4>
<table>
<tbody>

<tr><td>Released: 2001-06-05 0335 EDT</td></tr>

<tr><td>Committed to XFree86 CVS: 2001-06-05 0614 EDT</td></tr>

<tr><td>Basis: Test24</td></tr>

<tr><td>Download binary: no longer distributed</td></tr>

<tr><td>Changes:</td></tr>

<tr>
<td>
<ul>

<li>Added support for 8 bit display modes in both the GDI and
DirectDraw based server engines!  Currently, 8 bit mode is handled
using a StaticColor visual, which means that the values in the color
palette cannot be changed by X clients at runtime.  That should be
okay for most people, as the primary purpose of 8 bit display mode
support is to ensure that new users have a good first impression of
running Cygwin/XFree86; it is likely that most new users will
eventually move on to higher color modes. (Harold Hunt)</li>

<li>Verify that the desired or current display depth is in the list of
supported depths when starting the server.  This is now a mostly
useless feature, due to 8 bit mode support. (Harold Hunt)</li>

</ul>
</td>
</tr>
</tbody>
</table>


<h4>Test24</h4>
<table>
<tbody>

<tr><td>Released: 2001-06-03 2030 EDT</td></tr>

<tr><td>Committed to XFree86 CVS: 2001-06-05 0614 EDT</td></tr>

<tr><td>Basis: XFree86 4.1.0</td></tr>

<tr><td>Download binary: no longer distributed</td></tr>

<tr><td>Changes:</td></tr>

<tr>
<td>
<ul>

<li>Remove depth from '-screen n WxHxD' parameter, now the parameter
is '-screen n WxH'. (Harold Hunt)</li>

<li>Add optional '-depth n' parameter, only used with DirectDraw
engines in fullscreen mode. (Harold Hunt)</li>

<li>Remove unused '-linebias n' parameter. (Harold Hunt)</li>

<li>Remove unused '-blackpixel n' parameter. (Harold Hunt)</li>

<li>Remove unused '-whitepixel n' parameter. (Harold Hunt)</li>

<li>Normalize naming of a few global variables. (Harold Hunt)</li>

<li>Replace lingering fprintf ()'s with ErrorF ()'s. (Harold
Hunt)</li>

<li>Move #include of atKeynames.h from win.h to winkeybd.c (The header
is only needed in winkeybd.c). (Harold Hunt)</li>

<li>Remove BuildDPMS cruft from hw/xwin/Imakefile, as display power
management will *always* be handled by Windows, not by X. (Harold
Hunt)</li>

<li>Remove BuildDPMS cruft from Xserver/Imakefile. (Harold Hunt)</li>

<li>General cleanup and consolidation of Xserver/Imakefile #if
XWinServer section. (Harold Hunt)</li>

</ul>
</td>
</tr>
</tbody>
</table>


<h4>Test23</h4>
<table>
<tbody>

<tr><td>Released: 2001-05-07 0309 EDT</td></tr>

<tr><td>Committed to XFree86 CVS: 2001-05-08 0415 EDT</td></tr>

<tr><td>Basis: Test22</td></tr>

<tr><td>Download binary: no longer distributed</td></tr>

<tr><td>Changes:</td></tr>

<tr>
<td>
<ul>

<li>Added 3 button mouse emulation support. (Alexander Gottwald,
Harold Hunt)</li>

<li>Removed extraneous text following an #endif from winshadgdi.c
(Harold Hunt)</li>

<li>Pulled mouse button handling out of winwndproc.c, deposited said
code into winmouse.c. (Harold Hunt)</li>

</ul>
</td>
</tr>
</tbody>
</table>


<h4>Test22</h4>
<table>
<tbody>

<tr><td>Released: 2001-05-01 1908 EDT</td></tr>

<tr><td>Committed to XFree86 CVS: 2001-05-01 2046 EDT</td></tr>

<tr><td>Basis: Test21</td></tr>

<tr><td>Download binary: no longer distributed</td></tr>

<tr><td>Changes:</td></tr>

<tr>
<td>
<ul>

<li>Pulled AltGr handling out of winwakeup.c/winWakeupHandler (),
deposited said code into winkeybd.c/winIsFakeCtrl_L (); this function
is now called from winwndproc.c/winWindowProc ().  Thanks to Alexander
Gottwald for showing me the GetMessageTime () function in his 3 button
emulation patches; I did not know about this function
previously. (Harold Hunt)</li>

<li>Some calls to ReleaseDC () had the hdc parameter in the wrong
position; thus, an hdc was being leaked. (Alan Hourihane, Harold
Hunt)</li>

<li>Fixed warnings on some calls to DirectDrawCreate () and
IDirectDraw_CreateSurface (). (Alan Hourihane, Harold Hunt)</li>

<li>Pulled engine specific WM_ACTIVATEAPP handling out of
winwndproc.c/winWindowProc ().  Created a new engine dependent
function to handle application activation/deactivation. (Harold
Hunt)</li>

<li>Fixed some coding and commenting style inconsistencies. (Harold
Hunt)</li>

<li>Fix Xrender extension by adding a call to miSetPixmapDepths () in
winscrinit.c/winFinishScreenInitFB (). (Alan Hourihane)</li>

</ul>
</td>
</tr>
</tbody>
</table>

<!--#include virtual="../../cygx-footer.html" -->

</body>
</html>
