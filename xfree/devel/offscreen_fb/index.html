<html lang="en-US">

<meta name="Author" content="Harold L Hunt II">
<meta name="keywords" content="xfree86, Cygwin, X, x window system, test 7, test7, direct input, microsoft, windows, x/server, xserver, x-server, Cygwin/XFree86, Win32, Win32API, Win32 API, DirectDraw, DirectX">
<meta name="description" content="Cygwin/XFree86 Test 7 Development Release"> 

<head>
<title>
Cygwin/XFree86 - Test 7 - Offscreen and No Direct Input
</title>

<style type="text/css">
<!--
body	{font-family: Arial, Helvetica, sans-serif}
p	{font-family: Arial, Helvetica, sans-serif; font-size: small}
a	{font-family: Arial, Helvetica, sans-serif}
a:hover {font-family: Arial, Helvetica, sans-serif; text-decoration: none}
-->
</style>
</head>

<body>

<h3>
<a href="http://sources.redhat.com/cygwin/xfree/">
Cygwin/XFree86</a> - Test 7 - Offscreen and No Direct Input
</h3>

<p>
Last updated: 24Feb2001 1549 EST
</p>

<p>Test 7 is a development release, it was never intended to become a stable release, and it never will become a stable release.  Test 7 is the result of my efforts to learn how the framebuffer based Cygwin/XFree86 worked, and to see if I could make the framebuffer based Cygwin/XFree86 work on Windows 95/98/Me.  Ultimately, I failed.  :-)  I can say with confidence that you cannot create a safe, framebuffer based X server on Windows 95/98/Me; you could write a pseudo-video driver that exposed the video memory to the X server, but that would be very risky and difficult to support.</p>

<p>Test 7 operates by drawing all X server graphics to an offscreen framebuffer and occassionally copying the offscreen framebuffer to the primary framebuffer.  This method makes locking the primary framebuffer unnecessary; locking the primary framebuffer causes the framebuffer based Cygwin/XFree86 to crash on Windows 95/98/Me.</p>

<p>Test 7 uses standard Windows keyboard and mouse input mechanisms, as opposed to DirectInput, which the stable framebuffer based Cygwin/XFree86 uses.  Originally it was thought that switching over to the standard input mechanisms would fix compatibility issues with non-US keyboards; however, there still seem to be compatibility issues with non-US keyboards.</p>

<h4>
Known Issues
</h4>
<ul>

<li>
Test 7 essentially shows you a video, at 15 frames per second, of what is happening on your X server; events, like mouse movement, may take place between frames, causing the display to appear jerky; some events may be missed completely (such as message that flashes on the screen briefly, then goes away).
</li>

<li>
Test 7 is a CPU cycle hog because it has to transfer the offscreen framebuffer to the primary display 15 times per second, regardless of whether the offscreen framebuffer has changed at all.  You may see between 5% and 100% CPU usage for the framebuffer transfers.
</li>

<li>
Test 7 does not fix issues with non-US and non standard US keyboards; in fact, Test 7 has its own issues with keyboards.
</li>

<li>
Test 7 does not have code to handle moving the server window; I just never got around to writing it, as this is simply a test release.  Don't move the server window.
</li>

<li>
You may experience strange behavior when moving the focus into and out of the server window; things seem to work better if you minimize the server window when it is not in use, and restore the window when you want to work with the server again.
</li>

<li>
This is not a feature complete release.  This is not a stable release.  In fact, all development on this series has ceased.  Any bugs you find are staying :)  Current development efforts are aimed implementing each of the X graphics functions using Windows GDI function calls, rather than exposing a framebuffer to the X server.
</li>

</ul>

</tbody>
</table>

<h4>
Downloading Test 7
</h4>
<h5>
Primary Download Site (MSU - ridiculously high bandwidth)
</h5>
<table>
<tbody>

<tr>
<td>
<a href="http://www.msu.edu/~huntharo/xwin/test7/OverlayAndNoDITest.tar.bz2">
OverlayAndNoDITest.tar.bz2</a>
</td>
</tr>

<tr>
<td>
<a href="http://www.msu.edu/~huntharo/xwin/test7/xf_dx-src.zip">
xf_dx-src.zip</a>
</td>
</tr>

</tbody>
</table>

<h5>
Secondary Download Site (Cygwin - low bandwidth, very busy)
</h5>
<table>
<tbody>

<tr>
<td>
<a href="ftp://sources.redhat.com/pub/cygwin/xfree/test/OverlayAndNoDITest.tar.bz2">
OverlayAndNoDITest.tar.bz2</a>
</td>
</tr>

<tr>
<td>
<a href="ftp://sources.redhat.com/pub/cygwin/xfree/test/xf_dx-src.zip">
xf_dx-src.zip</a>
</td>
</tr>

</tbody>
</table>

<h4>
Installing Test 7
</h4>

<p>Test 7 is an update to two files, XWin.exe and xf_dx.dll, that you install overtop of your current Cygwin/XFree86 installation.  Follow the procedures below to backup your original files and install the Test 7 files.  Run the following commands in a Cygwin shell:</p>

<table>
<tbody>

<tr>
<td>
cp OverlayAndNoDITest.tar.bz2 /usr/X11R6/bin
</td>
</tr>

<tr>
<td>
cd /usr/X11R6/bin
</td>
</tr>

<tr>
<td>
mv XWin.exe XWin.orig.exe
</td>
</tr>

<tr>
<td>
mv xf_dx.dll xf_dx.orig.dll
</td>
</tr>

<tr>
<td>
bunzip2 OverlayAndNoDITest.tar.bz2
</td>
</tr>

<tr>
<td>
tar -xf OverlayAndNoDITest.tar
</td>
</tr>

</tbody>
</table>

<h4>
Screenshots (Of course :)
</h4>

<table>
<tbody>

<tr>
<td>
<a href="CygwinXFree86-ScreenShot-gftp.png">
Cygwin/XFree86 displaying gftp running on my Linux machine</a>
</td>
</tr>

<tr>
<td>
<a href="CygwinXFree86-ScreenShot-xterm.png">
Cygwin/XFree86 showing a locally running xterm</a>
</td>
</tr>

</tbody>
</table>

<p>

<a href="http://sources.redhat.com/ml/cygwin-xfree/2000-q4/msg00254.html">Link to original mailing list announcement</a>

</body>

</html>