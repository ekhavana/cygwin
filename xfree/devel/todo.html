<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">

<html lang="en-US">

<head>
<title>Cygwin/XFree86 - Development - To-Do List</title>

<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<link rel="stylesheet" type="text/css" href="../xfree86.css">

</head>

<!--#include virtual="../cygx-header.html" -->

<p>Last updated: 2001-08-04 1347 EDT</p>

<p>Following is a list of open tasks on the Cygwin/XFree86
project:</p>

<table border="0" cellpadding="8">

<thead>
<tr>
<td><b>Summary</b></td>
<td><b>Description</b></td>
</tr>
</thead>


<tbody>

<!-- ToDo item template -->
<!--
<tr valign="top">
<td></td>

<td></td>
</tr>
-->

<tr valign="top">
<td>Windows display mode change while running</td>

<td>Catch and gracefully handle display mode changes while
Cygwin/XFree86 is running.  Some of this will require using
server-side RandR (resize and rotate extension) while other parts will
require catching window message and shuffling around device context
handles, reacquiring DirectDraw surfaces, etc.  Example case: assuming
a notebook computer that has an internal 1024x768 display and an
external 1280x1024 monitor; start Cygwin/XFree86 when the external
monitor is plugged in, thus the Windows desktop size will be 1280x1024
and the primary display is the external monitor; unplug the external
display so that the notebook reverts to its internal display; the
display area will have changed from 1280x1024 to 1024x768, and the
device context and/or DirectDraw surface handles may need to be
changed to point to the internal display.  Currently switching from
the monitor to the internal display will cause the Cygwin/XFree86
window to cease refreshing; the window will only be filled with
white.  Switching from the internal display to the external monitor
shows the Cygwin/XFree86 window with the content stretched to fit the
now larger window.</td>
</tr>


<tr valign="top">
<td>Windows clipboard integration</td>

<td>Create a bridge between Cygwin/XFree86 and the Windows clipboard
system.  It seems that copying items to the Windows clipboard when
they are selected in Cygwin/XFree86 can be done through functions in
the X Server executable.  However, it seems that copying Windows
clipboard items into Cygwin/XFree86 may require a helper client that
watches the Windows clipboard and makes those items available in
Cygwin/XFree86.  Robert Collins' has contributed /dev/clipboard
support to Cygwin that may be of use.</td>
</tr>


<tr valign="top">
<td>Network transparent audio</td>

<td>Cygwin/XFree86 needs the ability to play sounds from X clients or
windowing systems (Gnome, KDE, CDE, etc.) running on machines across
the network.  For example, you should hear, on your Cygwin/XFree86
machine, the sounds being played by KDE if you use XDMCP to logon to a
KDE session on a remote machine.  Investigate the various network
transparent audio systems, such as Gnome's <a
href="http://www.tux.org/~ricdude/dev.html">Esound</a> (<a
href="http://mail.gnome.org/archives/gnome-devel-list/2000-July/msg00266.html">appears
to be dead</a>, perhaps to be replaced by aRts), KDE's <a
href="http://www.arts-project.org/">aRts</a> (analog realtime
synthesizer), and <a
href="http://citeseer.nj.nec.com/levergood93audiofile.html">AudioFile</a>
(developed by Digital Equipment Coroporation in 1993 by Jim Gettys, et
al), as well as the two primary Linux sound driver systems: <a
href="http://www.alsa-project.org/">ALSA</a> (Advanced Linux Sound
Architecture), and <a href="http://www.opensound.com/">OSS</a> (Open
Sound System).  There is a lot of material to process in order to
understand this task, however, the return from completing this task
would be highly beneficial.</td>
</tr>


<tr valign="top">
<td>Fatal server error: negative sized edge?</td>

<td>This error started occurring sometime after XFree86 4.0.3 was
released.  The message is generated by
xc/lib/font/Type1/regions.c/ChangeDirection (), which is not code that
the Cygwin/XFree86 project would have modified.  We do not currently
have, and we desperately need, a reproducible test case for this bug.</td>
</tr>


<tr valign="top">
<td>xterm infinite loop on exit</td>

<td>Figure out, and hopefully fix, the xterm infinite loop on exit
that has shown up on recent builds.  This may actually be due to a
regression in a statically linked Cygwin library, if xterm statically
links any Cygwin libraries.  Otherwise it is more likely to be a
change made to xterm sometime after 2001-06-01.</td>
</tr>


<tr valign="top">
<td>Windowed mode window size</td>

<td>Currently we subtract one pixel off the bottom edge of a windowed
X Server if the window height is as tall as the screen; this is soley
to allow hidden Start bars to "pop up" when you bump the mouse against
them.  Needless to say, this is a horrible kludge, as it doesn't even
check to see if the Start bar is at that bottom of the screen (could
be on the left side, right side, or top of the screen).  Furthermore,
we don't handle any sort of window message that would tell us if the
Start bar has moved.  It may be that simply changing our window style
would allow the Start bar to pop up without having to adjust the
window dimensions.  Start off by looking at
xc/programs/Xserver/hw/xwin/winscrinit.c/winCreateBoundingWindowWindowed
().</td>
</tr>


<tr valign="top">
<td>Backing store support</td>

<td>The functions to intialize backing store support are being called,
but it has yet to be verified whether the backing store support is
actually working.  Take a look at
xc/programs/Xserver/hw/xwin/winscrinit.c/winFinishScreenInitFB () for
the backing store initialization calls.</td>
</tr>


<tr valign="top">
<td>Mutliple monitors</td>

<td>Fix some oddities in window maximize, minimize, and restore
behaviour running the X Server on a multi-monitor system.  The project
really needs a developer with a multi-monitor system to look into
this.  Start off by looking at the activation message processing in
xc/programs/Xserver/hw/xwin/winwndproc.c/winWindowProc () and the
engine dependent procedures called in either winshaddd.c,
winshadddnl.c, or winshadgdi.c.</td>
</tr>


<tr valign="top">
<td>Multiple X Servers</td>

<td>Fix some oddities when running the X Server with multiple screen
parameters, such as 'XWin -screen 0 640 480 -screen 1 1024 768
-fullscreen'.  Notice, that will launch both a windowed X Server with
dimensions 640x480 and a fullscreen X Server with dimensions 1024x768,
as any parameters preceeding all -screen parameters are global to all
screens, while any parameter following a -screen parameter only
applies to that -screen parameter.  Start off by looking at mouse and
activation message processing in
xc/programs/Xserver/hw/xwin/winwndproc.c/winWindowProc () and the
engine dependent procedures called in either winshaddd.c,
winshadddnl.c, or winshadgdi.c.</td>
</tr>


<tr valign="top">
<td>DirectDraw windowed PseudoColor</td>

<td>Figure out a satisfactory solution for enabling DirectDraw engines
to support PseudoColor visuals when running in 8 bit color modes.
DirectDraw reserves the first ten and the last ten colors in each
DirectDrawPalette object when running in windowed mode.  Therefore,
PseudoColor visuals are only supported with DirectDraw engines when
running in fullscreen 8 bit color modes.</td>
</tr>


<tr valign="top">
<td>DirectDraw header files</td>

<td>We currently distribute xc/programs/Xserver/hw/xwin/ddraw.h and
obj_base.h, which we got from the Wine project, in our CVS directory
but the headers should be merged with the Cygwin w32api headers.
Merging the headers into Cygwin's w32api package isn't as trivial as
it may seem, as the w32api headers duplicate some of the functionality
of the Wine headers; it seems that it would take several hours, if not
a few days, to sort out the differences and develop a workable
solution.</td>
</tr>

</tbody>
</table>

<!--#include virtual="../cygx-footer.html" -->

</body>
</html>
