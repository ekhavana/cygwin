<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Strict//EN' "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=us-ascii" />
    <link rel="stylesheet" type="text/css" href="style.css" />
    <title>Cygwin Contribution</title>
  </head>
<body>
<!--#include virtual="navbar.html" -->
<!--#include virtual="top.html" -->
<h1>How can I help out?</h1>
<p>This document deals with contributions to the Cygwin DLL and
Cygwin-specific utilities<a href="#cygwin-utilities">*</a>.
Although the space and internet connection for this site have been
paid for by Red Hat, <em>the vast majority</em> of the time for this
project is volunteer time, including the time spent by Red Hat
employees.  Volunteer time is always in short supply, so if you are
thinking about contributing, rest assured that your efforts will be
welcome.</p>

<p>Contributions to other packages in the Cygwin distribution are also
welcome and some of the principles involved are the same.  However, most
of the specific instructions here will not be applicable to utilities
like apache, bash, gawk, etc., which are generally found in linux
releases.  If you have a patch for any of those, send it along to the
cygwin mailing list and the appropriate package maintainer will respond.
If you want to contribute a package that is not currently part of the
Cygwin distribution, look <a href="setup.html">here</a>.
</p>

<p>If you are looking to donate money to cygwin developers then check out
the <a href="donations.html">donations page</a>.

<p>Two other important cygwin components are also not covered by the
guidelines set forth on this page.  The cygwin setup utility <a
href="http://sourceware.org/cygwin-apps/setup.html">"setup.exe"</a> and
the <a href="http://sourceware.org/newlib/">newlib library</a> (used by
cygwin for some common "libc"-like functions) also have different
contribution rules.  See their project pages for more information.</p>

<div id="background">
<b class="rtop"><b class="r1"></b><b class="r2"></b><b class="r3"></b><b class="r4"></b></b>
<h2>Building the development version of Cygwin</h2>
<b class="rbottom"><b class="r4"></b><b class="r3"></b><b class="r2"></b><b class="r1"></b></b>
</div><br>

<P>The code corresponding to cygwin1.dll is mostly in the winsup
directory with additional code coming from newlib/libc and newlib/libm.
Any changes you make should be to the <a href="git.html">current
development sources</a>.  This makes it much easier to integrate your
changes once they're completed and tested.  Note that the current GIT
tree (and the development snapshots) should compile, but they should
always be assumed to be unstable since they contain untested,
experimental code.

<P>Build instructions are included in the <a href="faq.html">FAQ</a> under
"How do I build Cygwin on my own?".

<p>Basically, just clone the newlib-cygwin GIT repository as mentioned on the
Cygwin <a href="git.html">GIT page</a>.

<div id="background">
<b class="rtop"><b class="r1"></b><b class="r2"></b><b class="r3"></b><b class="r4"></b></b>
<h2>Before you get started</h2>
<b class="rbottom"><b class="r4"></b><b class="r3"></b><b class="r2"></b><b class="r1"></b></b>
</div><br>

<p>Once you've checked out the sources, you will be able to avail
yourself of the "how*" files in the <tt>winsup/cygwin</tt> directory.
These are developer-written files which summarize various techniques
involved in cygwin design.  You should familiarize yourself with
their content before making changes to the subsystems that they describe.
</p>

<P>If your change is going to be a significant one in terms of the
size of your code changes, be aware that you will have to sign over
the copyright ownership of your code changes to Red Hat or the FSF
(depending on the source file) before we can include your changes in
the main source tree.  Your employer may also have to send us a
disclaimer stating that they have no claims to your contribution.
This is necessary for liability reasons.  Here is our <a
href="assign.txt">standard assignment form</a> for changes to Cygwin
that you can fill out, sign, and send back.</p>

<P>Finally, before you start modifying anything for real, you should
probably join the cygwin-developers mailing list and send it mail
describing what you want to do and how you want to do it so you
don't waste time working on something we can't integrate.  This also
allows us to keep track of what's being worked on so efforts aren't
duplicated.

<p>It should go without saying but when you start coding your change,
make sure that you adhere to the brace, indentation, and whitespace
style of the surrounding code.  For the most part, that means following
the <a href="http://www.gnu.org/prep/standards/html_node/Writing-C.html#Writing-C">
GNU coding standards</a> but some parts of the code which have been imported
from other sources use other styles.  Just pay close attention to the formatting
of the surrounding code and don't, e.g., add K&amp;R style coding to a file which
uses GNU formatting.</p>

<p>If you want to keep track of who's doing what to the sources, you can
subscribe to the cygwin-cvs and newlib-cvs mailing lists using the standard
subscription techniques employed for the <a href="lists.html">other
mailing lists</a>.</p>

<div id="background">
<b class="rtop"><b class="r1"></b><b class="r2"></b><b class="r3"></b><b class="r4"></b></b>
<h2>When you have finalized your changes</h2>
<b class="rbottom"><b class="r4"></b><b class="r3"></b><b class="r2"></b><b class="r1"></b></b>
</div><br>
<P>Once you've finished making and testing your changes, you should send
a unified diff to the <a href="mailto:cygwin-patches@cygwin.com">cygwin-patches list</a>.
As an example, if you have modified several files in /oss/newlib-cygwin/winsup,
then do the following in bash:</p>

<pre>
      cd /oss/newlib-cygwin
      git commit -a
      git format-patch
</pre>

<p>This will produce files with all of your changes newer that origin, making
it easy for someone to review and, if you don't have write access, push.  Send
the contents of this file <em>as plain text</em>.  Do not uuencode or otherwise
encrypt it.</p>

<P>Then send it to the cygwin-patches list in an email along with an
explanation of what the change does.  <em>Make sure that you include a
ChangeLog entry</em>.  If you have never used a ChangeLog before, refer to the
<a href="http://www.gnu.org/prep/standards/html_node/Change-Logs.html">GNU ChangeLog Standards</a>
and model your entry after other entries in the ChangeLog file next to your
changes.</p>

<p>ChangeLogs should <b>not</b> be sent as "diffs".  Just send the complete
ChangeLog entry, which is ideally part of the output of `git format-patch'
anyway.</p>
<p>Common patch submission problems include:
<ul>
<li>Missing ChangeLog.
<p><li>ChangeLog sent as part of "diff" rather than as a separate "non-diffed" entry.</p>
<li>Improper ChangeLog formatting:</p>
<ul>
<li>Missing function names (e.g. <tt>"* foo.cc: Don't increment x if y is negative"</tt>).
<li>Multiple functions or filenames on a ChangeLog line (e.g. <tt>"* foo.cc, bar.cc: Add argument to baf call."</tt>)
<li>Strange formatting (e.g. extra spaces or too many blank lines).
<li>Wrong "tense" (e.g. <tt>"Added one to x"</tt> rather than <tt>"Add one to x"</tt>).
<li>Incorrect use of continuation
with lists of functions.
<li>File entries use a "hanging indent" where text after a line beginning with an asterisk
is indented by two spaces.</li>
<li>No capitalization, or not terminated with a period (e.g. <tt>"* foo.c (bar): fixed off by one error"</tt>).
</ul>
<p><li>Diffs sent in uuencoded or otherwise encrypted fashion.</p>
<li>Diffs sent in improper form:</p>
<ul>
<li>Not "unidiff" format (i.e. no -u).
<li>Patch is uuencoded.
<li>Missing function names (i.e. no -p).
<li>Not an actual patch! (e.g. <tt>"I changed line 27 of foo.cc to this:"</tt>)
</ul>
</ul>

<P>Note that you must be subscribed to cygwin-developers and
cygwin-patches to send email to those lists.</p>

<P>Please feel free to ask questions about any of this.  We
would love it if more people made useful contributions -- this can be
one of the big advantages of free software; we all benefit from
everyone else's work as well as our own.</p>

<div id="background">
<b class="rtop"><b class="r1"></b><b class="r2"></b><b class="r3"></b><b class="r4"></b></b>
<h2>What needs doing</h2>
<b class="rbottom"><b class="r4"></b><b class="r3"></b><b class="r2"></b><b class="r1"></b></b>
</div><br>

<P>You can get a good idea of the current bugs and problem areas by
browsing the cygwin mailing list archives.  In addition, check out the
API calls portion of the FAQ and look for references to unimplemented
functions.</p>

<p>Remember that the cygwin-developers and cygwin-patches mailing lists are
intended only for people who are serious about augmenting the cygwin
DLL.  These lists are not intended as a vehicle for getting general
cygwin questions answered, for announcing ports of any utilities, or for
providing patches for anything other than the files in the "winsup"
directory.  And, again, you will first have to join the lists before you
are able to send email.</p>

<p>(If you just want to send email to the cygwin-patches mailing list
without receiving email you can send email to cygwin-patches-allow-subscribe
<b>at</b> cygwin <b>dot</b> com.  This will allow you to send email to
the list without receiving any of the email traffic.  Be advised,
however, that you may miss some messages about your patch if you do
this.)</p>
<br>
<p><a name="cygwin-utilities"><font size=-1>* Cygwin-specific utilities are any executable or
shared libraries distributed in the cygwin distribution tar file, i.e., those
files that are generated from the winsup/{cygwin,cygserver,utils} source directories.</font></p>
</div>
</body>
</html>
