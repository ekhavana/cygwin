<HTML>
<HEAD>
<title>How can I help out?</title>
</HEAD>
<!--#include virtual="cygwin-header.html"-->

<h1 align=center>How can I help out?</h1>

<p>This document deals with contributions to the Cygwin DLL and
Cygwin-specific utilities<a href="#cygwin-utilities">*</a>.
Although the space and internet connection for this site have been
paid for by Red Hat, <em>the vast majority</em> of the time for this
project is volunteer time, including the time spent by Red Hat
employees.  Volunteer time is always in short supply, so if you are
thinking about contributing, rest assured that your efforts will be
welcome.</p>

Contributions to other packages in the Cygwin distribution are also
welcome and some of the principles involved are the same.  However, most
of the specific instructions here will not be applicable to utilities
like apache, bash, gawk, etc., which are generally found in linux
releases.  If you have a patch for any of those, send it along to the
cygwin mailing list and the appropriate package maintainer will respond.
If you want to contribute a package that is not currently part of the
Cygwin distribution, look <a
href="http://cygwin.com/setup.html">here</a>.</p>

If you are looking to donate money to cygwin developers then check out
the <a href="donations.html">donations page</a>.

<p>Two other important cygwin components are also not covered by the
guidelines set forth on this page.  The cygwin setup utility <a
href="http://sourceware.org/cygwin-apps/setup.html">"setup.exe"</a> and
the <a href="http://sourceware.org/newlib/">newlib library</a> (used by
cygwin for some common "libc"-like functions) also have different
contribution rules.  See their project pages for more information.</p>

<H2>Building the development version of Cygwin</H2>

<P>The code corresponding to cygwin1.dll is mostly in the winsup
directory with additional code coming from newlib/libc and newlib/libm.
Any changes you make should be to the <a href="cvs.html">current
development sources</a>.  This makes it much easier to integrate your
changes once they're completed and tested.  Note that the current CVS
tree (and the development snapshots) should compile, but they should
always be assumed to be unstable since they contain untested,
experimental code.

<P>Build instructions are included in the <a href="faq/">FAQ</a> under
"How do I build Cygwin on my own?".  If your object directory is
/c/obj, the Cygwin dll you will build should be
/c/obj/i686-pc-cygwin/winsup/cygwin/new-cygwinxx.dll where xx represents
the current API_MAJOR version number (currently it is 1).

<P>Note that minimally, the top-level source tree needs to contain:

<blockquote>
Makefile.in, config, config-ml.in, config.guess, config.sub, configure,
configure.in, include, install-sh, ltconfig, ltmain.sh, missing, move-if-change,
newlib, symlink-tree, winsup, ylwrap.
</blockquote>

but you really should just check out the winsup module as mentioned on the Cygwin <a href="http://cygwin.com/cvs.html">CVS page</a>.

<H2>Before you get started</H2>

<p>Once you've checked out the sources, you will be able to avail
yourself of the "how*" files in the <tt>winsup/cygwin</tt> directory.
These are developer-written files which summarize various techniques
involved in cygwin design.  You should familiarize yourself with
their content before making changes to the subsystems that they describe.
</p>

<P>If your change is going to be a significant one in terms of the
size of your code changes, be aware that you will have to sign over
the copyright ownership of your code changes to Red Hat or the FSF
(depending on the source file) before we can include your changes in
the main source tree.  Your employer may also have to send us a
disclaimer stating that they have no claims to your contribution.
This is necessary for liability reasons.  Here is our <a
href="assign.txt">standard assignment form</a> for changes to Cygwin
that you can fill out, sign, and send back.</p>

<P>Finally, before you start modifying anything for real, you should
probably join the cygwin-developers mailing list and send it mail
describing what you want to do and how you want to do it so you
don't waste time working on something we can't integrate.  This also
allows us to keep track of what's being worked on so efforts aren't
duplicated.

<p>If you want to keep track of who's doing what to the sources, you can
subscribe to the cygwin-cvs and newlib-cvs mailing lists using the standard
subscription techniques employed for the <a href="lists.html">other
non-cvs mailing lists</a>.</p>

<H2>When you have finalized your changes</H2>
<P>Once you've finished making and testing your changes, you should send
a unified diff to the <a href="mailto:cygwin-patches@cygwin.com">cygwin-patches list</a>.
As an example, if you have modified several files in /c/src/winsup, then do the following
in bash:</p>

<p>
<pre>
      cd /c/src/winsup
      cvs diff -up &gt; /tmp/mypatch
</pre>

<p>This will produce one file with all of your changes, making it easy for someone
to review and apply.  Send the contents of this file <em>as plain text</em>.  Do not
uuencode or otherwise encrypt it.</p>

<P>Then send it to the cygwin-patches list in an email along with an
explanation of what the change does.  <em>Make sure that you include a ChangeLog
entry</em>.  If you have never used a ChangeLog before 1) refer to the <a
href="http://www.gnu.org/prep/standards/html_node/Change-Logs.html">GNU ChangeLog
Standards</a> and 2) model your entry after other entries in the file
winsup/ChangeLog.</p>

<p>Ideally, diffs should be sent as plain text with no encoding or other
special formatting.  ChangeLogs should <b>not</b> be sent as "diffs".
Just send the complete ChangeLog entry.</p>

<p>Common patch submission problems include:
<ul>
<li>Missing ChangeLog.
<p><li>ChangeLog sent as part of "diff" rather than as a separate "non-diffed" entry.</p>
<p><li>Improper ChangeLog formatting:</p>
<ul>
<li>Missing function names (e.g. <tt>"* foo.cc: Don't increment x if y is negative"</tt>).
<li>Multiple functions or filenames on a ChangeLog line (e.g. <tt>"* foo.cc, bar.cc: Add argument to baf call."</tt>)
<li>Strange formatting (e.g. extra spaces or too many blank lines).
<li>Wrong "tense" (e.g. <tt>"Added one to x"</tt> rather than <tt>"Add one to x"</tt>).
<li>Incorrect use of continuation
with lists of functions.
<li>File entries use a "hanging indent" where text after a line beginning with an asterisk
is indented by two spaces.</li>
<li>No capitalization, or not terminated with a period (e.g. <tt>"* foo.c (bar): fixed off by one error"</tt>).
</ul>
<p><li>Diffs sent in uuencoded or otherwise encrypted fashion.</p>
<p><li>Diffs sent in improper form:</p>
<ul>
<li>Not "unidiff" format (i.e. no -u).
<li>Patch is uuencoded.
<li>Missing function names (i.e. no -p).
<li>Not an actual patch! (e.g. <tt>"I changed line 27 of foo.cc to this:"</tt>)
</ul>
</ul>

<P>Note that you must be subscribed to cygwin-developers and
cygwin-patches to send email to those lists.</p>

<P>Please feel free to ask questions about any of this.  We
would love it if more people made useful contributions -- this can be
one of the big advantages of free software; we all benefit from
everyone else's work as well as our own.</p>

<H2>What needs doing:</H2>

<P>You can also get a good idea of the current bugs and problem areas by
browsing the cygwin mailing list archives.  In addition, check out the
API calls portion of the FAQ and look for references to unimplemented
functions.</p>

<p>Remember that the cygwin-developers and cygwin-patches mailing lists are
intended only for people who are serious about augmenting the cygwin
DLL.  These lists are not intended as a vehicle for getting general
cygwin questions answered, for announcing ports of any utilities, or for
providing patches for anything other than the files in the "winsup"
directory.  And, again, you will first have to join the lists before you
are able to send email.</p>

<p>(If you just want to send email to the cygwin-patches mailing list
without receiving email you can send email to cygwin-patches-allow-subscribe
<b>at</b> cygwin <b>dot</b> com.  This will allow you to send email to
the list without receiving any of the email traffic.  Be advised,
however, that you may miss some messages about your patch if you do
this.)</p>
<br>
<p><a name="cygwin-utilities"><font size=-1>* Cygwin-specific utilities are any executable or
shared libraries distributed in the cygwin distribution tar file, i.e., those
files that are generated from the winsup/{cygwin,cygserver,utils} source directories.</font></p>
<!--#include virtual="cygwin-footer.html"-->
</body>
</html>
