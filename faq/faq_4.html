<HTML>
<HEAD>
<!-- Created by texi2html 1.56k from faq.texinfo on 16 October 2001 -->

<TITLE>The Cygwin FAQ
 - Question and Answers</TITLE>
</HEAD>
<BODY>
Go to the <A HREF="faq_1.html">first</A>, <A HREF="faq_3.html">previous</A>, <A HREF="faq_5.html">next</A>, <A HREF="faq_8.html">last</A> section, <A HREF="faq_toc.html">table of contents</A>.
<P><HR><P>


<H1><A NAME="SEC25" HREF="faq_toc.html#TOC25">Question and Answers</A></H1>



<H2><A NAME="SEC26" HREF="faq_toc.html#TOC26">Where can I get more information?</A></H2>



<H3><A NAME="SEC27" HREF="faq_toc.html#TOC27">Where's the documentation?</A></H3>

<P>
If you have installed Cygwin, you can find lots of documentation in
<SAMP>`/usr/doc/'</SAMP>.  Many packages ship with standard documentation, you
can find this in a directory <SAMP>`/usr/doc/<EM>package_name</EM>'</SAMP>.  In
addition, some packages have Cygwin specific instructions in a file
<SAMP>`/usr/doc/Cygwin/<EM>package_name</EM>.README'</SAMP>.


<P>
There are links to quite a lot of it on the main Cygwin project web
page: <TT><a target="_top" href="http://cygwin.com/">http://cygwin.com/</a></TT>.  Be sure to at least
read any 'Release Notes' or 'Readme' or 'read this' links on the main
web page, if there are any.


<P>
There is a comprehensive Cygwin User's Guide at
<TT><a target="_top" href="http://cygwin.com/cygwin-ug-net/cygwin-ug-net.html">http://cygwin.com/cygwin-ug-net/cygwin-ug-net.html</a></TT>
and an API Reference at
<TT><a target="_top" href="http://cygwin.com/cygwin-api/cygwin-api.html">http://cygwin.com/cygwin-api/cygwin-api.html</a></TT>.


<P>
There is an interesting paper about Cygwin from the 1998 USENIX Windows
NT Workshop Proceedings at
<TT><a target="_top" href="http://cygwin.com/usenix-98/cygwin.html">http://cygwin.com/usenix-98/cygwin.html</a></TT>.


<P>
You can find documentation for the individual GNU tools at
<TT><a target="_top" href="http://www.fsf.org/manual/">http://www.fsf.org/manual/</a></TT>.  (You should read GNU manuals from a
local mirror, check <TT><a target="_top" href="http://www.fsf.org/server/list-mirrors.html">http://www.fsf.org/server/list-mirrors.html</a></TT>
for a list of them.)




<H3><A NAME="SEC28" HREF="faq_toc.html#TOC28">What Cygwin mailing lists can I join?</A></H3>

<P>
Comprehensive information about the Cygwin mailing lists can be found at
<TT><a target="_top" href="http://cygwin.com/lists.html">http://cygwin.com/lists.html</a></TT>.


<P>
To subscribe to the main list, send a message to
cygwin-subscribe@cygwin.com.  To unsubscribe from the 
main list, send a message to cygwin-unsubscribe@cygwin.com.
In both cases, the subject and body of the message are ignored.


<P>
Similarly, to subscribe to the Cygwin annoucements list, send a message
to cygwin-announce-subscribe@cygwin.com.  To unsubscribe,
send a message to cygwin-announce-unsubscribe@cygwin.com.


<P>
If you are going to help develop the Cygwin library by volunteering for
the project, you will want to subscribe to the Cygwin developers list,
called cygwin-developers.  If you are contributing to Cygwin tools &#38;
applications, rather than the library itself, then you should subscribe
to cygwin-apps.  The same mechanism as described for the first two lists
works for these as well.  Both cygwin-developers and cygwin-apps are
by-approval lists.


<P>
There is a searchable archive of the main mailing list at
<TT><a target="_top" href="http://cygwin.com/ml/cygwin/">http://cygwin.com/ml/cygwin/</a></TT>.  There is an alternate
archive, also searchable, at <TT><a target="_top" href="http://www.delorie.com/archives/">http://www.delorie.com/archives/</a></TT>.
You can also search at <TT><a target="_top" href="http://www.google.com/">http://www.google.com/</a></TT> and include
"cygwin" in the list of search terms.


<P>
Cygwin mailing lists are not gatewayed to USENET, so anti-spam measures
in your email address are neither required nor appreciated.  Also, avoid
sending HTML content to Cygwin mailing lists.




<H3><A NAME="SEC29" HREF="faq_toc.html#TOC29">Posting Guidelines (Or: Why won't you/the mailing list answer my questions?)</A></H3>

<P>
If you follow these guidelines, you are much more likely to get a
helpful response from the Cygwin developers and/or the Cygwin community at
large:



<UL>
<LI>Read the User's Guide and the FAQ first.

<LI>Check the mailing list archives.  Your topic may have come up

before.  (It may even have been answered!)  Use the search facilities
at the links above.  Try the alternate site if the main archive is not
producing search results.
<LI>Explain your problem carefully and completely.  "I installed Blah

and it doesn't work!" wastes everybody's time.  It provides no
information for anyone to help you with your problem.  You should
provide:


<UL>
<LI>A problem statement:  How does it behave, how do you think it

should behave, and what makes you think it's broken?  (Oh yeah, and what
is <EM>"it"</EM>?)
<LI>Information about your Windows OS ("Win95 OSR2" or "NT4/SP3" or

"Win2K" or "Win98 SE" or ...).
<LI>Details about your installation process, or attempts at same.  (Internet or

Directory install?  If the former, exactly when and from what mirror?
If the latter, which packages did you download?  Which version of
setup.exe?  Any subsequent updates?)
<LI>Details about your Cygwin setup, accomplished by <EM>pasting</EM>

the output of 'cygcheck -s -v -r' into your message.  (Do not send the
output as a file attachment.)
<LI>A valid return address, so that a reply doesn't require manual editing of

the 'To:' header.
</UL>

<LI>Your message must be relevant to the list.  Messages that are

<EM>not</EM> directly related to Cygwin are considered off-topic and are
unwelcome.  For example, the following are off-topic:


<UL>
<LI>General programming language questions

<LI>General Windows programming questions

<LI>General UNIX shell programming questions

<LI>General application usage questions

<LI>How to make millions by working at home

<LI>Announcements from LaserJet toner cartridge suppliers

</UL>

</UL>

<P>
If you do not follow the above guidelines, you may still elicit a
response, but you may not appreciate it!


<P>
Inquiries about support contracts and commercial licensing should go to
info@cygnus.com.  If you want to purchase the Cygwin 1.0 CD-ROM, visit
<TT><a target="_top" href="http://www.cygnus.com/cygwin/">http://www.cygnus.com/cygwin/</a></TT> or write to
cygwin-info@cygnus.com.  While not strictly <EM>unappreciated</EM> in the
main cygwin list, you'll get the information you need more quickly if
you write to the correct address in the first place.


<P>
Beyond that, perhaps nobody has time to answer your question.  Perhaps
nobody knows the answer.




<H2><A NAME="SEC30" HREF="faq_toc.html#TOC30">Using Cygwin</A></H2>



<H3><A NAME="SEC31" HREF="faq_toc.html#TOC31">My application cannot locate cygncurses5.dll!!!</A></H3>

<P>
If you upgraded recently, and suddenly vim (or some other Cygwin
application) fails with this message, it means that you did not follow
these instructions properly:
<TT><a target="_top" href="http://cygwin.com/ml/cygwin-announce/2001/msg00124.html">http://cygwin.com/ml/cygwin-announce/2001/msg00124.html</a></TT>.  To
repair the damage, you must run setup.exe again, and re-install the
<SAMP>`libncurses5'</SAMP> package.


<P>
Note that setup won't show this option by default.  In the "Select
packages to install" dialogue, click on the <SAMP>`Full/Part'</SAMP>
button.  This lists all packages, even those that are already
installed.  Scroll down to locate the <SAMP>`libncurses5'</SAMP> package.
Click on the "cycle" glyph until it says "Reinstall".  Continue
with setup.




<H3><A NAME="SEC32" HREF="faq_toc.html#TOC32">Why is Cygwin suddenly <EM>so</EM> slow?</A></H3>

<P>
If you recently upgraded the <SAMP>`cygwin'</SAMP> package and suddenly
<EM>every</EM> command takes a <EM>very</EM> long time, then you probably
have the obsolete <CODE>//c</CODE> notation in your PATH.  This now means
the <EM>network share</EM> <CODE>c</CODE>, which will slow things down
tremendously if it does not exist.  See then next FAQ entry.




<H3><A NAME="SEC33" HREF="faq_toc.html#TOC33">Why doesn't //c (for C:) work anymore?</A></H3>

<P>
(Similarly for any drive letter, e.g. <CODE>//z</CODE> for <CODE>Z:</CODE>)


<P>
This "feature" has long been deprecated, and no longer works at all
in the latest release.  As of release 1.3.3, <CODE>//c</CODE> now means the
<EM>network share</EM> <CODE>c</CODE>.


<P>
For a detailed discussion of why this change was made, and how deal
with it now, refer to
<TT><a target="_top" href="http://sources.redhat.com/ml/cygwin/2001-09/msg00014.html">http://sources.redhat.com/ml/cygwin/2001-09/msg00014.html</a></TT>.




<H3><A NAME="SEC34" HREF="faq_toc.html#TOC34">How should I set my PATH?</A></H3>

<P>
This is done for you in the file /etc/profile, which is sourced by bash
when you start it from the Desktop or Start Menu shortcut, created by
<CODE>setup.exe</CODE>.  The line is



<PRE>
	PATH="/usr/local/bin:/usr/bin:/bin:$PATH"
</PRE>

<P>
Effectively, this <STRONG>prepends</STRONG> /usr/local/bin and /usr/bin to your
Windows system path.  If you choose to reset your PATH, say in
$HOME/.bashrc, or by editing etc/profile directly, then you should
follow this rule.  You <STRONG>must</STRONG> have <CODE>/usr/bin</CODE> in your PATH
<STRONG>before</STRONG> any Windows system directories.  (And you must not omit
the Windows system directories!)  Otherwise you will likely encounter
all sorts of problems running Cygwin applications.




<H3><A NAME="SEC35" HREF="faq_toc.html#TOC35">Bash says "command not found", but it's right there!</A></H3>

<P>
If you compile a program, you might find that you can't run it:



<PRE>
	bash$ gcc -o hello hello.c
        bash$ hello
        bash: hello: command not found
</PRE>

<P>
Unlike Windows, bash does not look for programs in <SAMP>`.'</SAMP> (the current
directory) by default.  You can add <SAMP>`.'</SAMP> to your PATH (see above),
but this is not recommended (at least on UNIX) for security reasons.
Just tell bash where to find it, when you type it on the command line:



<PRE>
	bash$ gcc -o hello hello.c
        bash$ ./hello
        Hello World!
</PRE>



<H3><A NAME="SEC36" HREF="faq_toc.html#TOC36">How do I convert between Windows and UNIX paths?</A></H3>

<P>
Use the 'cygpath' utility.  Type '<CODE>cygpath</CODE>' with no arguments to
get usage information.  For example (on my installation):

<PRE>
	bash$ cygpath --windows ~/.bashrc
        D:\starksb\.bashrc
        bash$ cygpath --unix C:/cygwin/bin/cygwin.bat
        /usr/bin/cygwin.bat
        bash$ cygpath --unix C:\\cygwin\\bin\\cygwin.bat
        /usr/bin/cygwin.bat
</PRE>

<P>
Note that bash interprets the backslash '\' as an escape character, so
you must type it twice in the bash shell if you want it to be recognized
as such.




<H3><A NAME="SEC37" HREF="faq_toc.html#TOC37">Why doesn't bash read my .bashrc file on startup?</A></H3>

<P>
Your .bashrc is read from your home directory specified by the HOME
environment variable.  It uses /.bashrc if HOME is not set.  So you need
to set HOME correctly, or move your .bashrc to the top of the drive
mounted as / in Cygwin.




<H3><A NAME="SEC38" HREF="faq_toc.html#TOC38">How can I get bash filename completion to be case insensitive?</A></H3>

<P>
Add the following to your <CODE>~/.bashrc</CODE> file:



<PRE>
	shopt -s nocaseglob
</PRE>

<P>
and add the following to your <CODE>~/.inputrc</CODE> file:



<PRE>
	set completion-ignore-case on
</PRE>



<H3><A NAME="SEC39" HREF="faq_toc.html#TOC39">Can I use paths/filenames containing spaces in them?</A></H3>

<P>
Cygwin does support spaces in filenames and paths.  That said, some
utilities that use the library may not, since files don't typically
contain spaces in Unix.  If you stumble into problems with this, you
will need to either fix the utilities or stop using spaces in filenames
used by Cygwin tools.


<P>
In particular, bash interprets space as a word separator.  You would have
to quote a filename containing spaces, or escape the space character.
For example:

<PRE>
	bash-2.03$ cd '/cygdrive/c/Program Files'
</PRE>

<P>
or

<PRE>
	bash-2.03$ cd /cygdrive/c/Program\ Files
</PRE>



<H3><A NAME="SEC40" HREF="faq_toc.html#TOC40">Why can't I cd into a shortcut to a directory?</A></H3>

<P>
This is only valid up to but not including version 1.3.0:


<P>
Cygwin does not follow MS Windows Explorer Shortcuts (*.lnk files).  It
sees a shortcut as a regular file and this you cannot "cd" into it.


<P>
Some people have suggested replacing the current symbolic link scheme
with shortcuts.  The major problem with this is that .LNK files would
then be used to symlink Cygwin paths that may or may not be valid
under native Win32 non-Cygwin applications such as Explorer.


<P>
Since version 1.3.0, Cygwin treats shortcuts as symlinks.




<H3><A NAME="SEC41" HREF="faq_toc.html#TOC41">I'm having basic problems with find.  Why?</A></H3>

<P>
Make sure you are using the find that came with Cygwin and that you
aren't picking up the Win32 find command instead.  You can verify that
you are getting the right one by doing a "type find" in bash.


<P>
If the path argument to find, including current directory (default), is
itself a symbolic link, then find will not traverse it unless you
specify the <SAMP>`-follow'</SAMP> option.  This behavior is different than most
other UNIX implementations, but is not likely to change.




<H3><A NAME="SEC42" HREF="faq_toc.html#TOC42">Where is the <SAMP>`su'</SAMP> command?</A></H3>

<P>
The <SAMP>`su'</SAMP> command is not ported to Cygwin, so it is no longer
provided in the distribution.  You may be able to use <SAMP>`login'</SAMP>
instead, but you should read
<TT><a target="_top" href="http://www.cygwin.com/ml/cygwin/2001-03/msg00337.html">http://www.cygwin.com/ml/cygwin/2001-03/msg00337.html</a></TT> first.


<P>
If you have a copy of su, then it's from an old Cygwin distribution, and
it probably doesn't work properly anyway.




<H3><A NAME="SEC43" HREF="faq_toc.html#TOC43">Why doesn't man (or apropos) work?</A></H3>

<P>
Even after installing the <SAMP>`man'</SAMP> package, you get an error like this:



<PRE>
	bash-2.04$ man man
	Error executing formatting or display command.
	System command (cd /usr/man ; (echo -e ".pl 1100i"; cat /usr/man/man1/man.1; echo ".pl \n(nlu+10") | /usr/bin/tbl | /usr/bin/groff -Tascii -mandoc | less -is) exited with status 32512.
	No manual entry for man
</PRE>

<P>
You also need /bin/sh, which is found in the <SAMP>`ash'</SAMP> package.
You must install this too.


<P>
In addition, before you can use <SAMP>`man -k'</SAMP> or <SAMP>`apropos'</SAMP>, you
must create the whatis database.  Just run the command



<PRE>
	/usr/sbin/makewhatis
</PRE>

<P>
(it may take a minute to complete).




<H3><A NAME="SEC44" HREF="faq_toc.html#TOC44">Why doesn't chmod work?</A></H3>

<P>
<SAMP>`ntsec'</SAMP> will allow UNIX permissions in Windows NT on NTFS file systems.


<P>
<SAMP>`ntea'</SAMP> works on NTFS <EM>and</EM> FAT but it creates a huge,
<STRONG>undeletable</STRONG> file on FAT filesystems.


<P>
(The <SAMP>`ntsec'</SAMP> and <SAMP>`ntea'</SAMP> settings are values for the
<SAMP>`CYGWIN'</SAMP> environment variable.  See the Cygwin User's Guide at
<TT><a target="_top" href="http://cygwin.com/cygwin-ug-net/cygwin-ug-net.html">http://cygwin.com/cygwin-ug-net/cygwin-ug-net.html</a></TT> for more
information on this variable and its settings.)


<P>
There is no solution at all for Windows 9x.


<P>
If you have an application that requires a certain permission mode on a
file, you may be able to work around this requirement by modifying the
application's source code.  For a hint, based on work done by Corinna
Vinschen for OpenSSH, see this message from the cygwin mailing list:
<TT><a target="_top" href="http://cygwin.com/ml/cygwin/2000-11/msg01176.html">http://cygwin.com/ml/cygwin/2000-11/msg01176.html</a></TT>.




<H3><A NAME="SEC45" HREF="faq_toc.html#TOC45">Why doesn't <SAMP>`mkdir -p'</SAMP> work on a network share?</A></H3>

<P>
Unfortunately, you cannot do something like this:



<PRE>
bash$ mkdir -p //MACHINE/Share/path/to/new/dir
mkdir: cannot create directory `//MACHINE': No such file or directory
</PRE>

<P>
This is because mkdir checks for the existence of each directory on the
path, creating them as necessary.  Since <SAMP>`//MACHINE'</SAMP> is not a
directory (you can't cd to it either), mkdir tries to create it, and
fails.


<P>
This might get fixed someday, but for now, you have to work around it:



<PRE>
bash$ cd //MACHINE/Share
bash$ mkdir -p path/to/new/dir
</PRE>



<H3><A NAME="SEC46" HREF="faq_toc.html#TOC46">Why doesn't my shell script work?</A></H3>

<P>
There are two basic problems you might run into.  One is the fact that
/bin/sh is really ash, and is missing some features you might expect in
/bin/sh.  For example:



<UL>
<LI>No job control

<LI>No getopts

<LI>No functions exported

<LI>Must use `.' instead of `source' (true of sh and ksh too, not just ash)

</UL>

<P>
Or it could be a permission problem, and Cygwin doesn't understand that
your script is executable.  Because <SAMP>`chmod'</SAMP> may not work (see FAQ
entry above), Cygwin must read the contents of files to determine if
they are executable.  If your script does not start with



<PRE>
	#! /bin/sh
</PRE>

<P>
(or any path to a script interpreter, it does not have to be /bin/sh)
then Cygwin will not know it is an executable script.  The Bourne shell
idiom



<PRE>
	:
	# This is the 2nd line, assume processing by /bin/sh
</PRE>

<P>
also works.


<P>
Note that you can use <SAMP>`mount -x'</SAMP> to force Cygwin to treat all files
under the mount point as executable.  This can be used for individual
files as well as directories.  Then Cygwin will not bother to read files
to determine whether they are executable.




<H3><A NAME="SEC47" HREF="faq_toc.html#TOC47">How do I print under Cygwin?</A></H3>

<P>
There is no working lp or lpr system as you would find on UNIX.


<P>
Jason Tishler has written a couple of messages that explain how to use
a2ps (for nicely formatted text in PostScript) and ghostscript (to print
PostScript files on non-PostScript Windows printers).  Start at
<TT><a target="_top" href="http://cygwin.com/ml/cygwin/2001-04/msg00657.html">http://cygwin.com/ml/cygwin/2001-04/msg00657.html</a></TT>.  Note that the
<SAMP>`file'</SAMP> command is now available as part of Cygwin setup.


<P>
Alternatively, on NT, you can use the Windows <SAMP>`print'</SAMP> command.  (It
does not seem to be available on Win9x.)  Type



<PRE>
	bash$ print /\?
</PRE>

<P>
for usage instructions (note the <SAMP>`?'</SAMP> must be escaped from the
shell).


<P>
Finally, you can simply <SAMP>`cat'</SAMP> the file to the printer's share name:



<PRE>
	bash$ cat myfile &#62; //host/printer
</PRE>

<P>
You may need to press the formfeed button on your printer or append the
formfeed character to your file.




<H3><A NAME="SEC48" HREF="faq_toc.html#TOC48">Why don't international (8-bit) characters work?</A></H3>

<P>
Before you can type international characters (Једц) in bash, you must
add the following lines to your <CODE>~/.inputrc</CODE> file:



<PRE>
	set meta-flag on 
        set convert-meta off 
        set output-meta on 
</PRE>

<P>
These are options to the <CODE>readline</CODE> library, which you can read
about in the <CODE>bash(1)</CODE> man page.




<H3><A NAME="SEC49" HREF="faq_toc.html#TOC49">Why don't cursor keys work under Win95/Win98?</A></H3>

<P>
<STRONG>(Please note: This section has not yet been updated for the latest
net release.)</STRONG>


<P>
Careful examination shows that they not just non-functional, but
rather behave strangely, for example, with NumLock off, keys on numeric
keyboard work, until you press usual cursor keys, when even numeric
stop working, but they start working again after hitting alphanumeric
key, etc. This reported to happen on localized versions of Win98 and
Win95, and not specific to Cygwin (there're known cases of Alt+Enter
(fullscreen/windowed toggle) not working and shifts sticking with
other programs). The cause of this problem is Microsoft keyboard
localizer which by default installed in 'autoexec.bat'. Corresponding
line looks like:



<PRE>
keyb ru,,C:\WINDOWS\COMMAND\keybrd3.sys
</PRE>

<P>
(That's for russian locale.) You should comment that line if you want
your keys working properly. Of course, this will deprive you of your
local alphabet keyboard support, so you should think about
another localizer. exUSSR users are of course knowledgeable of Keyrus
localizer, and it might work for other locales too, since it has keyboard
layout editor. But it has russian messages and documentation ;-(
Reference URL is http://www.hnet.ru/software/contrib/Utils/KeyRus/
(note the you may need to turn off Windows logo for Keyrus to operate
properly).




<H3><A NAME="SEC50" HREF="faq_toc.html#TOC50">Is it OK to have multiple copies of the DLL?</A></H3>

<P>
You should only have one copy of the Cygwin DLL on your system.  If you
have multiple versions, they will conflict and cause problems.


<P>
If you get the error "shared region is corrupted" or "shared region
version mismatch" it means you have multiple versions of cygwin1.dll
running at the same time.  This could happen, for example, if you update
cygwin1.dll without exiting <EM>all</EM> Cygwin apps (including inetd)
beforehand.


<P>
If you're trying to find multiple versions of the DLL that are causing
this problem, reboot first, in case DLL's still loaded in memory are the
cause.  Then use the Windows System find utility to search your whole
machine, not just components in your PATH (as 'type' would do) or
cygwin-mounted filesystems (as Cygwin 'find' would do).




<H3><A NAME="SEC51" HREF="faq_toc.html#TOC51">Where can I find "more"?</A></H3>

<P>
If you are looking for the "more" pager, you should use the "less" pager
instead.




<H3><A NAME="SEC52" HREF="faq_toc.html#TOC52">Why isn't package XXXX available in Cygwin?  (Or, why is your package so out of date?)</A></H3>

<P>
Probably because there is nobody willing or able to maintain it.  It
takes time, and the priority for the Cygwin Team is the Cygwin package.
The rest is a volunteer effort.  Want to contribute?  See below.




<H3><A NAME="SEC53" HREF="faq_toc.html#TOC53">How can I access other drives?</A></H3>

<P>
You have some flexibility here.


<P>
Cygwin has a builtin "cygdrive prefix" for drives that are not mounted.
You can access any drive, say Z:, as '/cygdrive/z/'.


<P>
In some applications (notably bash), you can use the familiar windows
&#60;drive&#62;:/path/, using posix forward-slashes ('/') instead of Windows
backward-slashes ('\').  (But see the warning below!)  This maps in the
obvious way to the Windows path, but will be converted internally to use
the Cygwin path, following mounts (default or explicit).  For example:

<PRE>
	bash$ cd C:/Windows
	bash$ pwd
        /cygdrive/c/Windows
</PRE>

<P>
and

<PRE>
	bash$ cd C:/cygwin
	bash$ pwd
        /
</PRE>

<P>
for a default setup.  You could also use backward-slashes in the
Windows path, but these would have to be escaped from the shell.


<P>
<STRONG>Warning:</STRONG> There is some ambiguity in going from a Windows path
to the posix path, because different posix paths, through different
mount points, could map to the same Windows directory.  This matters
because different mount points may be binmode or textmode, so the
behavior of Cygwin apps will vary depending on the posix path used to
get there.


<P>
You can avoid the ambiguity of Windows paths, and avoid typing
"/cygdrive", by explicitly mounting drives to posix paths.  For example:

<PRE>
	bash$ mkdir /c
	bash$ mount c:/ /c
	bash$ ls /c
</PRE>

<P>
Then <SAMP>`/cygdrive/c/Windows'</SAMP> becomes <SAMP>`/c/Windows'</SAMP> which is a
little less typing.


<P>
Note that you only need to mount drives once.  The mapping is kept
in the registry so mounts stay valid pretty much indefinitely.
You can only get rid of them with umount, or the registry editor.


<P>
The '-b' option to mount mounts the mountpoint in binary mode
("binmode") where text and binary files are treated equivalently.  This
should only be necessary for badly ported Unix programs where binary
flags are missing from open calls.  It is also the setting for /,
/usr/bin and /usr/lib in a default Cygwin installation.  The default for
new mounts is text mode ("textmode"), which is also the mode for all
"cygdrive" mounts.


<P>
You can change the default <SAMP>`cygdrive'</SAMP> prefix and whether it is
binmode or textmode using the <CODE>mount</CODE> command.  For example,

<PRE>
	bash$ mount -b --change-cygdrive-prefix cygdrive
</PRE>

<P>
will change all <CODE>/cygdrive/...</CODE> mounts to binmode.




<H3><A NAME="SEC54" HREF="faq_toc.html#TOC54">How can I copy and paste into Cygwin console windows?</A></H3>

<P>
Under Windows NT, open the properties dialog of the console window.
The options contain a toggle button, named "Quick edit mode".  It must
be ON.  Save the properties.


<P>
Under Windows 9x, open the properties dialog of the console window.
Select the Misc tab.  Uncheck Fast Pasting.  Check QuickEdit.


<P>
You can also bind the insert key to paste from the clipboard by adding 
the following line to your .inputrc file: 

<PRE>
	"\e[2~": paste-from-clipboard 
</PRE>



<H3><A NAME="SEC55" HREF="faq_toc.html#TOC55">What does "mount failed: Device or resource busy" mean?</A></H3>

<P>
<STRONG>(Please note: This section has not yet been updated for the latest
net release.)</STRONG>


<P>
This usually means that you are trying to mount to a location
already in use by mount.  For example, if c: is mounted as '/'
and you try to mount d: there as well, you will get this error
message.  First "umount" the old location, then "mount" the new one and
you should have better luck.


<P>
If you are trying to umount '/' and are getting this message, you may
need to run <CODE>regedit.exe</CODE> and change the "native" key for the '/'
mount in one of the mount points kept under
HKEY_CURRENT_USER/Software/Cygnus Solutions/CYGWIN.DLL setup/&#60;version&#62;
where &#60;version&#62; is the latest registry version associated with the
Cygwin library.




<H3><A NAME="SEC56" HREF="faq_toc.html#TOC56">How can I share files between Unix and Windows?</A></H3>

<P>
During development, we have both Unix boxes running Samba and
NT/Windows 95/98 machines.  We often build with cross-compilers
under Unix and copy binaries and source to the Windows system
or just toy with them directly off the Samba-mounted partition.
On dual-boot NT/Windows 9x machines, we usually use the FAT
filesystem so we can also access the files under Windows 9x.




<H3><A NAME="SEC57" HREF="faq_toc.html#TOC57">Are mixed-case filenames possible with Cygwin?</A></H3>

<P>
Several Unix programs expect to be able to use to filenames
spelled the same way, but with different case.  A prime example
of this is perl's configuration script, which wants <CODE>Makefile</CODE> and
<CODE>makefile</CODE>.  WIN32 can't tell the difference between files with
just different case, so the configuration fails.


<P>
In releases prior to beta 16, mount had a special mixed case option
which renamed files in such a way as to allow mixed case filenames.  We
chose to remove the support when we rewrote the path handling code for
beta 16.  The standard Windows apps -- explorer.exe,
cmd.exe/command.com, etc. -- do not distinguish filenames that differed
only in case, resulting in some (very) undesirable behavior.


<P>
Sergey Okhapkin had maintained a mixed-case patch ('coolview') until
about B20.1, but this has not been updated to recent versions of Cygwin.




<H3><A NAME="SEC58" HREF="faq_toc.html#TOC58">What about DOS special filenames?</A></H3>

<P>
Files cannot be named com1, lpt1, or aux (to name a few); either as
the root filename or as the extension part.  If you do, you'll have
trouble.  Unix programs don't avoid these names which can make things
interesting.  E.g., the perl distribution has a file called
<CODE>aux.sh</CODE>.  The perl configuration tries to make sure that
<CODE>aux.sh</CODE> is there, but an operation on a file with the magic
letters 'aux' in it will hang.




<H3><A NAME="SEC59" HREF="faq_toc.html#TOC59">When it hangs, how do I get it back?</A></H3>

<P>
If something goes wrong and the tools hang on you for some reason (easy
to do if you try and read a file called aux.sh), first try hitting ^C to
return to bash or the cmd prompt.


<P>
If you start up another shell, and applications don't run, it's a good
bet that the hung process is still running somewhere.  Use the Task
Manager, pview, or a similar utility to kill the process.


<P>
And, if all else fails, there's always the reset button/power switch.
This should never be necessary under Windows NT.




<H3><A NAME="SEC60" HREF="faq_toc.html#TOC60">Why the weird directory structure?</A></H3>

<P>
Why do /lib and /usr/lib (and /bin, /usr/bin) point to the same thing?


<P>
Why use mounts instead of symbolic links?


<P>
Can I use a disk root (e.g., C:\) as Cygwin root?  Why is this discouraged?


<P>
After a new installation in the default location, your mount points will
look something like this:



<PRE>
	bash$ mount
	C:\cygwin\bin on /usr/bin type system (binmode)
	C:\cygwin\lib on /usr/lib type system (binmode)
	C:\cygwin on / type system (binmode)
</PRE>

<P>
(Exactly what you see depends on what options you gave to <CODE>setup.exe</CODE>.)


<P>
Note that /bin and /usr/bin point to the same location, as do /lib and
/usr/lib.  This is intentional, and you should not undo these mounts
unless you <EM>really</EM> know what you are doing.


<P>
Various applications and packages may expect to be installed in /lib or
/usr/lib (similarly /bin or /usr/bin).  Rather than distinguish between
them and try to keep track of them (possibly requiring the occasional
duplication or symbolic link), it was decided to maintain only one
actual directory, with equivalent ways to access it.


<P>
Symbolic links had been considered for this purpose, but were dismissed
because they do not always work on Samba drives.  Also, mounts are
faster to process because no disk access is required to resolve them.


<P>
Note that non-cygwin applications will not observe Cygwin mounts (or
symlinks for that matter).  For example, if you use WinZip to unpack the
tar distribution of a Cygwin package, it may not get installed to the
correct Cygwin path.  <EM>So don't do this!</EM>


<P>
It is strongly recommended not to make the Cygwin root directory the
same as your drive's root directory, unless you know what you are doing
and are prepared to deal with the consequences.  It is generally easier
to maintain the Cygwin hierarchy if it is isolated from, say, C:\.  For
one thing, you avoid possible collisions with other (non-cygwin)
applications that may create (for example) \bin and \lib directories.
(Maybe you have nothing like that installed now, but who knows about
things you might add in the future?)




<H3><A NAME="SEC61" HREF="faq_toc.html#TOC61">How do anti-virus programs like Cygwin?</A></H3>

<P>
Users have reported that NAI (formerly McAfee) VirusScan for NT (and
others?) is incompatible with Cygwin.  This is because it tries to scan
the newly loaded shared memory in cygwin1.dll, which can cause fork() to
fail, wreaking havoc on many of the tools.  (It is not confirmed that
this is still a problem, however.)


<P>
There have been several reports of NAI VirusScan causing the system to
hang when unpacking tar.gz archives.  This is surely a bug in VirusScan,
and should be reported to NAI.  The only workaround is to disable
VirusScan when accessing these files.  This can be an issue during
setup, and is discussed in that FAQ entry.


<P>
Some users report a significant performance hit using Cygwin when their
anti-virus software is enabled.  Rather than disable the anti-virus
software completely, it may be possible to specify directories whose
contents are exempt from scanning.  In a default installation, this
would be <SAMP>`<CODE>C:\cygwin\bin</CODE>'</SAMP>.  Obviously, this could be
exploited by a hostile non-Cygwin program, so do this at your own risk.




<H3><A NAME="SEC62" HREF="faq_toc.html#TOC62">How do I run bash as a shell under NT Emacs?</A></H3>

<P>
The Windows port of GNU Emacs (aka "NT emacs") uses the Windows command
shell by default.  Also, since Emacs is not a Cygwin application, it has
no knowledge of Cygwin mounts.  With those points in mind, you need to
add the following code to your ~/.emacs or ~/_emacs file in order to use
bash.  This is particularly useful for the JDE package
(<TT><a target="_top" href="http://sunsite.dk/jde/">http://sunsite.dk/jde/</a></TT>).



<PRE>
	;; This assumes that Cygwin is installed in C:\cygwin (the
	;; default) and that C:\cygwin\bin is not already in your
	;; Windows Path (it generally should not be).
	;;
	(setq exec-path (cons "C:/cygwin/bin" exec-path))
	(setenv "PATH" (concat "C:\\cygwin\\bin;" (getenv "PATH")))
	;;
	;; NT-emacs assumes a Windows command shell, which you change
	;; here.
	;;
	(setq process-coding-system-alist '(("bash" . undecided-unix)))
	(setq w32-quote-process-args ?\")
	(setq shell-file-name "bash")
	(setenv "SHELL" shell-file-name) 
	(setq explicit-shell-file-name shell-file-name) 
	;;
	;; This removes unsightly ^M characters that would otherwise
	;; appear in the output of java applications.
	;;
	(add-hook 'comint-output-filter-functions
	          'comint-strip-ctrl-m)
</PRE>



<H3><A NAME="SEC63" HREF="faq_toc.html#TOC63">info error "dir: No such file or directory"</A></H3>

<P>
Cygwin packages install their info documentation in the /usr/info
directory.  But you need to create a <CODE>dir</CODE> file there before the
standalone info program (probably <CODE>/usr/bin/info</CODE>) can be used to
read those info files.  This is how you do it:

<PRE>
	bash$ cd /usr/info
	bash$ for f in *.info ; do install-info $f dir ; done
</PRE>

<P>
This may generate warnings:

<PRE>
	install-info: warning: no info dir entry in `gzip.info'
	install-info: warning: no info dir entry in `time.info'
</PRE>

<P>
The <CODE>install-info</CODE> command cannot parse these files, so you will
have to add their entries to <CODE>/usr/info/dir</CODE> by hand.




<H3><A NAME="SEC64" HREF="faq_toc.html#TOC64">Why do I get a message saying Out of Queue slots?</A></H3>

<P>
<STRONG>(Please note: This section has not yet been updated for the latest
net release.)</STRONG>


<P>
"Out of queue slots!" generally occurs when you're trying to remove
many files that you do not have permission to remove (either because
you don't have permission, they are opened exclusively, etc).  What
happens is Cygwin queues up these files with the supposition that it
will be possible to delete these files in the future.  Assuming that
the permission of an affected file does change later on, the file will
be deleted as requested.  However, if too many requests come in to
delete inaccessible files, the queue overflows and you get the message
you're asking about.  Usually you can remedy this with a quick chmod,
close of a file, or other such thing.  (Thanks to Larry Hall for
this explanation).




<H3><A NAME="SEC65" HREF="faq_toc.html#TOC65">Why don't symlinks work on samba-mounted filesystems?</A></H3>

<P>
Symlinks are marked with "system" file attribute.  Samba does not
enable this attribute by default.  To enable it, consult your Samba
documentation and then add these lines to your samba configuration
file:



<PRE>
	map system = yes
	create mask = 0775
</PRE>

<P>
Note that the 0775 can be anything as long as the 0010 bit is set.




<H3><A NAME="SEC66" HREF="faq_toc.html#TOC66">Why does df report sizes incorrectly.</A></H3>

<P>
<STRONG>(Please note: This section has not yet been updated for the latest
net release.)</STRONG>


<P>
There is a bug in the Win32 API function GetFreeDiskSpace that
makes it return incorrect values for disks larger than 2 GB in size.
Perhaps that may be your problem?




<H3><A NAME="SEC67" HREF="faq_toc.html#TOC67">Why doesn't Cygwin tcl/tk understand Cygwin paths?</A></H3>

<P>
The versions of Tcl/Tk distributed with Cygwin (e.g. cygtclsh80.exe) are
not actually "Cygwin versions" of those tools.  They are built with the
<SAMP>`-mno-cygwin'</SAMP> option to <CODE>gcc</CODE>, which means they do not
understand Cygwin mounts or symbolic links.


<P>
See the entry "How do I convert between Windows and UNIX paths?"
elsewhere in this FAQ.


<H2><A NAME="SEC68" HREF="faq_toc.html#TOC68">Cygwin API Questions</A></H2>



<H3><A NAME="SEC69" HREF="faq_toc.html#TOC69">How does everything work?</A></H3>

<P>
There's a C library which provides a Unix-style API.  The
applications are linked with it and voila - they run on Windows.


<P>
The aim is to add all the goop necessary to make your apps run on
Windows into the C library.  Then your apps should run on Unix and
Windows with no changes at the source level.


<P>
The C library is in a DLL, which makes basic applications quite small.
And it allows relatively easy upgrades to the Win32/Unix translation
layer, providing that dll changes stay backward-compatible.


<P>
For a good overview of Cygwin, you may want to read the paper on Cygwin
published by the Usenix Association in conjunction with the 2d Usenix NT
Symposium in August 1998.  It is available in html format on the project
WWW site.




<H3><A NAME="SEC70" HREF="faq_toc.html#TOC70">Are development snapshots for the Cygwin library available?</A></H3>

<P>
Yes.  They're made whenever anything interesting happens inside the
Cygwin library (usually roughly on a nightly basis, depending on how much
is going on).  They are only intended for those people who wish to
contribute code to the project.  If you aren't going to be happy
debugging problems in a buggy snapshot, avoid these and wait for a real
release.  The snapshots are available from
http://cygwin.com/snapshots/




<H3><A NAME="SEC71" HREF="faq_toc.html#TOC71">How is the DOS/Unix CR/LF thing handled?</A></H3>

<P>
Let's start with some background.


<P>
In UNIX, a file is a file and what the file contains is whatever the
program/programmer/user told it to put into it.  In Windows, a file is
also a file and what the file contains depends not only on the
program/programmer/user but also the file processing mode.


<P>
When processing in text mode, certain values of data are treated
specially.  A \n (new line) written to the file will prepend a \r
(carriage return) so that if you `printf("Hello\n") you in fact get
"Hello\r\n".  Upon reading this combination, the \r is removed and the
number of bytes returned by the read is 1 less than was actually read.
This tends to confuse programs dependant on ftell() and fseek().  A
Ctrl-Z encountered while reading a file sets the End Of File flags even
though it truly isn't the end of file.


<P>
One of Cygwin's goals is to make it possible to easily mix Cygwin-ported
Unix programs with generic Windows programs.  As a result, Cygwin opens
files in text mode as is normal under Windows.  In the accompanying
tools, tools that deal with binaries (e.g. objdump) operate in unix
binary mode and tools that deal with text files (e.g. bash) operate in
text mode.


<P>
Some people push the notion of globally setting the default processing
mode to binary via mount point options or by setting the CYGWIN
environment variable.  But that creates a different problem.  In
binary mode, the program receives all of the data in the file, including
a \r.  Since the programs will no longer deal with these properly for
you, you would have to remove the \r from the relevant text files,
especially scripts and startup resource files.  This is a porter "cop
out", forcing the user to deal with the \r for the porter.


<P>
It is rather easy for the porter to fix the source code by supplying the
appropriate file processing mode switches to the open/fopen functions.
Treat all text files as text and treat all binary files as binary.
To be specific, you can select binary mode by adding <CODE>O_BINARY</CODE> to
the second argument of an <CODE>open</CODE> call, or <CODE>"b"</CODE> to second
argument of an <CODE>fopen</CODE> call.  You can also call <CODE>setmode (fd,
O_BINARY)</CODE>.


<P>
Note that because the open/fopen switches are defined by ANSI, they
exist under most flavors of Unix; open/fopen will just ignore the switch
since they have no meaning to UNIX.


<P>
Also note that <CODE>lseek</CODE> only works in binary mode.


<P>
Explanation adapted from mailing list email by Earnie Boyd
&#60;earnie_boyd@yahoo.com&#62;.




<H3><A NAME="SEC72" HREF="faq_toc.html#TOC72">Is the Cygwin library multi-thread-safe?</A></H3>

<P>
Multi-thread-safe support is turned on by default in 1.1.x releases
(i.e., in the latest net release).  That does not mean that it is bug
free!


<P>
There is also limited support for 'POSIX threads', see the file
<CODE>cygwin.din</CODE> for the list of POSIX thread functions provided.




<H3><A NAME="SEC73" HREF="faq_toc.html#TOC73">Why is some functionality only supported in Windows NT?</A></H3>

<P>
Windows 9x: n.
32 bit extensions and a graphical shell for a 16 bit patch to an
8 bit operating system originally coded for a 4 bit microprocessor,
written by a 2 bit company that can't stand 1 bit of competition.


<P>
But seriously, Windows 9x lacks most of the security-related calls and
has several other deficiencies with respect to its version of the Win32
API.  See the calls.texinfo document for more information as to what
is not supported in Win 9x.




<H3><A NAME="SEC74" HREF="faq_toc.html#TOC74">How is fork() implemented?</A></H3>

<P>
Cygwin fork() essentially works like a non-copy on write version
of fork() (like old Unix versions used to do).  Because of this it
can be a little slow.  In most cases, you are better off using the
spawn family of calls if possible.


<P>
Here's how it works:


<P>
Parent initializes a space in the Cygwin process table for child.
Parent creates child suspended using Win32 CreateProcess call, giving
the same path it was invoked with itself.  Parent calls setjmp to save
its own context and then sets a pointer to this in the Cygwin shared
memory area (shared among all Cygwin tasks).  Parent fills in the childs
.data and .bss subsections by copying from its own address space into
the suspended child's address space.  Parent then starts the child.
Parent waits on mutex for child to get to safe point.  Child starts and
discovers if has been forked and then longjumps using the saved jump
buffer.  Child sets mutex parent is waiting on and then blocks on
another mutex waiting for parent to fill in its stack and heap.  Parent
notices child is in safe area, copies stack and heap from itself into
child, releases the mutex the child is waiting on and returns from the
fork call.  Child wakes from blocking on mutex, recreates any mmapped
areas passed to it via shared area and then returns from fork itself.




<H3><A NAME="SEC75" HREF="faq_toc.html#TOC75">How does wildcarding (globbing) work?</A></H3>

<P>
If the DLL thinks it was invoked from a DOS style prompt, it runs a
`globber' over the arguments provided on the command line.  This means
that if you type <CODE>LS *.EXE</CODE> from DOS, it will do what you might
expect.


<P>
Beware: globbing uses <CODE>malloc</CODE>.  If your application defines
<CODE>malloc</CODE>, that will get used.  This may do horrible things to you.




<H3><A NAME="SEC76" HREF="faq_toc.html#TOC76">How do symbolic links work?</A></H3>

<P>
Cygwin knows of two ways to create symlinks.


<P>
The old method is the only valid one up to but not including version 1.3.0.
If it's enabled (from 1.3.0 on by setting `nowinsymlinks' in the environment
variable CYGWIN) Cygwin generates link files with a magic header.  When you
open a file or directory that is a link to somewhere else, it opens the file
or directory listed in the magic header.  Because we don't want to have to
open every referenced file to check symlink status, Cygwin marks symlinks
with the system attribute.  Files without the system attribute are not
checked.  Because remote samba filesystems do not enable the system
attribute by default, symlinks do not work on network drives unless you
explicitly enable this attribute.


<P>
The new method which is introduced with Cygwin version 1.3.0 is enabled
by default or if `winsymlinks' is set in the environment variable CYGWIN.
Using this method, Cygwin generates symlinks by creating Windows shortcuts.
Cygwin created shortcuts have a special header (which is in that way never
created by Explorer) and the R/O attribute set.  A DOS path is stored in
the shortcut as usual and the description entry is used to store the POSIX
path.  While the POSIX path is stored as is, the DOS path has perhaps to be
rearranged to result in a valid path.  This may result in a divergence
between the DOS and the POSIX path when symlinks are moved crossing mount
points.  When a user changes the shortcut, this will be detected by Cygwin
and it will only use the DOS path then.  While Cygwin shortcuts are shown
without the ".lnk" suffix in `ls' output, non-Cygwin shortcuts are shown
with the suffix.  However, both are treated as symlinks.


<P>
Both, the old and the new symlinks can live peacefully together since Cygwin
treats both as symlinks regardless of the setting of `(no)winsymlinks' in
the environment variable CYGWIN.




<H3><A NAME="SEC77" HREF="faq_toc.html#TOC77">Why do some files, which are not executables have the 'x' type.</A></H3>

<P>
When working out the unix-style attribute bits on a file, the library
has to fill out some information not provided by the WIN32 API.  


<P>
It guesses that files ending in .exe and .bat are executable, as are
ones which have a "#!" as their first characters.




<H3><A NAME="SEC78" HREF="faq_toc.html#TOC78">How secure is Cygwin in a multi-user environment?</A></H3>

<P>
Cygwin is not secure in a multi-user environment.  For
example if you have a long running daemon such as "inetd"
running as admin while ordinary users are logged in, or if
you have a user logged in remotely while another user is logged
into the console, one cygwin client can trick another into
running code for it.  In this way one user may gain the
priveledge of another cygwin program running on the machine.
This is because cygwin has shared state that is accessible by 
all processes.


<P>
(Thanks to Tim Newsham (newsham@lava.net) for this explanation).




<H3><A NAME="SEC79" HREF="faq_toc.html#TOC79">How do the net-related functions work?</A></H3>

<P>
<STRONG>(Please note: This section has not yet been updated for the latest
net release.)</STRONG>


<P>
The network support in Cygwin is supposed to provide the Unix API, not
the Winsock API.


<P>
There are differences between the semantics of functions with the same
name under the API.


<P>
E.g., the select system call on Unix can wait on a standard file handles
and handles to sockets.  The select call in winsock can only wait on
sockets.  Because of this, cygwin.dll does a lot of nasty stuff behind
the scenes, trying to persuade various winsock/win32 functions to do what
a Unix select would do.


<P>
If you are porting an application which already uses Winsock, then
using the net support in Cygwin is wrong.


<P>
But you can still use native Winsock, and use Cygwin.  The functions
which cygwin.dll exports are called 'cygwin_&#60;name&#62;'.  There
are a load of defines which map the standard Unix names to the names
exported by the dll -- check out include/netdb.h:



<PRE>
..etc..
void		cygwin_setprotoent (int);
void		cygwin_setservent (int);
void		cygwin_setrpcent (int);
..etc..
#ifndef __INSIDE_CYGWIN_NET__
#define endprotoent cygwin_endprotoent 
#define endservent cygwin_endservent 
#define endrpcent  cygwin_endrpcent  
..etc..
</PRE>

<P>
The idea is that you'll get the Unix-&#62;Cygwin mapping if you include
the standard Unix header files.  If you use this, you won't need to
link with libwinsock.a - all the net stuff is inside the dll.


<P>
The mywinsock.h file is a standard winsock.h which has been hacked to
remove the bits which conflict with the standard Unix API, or are
defined in other headers.  E.g., in mywinsock.h, the definition of
struct hostent is removed.  This is because on a Unix box, it lives in
netdb.  It isn't a good idea to use it in your applications.


<P>
As of the b19 release, this information may be slightly out of date.




<H3><A NAME="SEC80" HREF="faq_toc.html#TOC80">I don't want Unix sockets, how do I use normal Win32 winsock?</A></H3>

<P>
<STRONG>(Please note: This section has not yet been updated for the latest
net release.)</STRONG>


<P>
To use the vanilla Win32 winsock, you just need to #define Win32_Winsock
and #include "windows.h" at the top of your source file(s).  You'll also
want to add -lwsock32 to the compiler's command line so you link against
libwsock32.a.




<H3><A NAME="SEC81" HREF="faq_toc.html#TOC81">What version numbers are associated with Cygwin?</A></H3>

<P>
<STRONG>(Please note: This section has not yet been updated for the latest
net release.)</STRONG>


<P>
There is a cygwin.dll major version number that gets incremented
every time we make a new Cygwin release available.  This
corresponds to the name of the release (e.g. beta 19's major
number is "19").  There is also a cygwin.dll minor version number.  If
we release an update of the library for an existing release, the minor
number would be incremented.


<P>
There are also Cygwin API major and minor numbers.  The major number
tracks important non-backward-compatible interface changes to the API.
An executable linked with an earlier major number will not be compatible
with the latest DLL.  The minor number tracks significant API additions
or changes that will not break older executables but may be required by
newly compiled ones.


<P>
Then there is a shared memory region compatibity version number.  It is
incremented when incompatible changes are made to the shared memory
region or to any named shared mutexes, semaphores, etc.


<P>
Finally there is a mount point registry version number which keeps track
of non-backwards-compatible changes to the registry mount table layout.
This has been "B15.0" since the beta 15 release.




<H3><A NAME="SEC82" HREF="faq_toc.html#TOC82">Why isn't _timezone set correctly?</A></H3>

<P>
<STRONG>(Please note: This section has not yet been updated for the latest
net release.)</STRONG>


<P>
Did you explicitly call tzset() before checking the value of _timezone?
If not, you must do so.




<H3><A NAME="SEC83" HREF="faq_toc.html#TOC83">Is there a mouse interface?</A></H3>

<P>
There is no way to capture mouse events from Cygwin.  There are
currently no plans to add support for this.




<H2><A NAME="SEC84" HREF="faq_toc.html#TOC84">Programming Questions</A></H2>



<H3><A NAME="SEC85" HREF="faq_toc.html#TOC85">How do I contribute a package?</A></H3>

<P>
If you are willing to be a package maintainer, great.  We urgently need
volunteers to prepare and maintain packages, because the priority of the
Cygwin Team is Cygwin itself.


<P>
There will be a separate web page where all the details are documented,
but this is not prepared yet.  Meanwhile, pore through the cygwin-apps
mailing archives (start at <TT><a target="_top" href="http://cygwin.com/lists.html">http://cygwin.com/lists.html</a></TT>), and
subscribe.  Charles Wilson posted a short recipe of what's involved,
using texinfo as an example,
at <TT><a target="_top" href="http://cygwin.com/ml/cygwin-apps/2000-11/msg00055.html">http://cygwin.com/ml/cygwin-apps/2000-11/msg00055.html</a></TT>.  This
should give you an idea of what is required.


<P>
You should announce your intentions to the general cygwin list, in case
others were thinking the same thing.




<H3><A NAME="SEC86" HREF="faq_toc.html#TOC86">How do I contribute to Cygwin?</A></H3>

<P>
If you want to contribute to Cygwin itself, see
<TT><a target="_top" href="http://cygwin.com/contrib.html">http://cygwin.com/contrib.html</a></TT>.




<H3><A NAME="SEC87" HREF="faq_toc.html#TOC87">Why are compiled executables so huge?!?</A></H3>

<P>
By default, gcc compiles in all symbols.  You'll also find that gcc
creates large executables on UNIX.


<P>
If that bothers you, just use the 'strip' program, part of the binutils
package.  Or compile with the <SAMP>`-s'</SAMP> option to gcc.




<H3><A NAME="SEC88" HREF="faq_toc.html#TOC88">Where is glibc?</A></H3>

<P>
Cygwin does not provide glibc.  It uses newlib instead, which provides
much (but not all) of the same functionality.  Porting glibc to Cygwin
would be difficult.




<H3><A NAME="SEC89" HREF="faq_toc.html#TOC89">Where is Objective C?</A></H3>

<P>
Objective C is not distributed with the Cygwin version of gcc, and there
are no plans to do so.  The gcc package maintainer had difficulty
building it, and once built there were problems using it.  It appears
that there is only minimual support for the Objective C front-end in the
main GCC distribution, anyway.




<H3><A NAME="SEC90" HREF="faq_toc.html#TOC90">Why is make behaving badly?</A></H3>

<P>
First of all, if you are using <SAMP>`make -j[N]'</SAMP>, then stop.  It doesn't
work well.


<P>
Otherwise, read on...


<P>
Make has two operating modes, UNIX and WIN32.  You need to make sure
that you are operating in the right mode.


<P>
In UNIX mode, make uses sh.exe as a subshell.  The path list separator
is ':', '\' is the escape character, POSIX paths are expected, and
Cygwin mounts will be understood.  Use this for Makefiles written for
UNIX.


<P>
In WIN32 mode, make uses the "native" command shell (cmd.exe or
command.com), with all the restrictions that implies.  The path list
separator is ';', the path separator is '\', "copy" and "del" work, but
the Cygwin mount table is not understood.  Use this for nmake-style
Makefiles.


<P>
The default mode for the Net Release of make (the one installed by
<CODE>setup.exe</CODE>) is UNIX.  The default mode for commercial releases to
Redhat (formerly Cygnus) customers is WIN32.


<P>
You can override the default by setting the environment variable
MAKE_MODE to "UNIX" (actually case is not significant) or "WIN32"
(actually anything other than "UNIX").  You can also specify the options
--unix or --win32 on the make command line.




<H3><A NAME="SEC91" HREF="faq_toc.html#TOC91">Why the undefined reference to <SAMP>`WinMain@16'</SAMP>?</A></H3>

<P>
Try adding an empty main() function to one of your sources.


<P>
Or, perhaps you have <SAMP>`-lm'</SAMP> too early in the link command line.  It
should be at the end:



<PRE>
    bash$ gcc hello.c -lm
    bash$ ./a.exe
    Hello World!
</PRE>

<P>
works, but



<PRE>
    bash$  gcc -lm hello.c
    /c/TEMP/ccjLEGlU.o(.text+0x10):hello.c: multiple definition of `main'
    /usr/lib/libm.a(libcmain.o)(.text+0x0):libcmain.c: first defined here
    /usr/lib/libm.a(libcmain.o)(.text+0x6a):libcmain.c: undefined reference to `WinMain@16'
    collect2: ld returned 1 exit status
</PRE>

<P>
This is an artifact of libm.a being a symbolic link to libcygwin.a.




<H3><A NAME="SEC92" HREF="faq_toc.html#TOC92">How do I use Win32 API calls?</A></H3>

<P>
<STRONG>(Please note: This section has not yet been updated for the latest
net release.)</STRONG>


<P>
It's pretty simple actually.  Cygwin tools require that you explicitly
link the import libraries for whatever Win32 API functions that you
are going to use, with the exception of kernel32, which is linked
automatically (because the startup and/or built-in code uses it).


<P>
For example, to use graphics functions (GDI) you must link
with gdi32 like this:


<P>
gcc -o foo.exe foo.o bar.o -lgdi32


<P>
or (compiling and linking in one step):


<P>
gcc -o foo.exe foo.c bar.c -lgdi32


<P>
The following libraries are available for use in this way:


<P>
advapi32  largeint  ole32     scrnsave  vfw32
cap       lz32      oleaut32  shell32   win32spl
comctl32  mapi32    oledlg    snmp      winmm
comdlg32  mfcuia32  olepro32  svrapi    winserve
ctl3d32   mgmtapi   opengl32  tapi32    winspool
dlcapi    mpr       penwin32  th32      winstrm
gdi32     msacm32   pkpd32    thunk32   wow32
glaux     nddeapi   rasapi32  url       wsock32
glu32     netapi32  rpcdce4   user32    wst
icmp      odbc32    rpcndr    uuid
imm32     odbccp32  rpcns4    vdmdbg
kernel32  oldnames  rpcrt4    version


<P>
The regular setup allows you to use the option -mwindows on the
command line to include a set of the basic libraries (and also
make your program a GUI program instead of a console program),
including user32, gdi32 and, IIRC, comdlg32.


<P>
Note that you should never include -lkernel32 on your link line
unless you are invoking ld directly.  Do not include the same import
library twice on your link line.  Finally, it is a good idea to
put import libraries last on your link line, or at least after
all the object files and static libraries that reference them.


<P>
The first two are related to problems the linker has (as of b18 at least)
when import libraries are referenced twice.  Tables get messed up and
programs crash randomly.  The last point has to do with the fact that
gcc processes the files listed on the command line in sequence and
will only resolve references to libraries if they are given after
the file that makes the reference.




<H3><A NAME="SEC93" HREF="faq_toc.html#TOC93">How do I compile a Win32 executable that doesn't use Cygwin?</A></H3>

<P>
The -mno-cygwin flag to gcc makes gcc link against standard Microsoft
DLLs instead of Cygwin.  This is desirable for native Windows programs
that don't need a UNIX emulation layer.


<P>
This is not to be confused with 'MinGW' (Minimalist GNU for Windows),
which is a completely separate effort.  That project's home page is
<TT><a target="_top" href="http://www.mingw.org/index.shtml">http://www.mingw.org/index.shtml</a></TT>.




<H3><A NAME="SEC94" HREF="faq_toc.html#TOC94">Can I build a Cygwin program that does not require cygwin1.dll at runtime?</A></H3>

<P>
No.  If your program uses the Cygwin API, then your executable cannot
run without cygwin1.dll.  In particular, it is not possible to
statically link with a Cygwin library to obtain an independent,
self-contained executable.


<P>
If this is an issue because you intend to distribute your Cygwin
application, then you had better read and understand
<TT><a target="_top" href="http://cygwin.com/licensing.html">http://cygwin.com/licensing.html</a></TT>, which explains the licensing
options.  Unless you purchase a special commercial license from Red
Hat, then your Cygwin application must be Open Source.




<H3><A NAME="SEC95" HREF="faq_toc.html#TOC95">Can I link with both MSVCRT*.DLL and cygwin1.dll?</A></H3>

<P>
No, you must use one or the other, they are mutually exclusive.




<H3><A NAME="SEC96" HREF="faq_toc.html#TOC96">How do I make the console window go away?</A></H3>

<P>
The default during compilation is to produce a console application.
It you are writing a GUI program, you should either compile with
-mwindows as explained above, or add the string
"-Wl,--subsystem,windows" to the GCC commandline.




<H3><A NAME="SEC97" HREF="faq_toc.html#TOC97">Why does make complain about a "missing separator"?</A></H3>

<P>
This problem usually occurs as a result of someone editing a Makefile
with a text editor that replaces tab characters with spaces.  Command
lines must start with tabs.  This is not specific to Cygwin.




<H3><A NAME="SEC98" HREF="faq_toc.html#TOC98">Why can't we redistribute Microsoft's Win32 headers?</A></H3>

<P>
Subsection 2.d.f of the `Microsoft Open Tools License agreement' looks
like it says that one may not "permit further redistribution of the
Redistributables to their end users".  We take this to mean that we can
give them to you, but you can't give them to anyone else, which is
something that Cygnus (err... Red Hat) can't agree to.  Fortunately, we
have our own Win32 headers which are pretty complete.




<H3><A NAME="SEC99" HREF="faq_toc.html#TOC99">How do I link against .lib files?</A></H3>

<P>
<STRONG>(Please note: This section has not yet been updated for the latest
net release.)</STRONG>


<P>
1. Build a C file with a function table.  Put all functions you intend
to use in that table.  This forces the linker to include all the object
files from the .lib.  Maybe there is an option to force LINK.EXE to
include an object file.
2. Build a dummy 'LibMain'.
3. Build a .def with all the exports you need.
4. Link with your .lib using link.exe.


<P>
or


<P>
1. Extract all the object files from the .lib using LIB.EXE.
2. Build a dummy C file referencing all the functions you need, either
with a direct call or through an initialized function pointer.
3. Build a dummy LibMain.
4. Link all the objects with this file+LibMain.
5. Write a .def.
6. Link.


<P>
You can use these methods to use MSVC (and many other runtime libs)
with Cygwin development tools.


<P>
Note that this is a lot of work (half a day or so), but much less than
rewriting the runtime library in question from specs...


<P>
(thanks to Jacob Navia (root@jacob.remcomp.fr) for this explanation)




<H3><A NAME="SEC100" HREF="faq_toc.html#TOC100">How do I rebuild the tools on my NT box?</A></H3>

<P>
<STRONG>Note:</STRONG> You must build in a directory <EM>outside</EM> the source
tree.


<P>
Assuming that you have the src installed as /src, will build in
the directory /obj, and want to install the tools in /install:



<PRE>
bash
cd /obj
/src/configure --prefix=/install -v &#62; configure.log 2&#62;&#38;1
make &#62; make.log 2&#62;&#38;1
make install &#62; install.log 2&#62;&#38;1
</PRE>

<P>
Normally, this will also attempt to build the documentation, which
additionally requires db2html, and possibly other tools, which are not
included in the Cygwin distribution.  You can get db2html as part of
docbook, from <TT><a target="_top" href="http://sources.redhat.com/docbook-tools/">http://sources.redhat.com/docbook-tools/</a></TT>.


<P>
To check a cygwin1.dll, run "make check" in the winsup/cygwin directory.
If that works, install everything <EM>except</EM> the dll (if you can).
Then, close down all cygwin programs (including bash windows, inetd,
etc.), save your old dll, and copy the new dll to <EM>all</EM> the
places where the old dll was (if there is more than one on your
machine).  Then start up a bash window and see what happens.  (Or better,
run a cygwin program from the Windows command prompt.)


<P>
If you get the error "shared region is corrupted" it means that two
different versions of cygwin1.dll are running on your machine at the
same time.




<H3><A NAME="SEC101" HREF="faq_toc.html#TOC101">How can I compile a powerpc NT toolchain?</A></H3>

<P>
<STRONG>(Please note: This section has not yet been updated for the latest
net release.)</STRONG>


<P>
Unfortunately, this will be difficult.  It hasn't been built for
some time (late 1996) since Microsoft has dropped development of
powerpc NT.  Exception handling/signals support semantics/args have been
changed for x86 and not updated for ppc so the ppc specific support would
have to be rewritten.  We don't know of any other incompatibilities.
Please send us patches if you do this work!




<H3><A NAME="SEC102" HREF="faq_toc.html#TOC102">How can I compile an Alpha NT toolchain?</A></H3>

<P>
<STRONG>(Please note: This section has not yet been updated for the latest
net release.)</STRONG>


<P>
We have not ported the tools to Alpha NT and do not have plans to
do so at the present time.  We would be happy to add support
for Alpha NT if someone contributes the changes to us.




<H3><A NAME="SEC103" HREF="faq_toc.html#TOC103">How can I adjust the heap/stack size of an application?</A></H3>

<P>
<STRONG>(Please note: This section has not yet been updated for the latest
net release.)</STRONG>


<P>
Pass heap/stack linker arguments to gcc.  To create foo.exe with
a heap size of 1024 and a stack size of 4096, you would invoke
gcc as:


<P>
<CODE>gcc -Wl,--heap,1024,--stack,4096 -o foo foo.c</CODE>




<H3><A NAME="SEC104" HREF="faq_toc.html#TOC104">How can I find out which dlls are needed by an executable?</A></H3>

<P>
<SAMP>`objdump -p'</SAMP> provides this information, but is rather verbose.


<P>
<SAMP>`cygcheck'</SAMP> will do this much more concisely, and operates
recursively, provided the command is in your path.


<P>
Note there is currently a bug in cygcheck in that it will not report
on a program in a Windows system dir (e.g., C:\Windows or C:\WINNT) even
if it's in your path.  To work around this, supply the full Win32 path
to the executable, including the .exe extension:



<PRE>
cygcheck c:\\winnt\\system32\\cmd.exe
</PRE>

<P>
(Note the windows path separator must be escaped if this is typed in
bash.)




<H3><A NAME="SEC105" HREF="faq_toc.html#TOC105">How do I build a DLL?</A></H3>

<P>
<STRONG>(Please note: This section has not yet been updated for the latest
net release.)</STRONG>


<P>
There's documentation that explains the process on the main Cygwin
project web page (http://cygwin.com/).




<H3><A NAME="SEC106" HREF="faq_toc.html#TOC106">How can I set a breakpoint at MainCRTStartup?</A></H3>

<P>
<STRONG>(Please note: This section has not yet been updated for the latest
net release.)</STRONG>


<P>
Set a breakpoint at *0x401000 in gdb and then run the program in
question.




<H3><A NAME="SEC107" HREF="faq_toc.html#TOC107">How can I build a relocatable dll?</A></H3>

<P>
<STRONG>(Please note: This section has not yet been updated for the
latest net release.  However, there was a discussion on the cygwin
mailing list recently that addresses this issue.  Read
<TT><a target="_top" href="http://cygwin.com/ml/cygwin/2000-06/msg00688.html">http://cygwin.com/ml/cygwin/2000-06/msg00688.html</a></TT> and
related messages.)</STRONG>


<P>
You must execute the following sequence of five commands, in this
order:



<PRE>
$(LD) -s --base-file BASEFILE --dll -o DLLNAME OBJS LIBS -e ENTRY

$(DLLTOOL) --as=$(AS) --dllname DLLNAME --def DEFFILE \
        --base-file BASEFILE --output-exp EXPFILE

$(LD) -s --base-file BASEFILE EXPFILE -dll -o DLLNAME OBJS LIBS -e ENTRY

$(DLLTOOL) --as=$(AS) --dllname DLLNAME --def DEFFILE \
	--base-file BASEFILE --output-exp EXPFILE

$(LD) EXPFILE --dll -o DLLNAME OBJS LIBS -e ENTRY
</PRE>

<P>
In this example, $(LD) is the linker, ld.


<P>
$(DLLTOOL) is dlltool.


<P>
$(AS) is the assembler, as.


<P>
DLLNAME is the name of the DLL you want to create, e.g., tcl80.dll.


<P>
OBJS is the list of object files you want to put into the DLL.


<P>
LIBS is the list of libraries you want to link the DLL against.  For
example, you may or may not want -lcygwin.  You may want -lkernel32.
Tcl links against -lcygwin -ladvapi32 -luser32 -lgdi32 -lcomdlg32
-lkernel32.


<P>
DEFFILE is the name of your definitions file.  A simple DEFFILE would
consist of "EXPORTS" followed by a list of all symbols which should
be exported from the DLL.  Each symbol should be on a line by itself.
Other programs will only be able to access the listed symbols.


<P>
BASEFILE is a temporary file that is used during this five stage
process, e.g., tcl.base.


<P>
EXPFILE is another temporary file, e.g., tcl.exp.


<P>
ENTRY is the name of the function which you want to use as the entry
point.  This function should be defined using the WINAPI attribute,
and should take three arguments:
        int WINAPI startup (HINSTANCE, DWORD, LPVOID)


<P>
This means that the actual symbol name will have an appended @12, so if
your entry point really is named <SAMP>`startup'</SAMP>, the string you should
use for ENTRY in the above examples would be <SAMP>`startup@12'</SAMP>.


<P>
If your DLL calls any Cygwin API functions, the entry function will need
to initialize the Cygwin impure pointer.  You can do that by declaring
a global variable <SAMP>`_impure_ptr'</SAMP>, and then initializing it in the
entry function.  Be careful not to export the global variable
<SAMP>`_impure_ptr'</SAMP> from your DLL; that is, do not put it in DEFFILE.



<PRE>
/* This is a global variable.  */
struct _reent *_impure_ptr;
extern struct _reent *__imp_reent_data;

int entry (HINSTANT hinst, DWORD reason, LPVOID reserved)
{
  _impure_ptr = __imp_reent_data;
  /* Whatever else you want to do.  */
}
</PRE>

<P>
You may put an optional `--subsystem windows' on the $(LD) lines.  The
Tcl build does this, but I admit that I no longer remember whether
this is important.  Note that if you specify a --subsytem &#60;x&#62; flag to ld,
the -e entry must come after the subsystem flag, since the subsystem flag
sets a different default entry point.


<P>
You may put an optional `--image-base BASEADDR' on the $(LD) lines.
This will set the default image base.  Programs using this DLL will
start up a bit faster if each DLL occupies a different portion of the
address space.  Each DLL starts at the image base, and continues for
whatever size it occupies.


<P>
Now that you've built your DLL, you may want to build a library so
that other programs can link against it.  This is not required: you
could always use the DLL via LoadLibrary.  However, if you want to be
able to link directly against the DLL, you need to create a library.
Do that like this:


<P>
$(DLLTOOL) --as=$(AS) --dllname DLLNAME --def DEFFILE --output-lib LIBFILE


<P>
$(DLLTOOL), $(AS), DLLNAME, and DEFFILE are the same as above.  Make
sure you use the same DLLNAME and DEFFILE, or things won't work right.


<P>
LIBFILE is the name of the library you want to create, e.g.,
libtcl80.a.  You can then link against that library using something
like -ltcl80 in your linker command.




<H3><A NAME="SEC108" HREF="faq_toc.html#TOC108">How can I debug what's going on?</A></H3>

<P>
You can debug your application using <CODE>gdb</CODE>.  Make sure you
compile it with the -g flag!  If your application calls functions in
MS dlls, gdb will complain about not being able to load debug information
for them when you run your program.  This is normal since these dlls
don't contain debugging information (and even if they did, that debug
info would not be compatible with gdb).




<H3><A NAME="SEC109" HREF="faq_toc.html#TOC109">Can I use a system trace mechanism instead?</A></H3>

<P>
Yes.  You can use the <CODE>strace.exe</CODE> utility to run other cygwin
programs with various debug and trace messages enabled.  For information
on using <CODE>strace</CODE>, see the Cygwin User's Guide or the file
<CODE>winsup/utils/utils.sgml</CODE>.




<H3><A NAME="SEC110" HREF="faq_toc.html#TOC110">Why doesn't gdb handle signals?</A></H3>

<P>
Unfortunately, there is only minimal signal handling support in gdb
currently.  Signal handling only works with Windows-type signals.
SIGINT may work, SIGFPE may work, SIGSEGV definitely does.  You cannot
'stop', 'print' or 'nopass' signals like SIGUSR1 or SIGHUP to the
process being debugged.




<H3><A NAME="SEC111" HREF="faq_toc.html#TOC111">The linker complains that it can't find something.</A></H3>

<P>
<STRONG>(Please note: This section has not yet been updated for the latest
net release.)</STRONG>


<P>
A common error is to put the library on the command line before
the thing that needs things from it.


<P>
This is wrong <CODE>gcc -lstdc++ hello.cc</CODE>.
This is right <CODE>gcc hello.cc -lstdc++</CODE>.




<H3><A NAME="SEC112" HREF="faq_toc.html#TOC112">I use a function I know is in the API, but I still get a link error.</A></H3>

<P>
<STRONG>(Please note: This section has not yet been updated for the latest
net release.)</STRONG>


<P>
The function probably isn't declared in the header files, or
the UNICODE stuff for it isn't filled in.




<H3><A NAME="SEC113" HREF="faq_toc.html#TOC113">Can you make DLLs that are linked against libc ?</A></H3>

<P>
<STRONG>(Please note: This section has not yet been updated for the latest
net release.)</STRONG>


<P>
Yes.




<H3><A NAME="SEC114" HREF="faq_toc.html#TOC114">Where is malloc.h?</A></H3>

<P>
<STRONG>(Please note: This section has not yet been updated for the latest
net release.)</STRONG>


<P>
Include stdlib.h instead of malloc.h.




<H3><A NAME="SEC115" HREF="faq_toc.html#TOC115">Can I use my own malloc?</A></H3>

<P>
If you define a function called <CODE>malloc</CODE> in your own code, and link
with the DLL, the DLL <EM>will</EM> call your <CODE>malloc</CODE>.  Needless to
say, you will run into serious problems if your malloc is buggy.


<P>
If you run any programs from the DOS command prompt, rather than from in
bash, the DLL will try and expand the wildcards on the command line.
This process uses <CODE>malloc</CODE> <EM>before</EM> your main line is started.
If you have written your own <CODE>malloc</CODE> to need some initialization
to occur after <CODE>main</CODE> is called, then this will surely break.


<P>
Moreover, there is an outstanding issue with <CODE>_malloc_r</CODE> in
<CODE>newlib</CODE>.  This re-entrant version of <CODE>malloc</CODE> will be called
directly from within <CODE>newlib</CODE>, by-passing your custom version, and
is probably incompatible with it.  But it may not be possible to replace
<CODE>_malloc_r</CODE> too, because <CODE>cygwin1.dll</CODE> does not export it and
Cygwin does not expect your program to replace it.  This is really a
newlib issue, but we are open to suggestions on how to deal with it.




<H3><A NAME="SEC116" HREF="faq_toc.html#TOC116">Can I mix objects compiled with msvc++ and gcc?</A></H3>

<P>
Yes, but only if you are combining C object files.  MSVC C++ uses a
different mangling scheme than GNU C++, so you will have difficulties
combining C++ objects.




<H3><A NAME="SEC117" HREF="faq_toc.html#TOC117">Can I use the gdb debugger to debug programs built by VC++?</A></H3>

<P>
No, not for full (high level source language) debugging.
The Microsoft compilers generate a different type of debugging
symbol information, which gdb does not understand.


<P>
However, the low-level (assembly-type) symbols generated by
Microsoft compilers are coff, which gdb DOES understand.
Therefore you should at least be able to see all of your
global symbols; you just won't have any information about
data types, line numbers, local variables etc.




<H3><A NAME="SEC118" HREF="faq_toc.html#TOC118">Where can I find info on x86 assembly?</A></H3>

<P>
CPU reference manuals for Intel's current chips are available in
downloadable PDF form on Intel's web site:


<P>
<TT><a target="_top" href="http://developer.intel.com/design/pro/manuals/">http://developer.intel.com/design/pro/manuals/</a></TT>




<H3><A NAME="SEC119" HREF="faq_toc.html#TOC119">Shell scripts aren't running properly from my makefiles?</A></H3>

<P>
If your scripts are in the current directory, you must have <SAMP>`.'</SAMP>
(dot) in your $PATH.  (It is not normally there by default.)  Otherwise,
you would need to add /bin/sh in front of each and every shell script
invoked in your Makefiles.




<H3><A NAME="SEC120" HREF="faq_toc.html#TOC120">What preprocessor do I need to know about?</A></H3>

<P>
<STRONG>(Please note: This section has not yet been updated for the latest
net release.)</STRONG>


<P>
We use _WIN32 to signify access to the Win32 API and __CYGWIN__ for
access to the Cygwin environment provided by the dll.


<P>
We chose _WIN32 because this is what Microsoft defines in VC++ and
we thought it would be a good idea for compatibility with VC++ code
to follow their example.  We use _MFC_VER to indicate code that should
be compiled with VC++.




<H3><A NAME="SEC121" HREF="faq_toc.html#TOC121">Where can I get f77 and objc components for B20 EGCS 1.1?</A></H3>

<P>
<STRONG>(Please note: This section has not yet been updated for the latest
net release.)</STRONG>


<P>
B20-compatible versions of the f77 and objc components are available
from <TT><a target="_top" href="http://www.xraylith.wisc.edu/~khan/software/gnu-win32/">http://www.xraylith.wisc.edu/~khan/software/gnu-win32/</a></TT>.




<H3><A NAME="SEC122" HREF="faq_toc.html#TOC122">How should I port my Unix GUI to Windows?</A></H3>

<P>
<STRONG>(Please note: This section has not yet been updated for the latest
net release.)</STRONG>


<P>
There are two basic strategies for porting Unix GUIs to Windows.


<P>
The first is to use a portable graphics library such as tcl/tk, X11, or
V (and others?).  Typically, you will end up with a GUI on Windows that
requires some runtime support.  With tcl/tk, you'll want to include the
necessary library files and the tcl/tk DLLs.  In the case of X11, you'll
need everyone using your program to have an X11 server installed.


<P>
The second method is to rewrite your GUI using Win32 API calls (or MFC
with VC++).  If your program is written in a fairly modular fashion, you
may still want to use Cygwin if your program contains a lot of shared
(non-GUI-related) code.  That way you still gain some of the portability
advantages inherent in using Cygwin.




<H3><A NAME="SEC123" HREF="faq_toc.html#TOC123">Why not use DJGPP ?</A></H3>

<P>
DJGPP is a similar idea, but for DOS instead of Win32.  DJGPP uses a
"DOS extender" to provide a more reasonable operating interface for its
applications.   The Cygwin toolset doesn't have to do this since all of
the applications are native WIN32.   Applications compiled with the
Cygwin tools can access the Win32 API functions, so you can write
programs which use the Windows GUI.


<P>
You can get more info on DJGPP by following
<TT><a target="_top" href="http://www.delorie.com/">http://www.delorie.com/</a></TT>.
<P><HR><P>
Go to the <A HREF="faq_1.html">first</A>, <A HREF="faq_3.html">previous</A>, <A HREF="faq_5.html">next</A>, <A HREF="faq_8.html">last</A> section, <A HREF="faq_toc.html">table of contents</A>.
</BODY>
</HTML>
