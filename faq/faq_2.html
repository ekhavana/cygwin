<HTML>
<HEAD>
<!-- Created by texi2html 1.56k from faq.texinfo on 17 September 2005 -->

<TITLE>The Cygwin FAQ
 - Installation Instructions</TITLE>
</HEAD>
<BODY>
Go to the <A HREF="faq_1.html">first</A>, <A HREF="faq_1.html">previous</A>, <A HREF="faq_3.html">next</A>, <A HREF="faq_7.html">last</A> section, <A HREF="faq_toc.html">table of contents</A>.
<P><HR><P>


<H1><A NAME="SEC6" HREF="faq_toc.html#TOC6">Installation Instructions</A></H1>


<H2><A NAME="SEC7" HREF="faq_toc.html#TOC7">Contents</A></H2>

<P>
There is only one recommended way to install Cygwin, which is to use the GUI
installer "Cygwin Setup".  It is flexible and easy to use.  
You can pick and choose the packages you wish to install, and update
them individually.  Full source code is available for all packages and
tools.  More information on using Cygwin Setup may be found at
<TT><a target="_top" href="http://cygwin.com/cygwin-ug-net/setup-net.html">http://cygwin.com/cygwin-ug-net/setup-net.html</a></TT>.


<P>
If you do it any other way, you're on your own!  That said, keep in mind
that the GUI installer is a "work in progress", so there might be a few
difficulties, especially if you are behind a firewall or have other
specific requirements.  If something doesn't work right for you, and
it's not covered here or in the latest development snapshot at
<TT><a target="_top" href="http://cygwin.com/setup/">http://cygwin.com/setup/</a></TT>, then by all means report it to the
mailing list.


<P>
For a searchable list of packages that can be installed with Cygwin,
see <TT><a target="_top" href="http://cygwin.com/packages/">http://cygwin.com/packages/</a></TT>.




<H2><A NAME="SEC8" HREF="faq_toc.html#TOC8">Installation using "Cygwin Setup"</A></H2>

<P>
The Cygwin Setup program is the <EM>only</EM> recommended way to install
Cygwin. 




<H3><A NAME="SEC9" HREF="faq_toc.html#TOC9">Why not install in C:\?</A></H3>

<P>
The Cygwin Setup program will prompt you for a "root" directory.
The default is <SAMP>`C:\cygwin'</SAMP>, but you can change it.  You are urged not to
choose something like <SAMP>`C:\'</SAMP> (the root directory on the system drive) for
your Cygwin root.  If you do, then critical Cygwin system directories
like <SAMP>`etc'</SAMP>, <SAMP>`lib'</SAMP> and <SAMP>`bin'</SAMP> could easily be corrupted by
other (non-Cygwin) applications or packages that use <SAMP>`\etc'</SAMP>,
<SAMP>`\lib'</SAMP> or <SAMP>`\bin'</SAMP>.  Perhaps there is no conflict now, but who
knows what you might install in the future?  It's also just good common
sense to segregate your Cygwin "filesystems" from the rest of your
Windows system disk.


<P>
(In the past, there had been genuine bugs that would cause problems
for people who installed in <SAMP>`C:\'</SAMP>, but we believe those are gone
now.)




<H3><A NAME="SEC10" HREF="faq_toc.html#TOC10">Can I use Cygwin Setup to get old versions of packages (like gcc-2.95)?</A></H3>

<P>
Cygwin Setup can be used to install any packages that are on a
Cygwin mirror, which usually includes one version previous to the
current one. The complete list may be searched at 
<TT><a target="_top" href="http://cygwin.com/packages/">http://cygwin.com/packages/</a></TT>.  There is no complete archive of
older packages. If you have a problem with the current version of
a Cygwin package, please report it to the mailing list using the 
guidelines at <TT><a target="_top" href="http://cygwin.com/problems.html">http://cygwin.com/problems.html</a></TT>.


<P>
That said, if you really need an older package, you may be able to find
an outdated or archival mirror by searching the web for an old package
version (for example, <SAMP>`gcc2-2.95.3-10-src.tar.bz2'</SAMP>), but keep in
mind that this older version will not be supported by the mailing list
and that installing the older version will not help improve Cygwin.




<H3><A NAME="SEC11" HREF="faq_toc.html#TOC11">Is Cygwin Setup, or one of the packages, infected with a virus?</A></H3>

<P>
Unlikely.  Unless you can confirm it, please don't report it to the
mailing list.  Anti-virus products have been known to detect false
positives when extracting compressed tar archives.  If this causes
problems for you, consider disabling your anti-virus software when
running <CODE>setup</CODE>.  Read the next entry for a fairly safe way to do
this.




<H3><A NAME="SEC12" HREF="faq_toc.html#TOC12">My computer hangs when I run Cygwin Setup!</A></H3>

<P>
Both Network Associates (formerly McAfee) and Norton anti-virus
products have been reported to "hang" when extracting Cygwin tar
archives.  If this happens to you, consider disabling your anti-virus
software when running Cygwin Setup.  The following procedure should be
a fairly safe way to do that:



<OL>
<LI>Download <CODE>setup.exe</CODE> and scan it explicitly.

<LI>Turn off the anti-virus software.

<LI>Run setup to download and extract all the tar files.

<LI>Re-activate your anti-virus software and scan everything

in C:\cygwin (or wherever you chose to install), or your entire hard
disk if you are paranoid.

</OL>

<P>
This should be safe, but only if Cygwin Setup is not substituted by
something malicious, and no mirror has been compromised.




<H3><A NAME="SEC13" HREF="faq_toc.html#TOC13">What packages should I download? Where are 'make', 'gcc', 'vi', etc?</A></H3>
<P>
When using Cygwin Setup for the first time, the default is to install
a minimal subset of packages.  If you want anything beyond that, you
will have to select it explicitly.  See
<TT><a target="_top" href="http://cygwin.com/packages/">http://cygwin.com/packages/</a></TT> for a searchable list of available
packages.


<P>
If you want to build programs, of course you'll need <SAMP>`gcc'</SAMP>,
<SAMP>`binutils'</SAMP>, <SAMP>`make'</SAMP> and probably other packages from the
"Devel" category. Text editors can be found under "Editors".




<H3><A NAME="SEC14" HREF="faq_toc.html#TOC14">How do I just get everything?</A></H3>

<P>
Long ago, the default was to install everything, much to the
irritation of most users.  Now the default is to install only a basic
core of packages.  Cygwin Setup is designed to make it easy to browse
categories and select what you want to install or omit from those
categories.  It's also easy to install everything:



<OL>

<LI>At the "Select Packages" screen, in "Categories" view, at the line

marked "All", click on the word "default" so that it changes to
"install".  (Be patient, there is some computing to do at this step.
It may take a second or two to register the change.)  This tells Setup
to install <EM>everything</EM>, not just what it thinks you should have
by default.

<LI>Now click on the "View" button (twice) until you get the

"Partial" view.  This shows exactly which packages are about to be
downloaded and installed.

</OL>

<P>
This procedure only works for packages that are currently available.
There is no way to tell Cygwin Setup to install all packages by
default from now on.  As new packages become available that would not
be installed by default, you have to repeat the above procedure to get
them.


<P>
In general, a better method (in my opinion), is to:



<OL>

<LI>First download &#38; install all packages that would normally be

installed by default.  This includes fundamental packages and any
updates to what you have already installed.  Then...

<LI>Run Cygwin Setup again, and apply the above technique to get all

new packages that would not be installed by default.  You can check
the list in the Partial View before proceeding, in case there's
something you really <EM>don't</EM> want.

<LI>In the latest version of Cygwin Setup, if you click the "View"

button (twice) more, it shows packages not currently installed.  You
ought to check whether you <EM>really</EM> want to install everything!

</OL>



<H3><A NAME="SEC15" HREF="faq_toc.html#TOC15">How much disk space does Cygwin require?</A></H3>

<P>
That depends, obviously, on what you've chosen to download and
install.  A full installation today is probably larger than 800MB
installed, not including the package archives themselves nor the source
code.


<P>
After installation, the package archives remain in your "Local
Package Directory", by default the location of <CODE>setup.exe</CODE>.  You
may conserve disk space by deleting the subdirectories there.  These
directories will have very weird looking names, being encoded with
their URLs.




<H3><A NAME="SEC16" HREF="faq_toc.html#TOC16">What if setup fails?</A></H3>

<P>
First, make sure that you are using the latest version of Cygwin
Setup.  The latest version is always available from the 'Install
Cygwin now' link on the Cygwin Home Page at <TT><a target="_top" href="http://cygwin.com/">http://cygwin.com/</a></TT>.


<P>
If you are downloading from the Internet, setup will fail if it cannot
download the list of mirrors at
<TT><a target="_top" href="http://cygwin.com/mirrors.html">http://cygwin.com/mirrors.html</a></TT>.  It could be that
the network is too busy.  Something similar could be the cause of a
download site not working.  Try another mirror, or try again later.


<P>
If setup refuses to download a package that you know needs to be
upgraded, try deleting that package's entry from /etc/setup.  If you are
reacting quickly to an announcement on the mailing list, it could be
that the mirror you are using doesn't have the latest copy yet.  Try
another mirror, or try again tomorrow.


<P>
If setup has otherwise behaved strangely, check the files
<SAMP>`setup.log'</SAMP> and <SAMP>`setup.log.full'</SAMP> in <CODE>/var/log</CODE>
(<CODE>C:\cygwin\var\log</CODE> by default).  It may provide some clues as
to what went wrong and why.


<P>
If you're still baffled, search the Cygwin mailing list for clues.
Others may have the same problem, and a solution may be posted there.
If that search proves fruitless, send a query to the Cygwin mailing
list.  You must provide complete details in your query: version of
setup, options you selected, contents of setup.log and setup.log.full,
what happened that wasn't supposed to happen, etc.




<H3><A NAME="SEC17" HREF="faq_toc.html#TOC17">My Windows logon name has a space in it, will this cause problems?</A></H3>

<P>
Most definitely yes!  UNIX shells (and thus Cygwin) use the space
character as a word delimiter.  Under certain circumstances, it is
possible to get around this with various shell quoting mechanisms, but
you are much better off if you can avoid the problem entirely.


<P>
On Windows NT/2000/XP you have two choices:

<OL>

<LI>You can rename the user in the Windows User Manager GUI and then

run mkpasswd.

<LI>You can simply edit the /etc/passwd file and change the Cygwin user name

(first field). It's also a good idea to avoid spaces in the home directory.

</OL>

<P>
On Windows 95/98/ME you can create a new user and run mkpasswd, 
or you can delete the offending entry from /etc/passwd. 
Cygwin will then use the name in the default entry with uid 500.




<H3><A NAME="SEC18" HREF="faq_toc.html#TOC18">My <SAMP>`HOME'</SAMP> environment variable is not what I want.</A></H3>

<P>
When starting Cygwin from Windows, <SAMP>`HOME'</SAMP> is determined as follows
in order of decreasing priority:



<OL>

<LI><SAMP>`HOME'</SAMP> from the Windows environment, translated to POSIX form.

<LI>The entry in /etc/passwd

<LI><SAMP>`HOMEDRIVE'</SAMP> and <SAMP>`HOMEPATH'</SAMP> from the Windows environment

<LI>/

</OL>

<P>
When using Cygwin from the network (telnet, ssh,...), <SAMP>`HOME'</SAMP> is set 
from /etc/passwd.


<P>
If your <SAMP>`HOME'</SAMP> is set to a value such as /cygdrive/c, it is likely 
that it was set in Windows. Start a DOS Command Window and type 
"set HOME" to verify if this is the case.


<P>
Access to shared drives is often restricted when starting from the network,
thus Domain users may wish to have a different <SAMP>`HOME'</SAMP> in the 
Windows environment (on shared drive) than in /etc/passwd (on local drive).
Note that ssh only considers /etc/passwd, disregarding <SAMP>`HOME'</SAMP>. 




<H3><A NAME="SEC19" HREF="faq_toc.html#TOC19">How do I uninstall individual packages?</A></H3>

<P>
Run Cygwin Setup as you would to install packages.  In the list of
packages to install, browse the relevant category or click on the
"View" button to get a full listing.  Click on the cycle glyph until
the action reads "Uninstall".  Proceed by clicking "Next".




<H3><A NAME="SEC20" HREF="faq_toc.html#TOC20">How do I uninstall <STRONG>all</STRONG> of Cygwin?</A></H3>

<P>
Setup has no automatic uninstall facility.  The recommended method to remove all 
of Cygwin is as follows:



<OL>

<LI>Remove all Cygwin services.  If a service is currently running, it must

first be stopped with <SAMP>`cygrunsrv -E name'</SAMP>, where <SAMP>`name'</SAMP> 
is the name of the service.  Then use <SAMP>`cygrunsrv -R name'</SAMP> to uninstall the 
service from the registry.  Repeat this for all services that you installed.  
Common services that might have been installed are <CODE>sshd</CODE>, <CODE>cron</CODE>, 
<CODE>cygserver</CODE>, <CODE>inetd</CODE>, <CODE>apache</CODE>, and so on.

<LI>Stop the X11 server if it is running, and terminate any Cygwin programs

that might be running in the background.  Remove all mount information by typing 
<SAMP>`umount -A'</SAMP> and then exit the command prompt and ensure that no Cygwin 
processes remain.  Note: If you want to save your mount points for a later 
reinstall, first save the output of <SAMP>`mount -m'</SAMP> as described at 
<TT><a target="_top" href="http://cygwin.com/cygwin-ug-net/using-utils.html#mount">http://cygwin.com/cygwin-ug-net/using-utils.html#mount</a></TT>.

<LI>Delete the Cygwin root folder and all subfolders.  If you get an error

that an object is in use, then ensure that you've stopped all services and 
closed all Cygwin programs.  If you get a 'Permission Denied' error then you 
will need to modify the permissions and/or ownership of the files or folders 
that are causing the error.  For example, sometimes files used by system 
services end up owned by the SYSTEM account and not writable by regular users.  

The quickest way to delete the entire tree if you run into this problem is to 
change the ownership of all files and folders to your account.  To do this in 
Windows Explorer, right click on the root Cygwin folder, choose Properties, then 
the Security tab.  Select Advanced, then go to the Owner tab and make sure your 
account is listed as the owner.  Select the 'Replace owner on subcontainers and 
objects' checkbox and press Ok.  After Explorer applies the changes you should 
be able to delete the entire tree in one operation.  Note that you can also 
achieve this in Cygwin by typing <SAMP>`chown -R user /'</SAMP> or by using other tools 
such as CACLS.EXE.

<LI>Delete the Cygwin shortcuts on the Desktop and Start Menu, and anything

left by setup.exe in the download directory.  However, if you plan to reinstall 
Cygwin it's a good idea to keep your setup.exe download directory since you can 
reinstall the packages left in its cache without redownloading them.

<LI>If you added Cygwin to your system path, you should remove it unless you

plan to reinstall Cygwin to the same location.  Similarly, if you set your 
CYGWIN environment variable system-wide and don't plan to reinstall, you should 
remove it.

<LI>Finally, if you want to be thorough you can delete the registry tree

<SAMP>`Software\Cygnus Solutions'</SAMP> under <CODE>HKEY_LOCAL_MACHINE</CODE> and/or 
<CODE>HKEY_CURRENT_USER</CODE>.  However, if you followed the directions above you 
will have already removed all the mount information which is typically the only 
thing stored in the registry.

</OL>



<H3><A NAME="SEC21" HREF="faq_toc.html#TOC21">How do I install snapshots?</A></H3>

<P>
First, are you sure you want to do this?  Snapshots are risky.  They
have not been tested.  Use them <STRONG>only</STRONG> if there is a feature or
bugfix that you need to try, and you are willing to deal with any
problems.


<P>
Before installing a snapshot, you must first Close <STRONG>all</STRONG> Cygwin
applications, including shells and services (e.g. inetd, sshd), before
updating <CODE>cygwin1.dll</CODE>.  You may have to restart Windows to clear
the DLL from memory.


<P>
You cannot use Setup to install a snapshot.


<P>
You should generally install the full
<CODE>cygwin-inst-YYYYMMDD.tar.bz2</CODE> update, rather than just the DLL,
otherwise some components may be out of sync.  Cygwin tar won't be
able to update <CODE>/usr/bin/cygwin1.dll</CODE>, but it should succeed with
everything else.



<OL>

<LI>Download the snapshot, and run:


<PRE>
	cd /
        tar jxvf /posix/path/to/cygwin-inst-YYYYMMDD.tar.bz2 --exclude=usr/bin/cygwin1.dll
        cd /tmp
        tar jxvf /posix/path/to/cygwin-inst-YYYYMMDD.tar.bz2 usr/bin/cygwin1.dll
</PRE>

<LI>After closing all Cygwin apps (see above), use Explorer or the

Windows command shell to move <CODE>C:\cygwin\tmp\usr\bin\cygwin1.dll</CODE>
to <CODE>C:\cygwin\bin\cygwin1.dll</CODE>.

</OL>



<H3><A NAME="SEC22" HREF="faq_toc.html#TOC22">Can Cygwin Setup maintain a "mirror"?</A></H3>

<P>
NO.  Cygwin Setup cannot do this for you.  Use a tool designed for
this purpose.  See <TT><a target="_top" href="http://rsync.samba.org/">http://rsync.samba.org/</a></TT>,
<TT><a target="_top" href="http://wget.sunsite.dk/">http://wget.sunsite.dk/</a></TT> for utilities that can do this for you.
For more information on setting up a custom Cygwin package server, see
the Cygwin Setup homepage at
<TT><a target="_top" href="http://sources.redhat.com/cygwin-apps/setup.html">http://sources.redhat.com/cygwin-apps/setup.html</a></TT>.




<H3><A NAME="SEC23" HREF="faq_toc.html#TOC23">How can I make my own portable Cygwin on CD?</A></H3>

<P>
While some users have successfully done this, for example Indiana
University's XLiveCD <TT><a target="_top" href="http://xlivecd.indiana.edu/">http://xlivecd.indiana.edu/</a></TT>, there is no
easy way to do it. Full instructions for constructing a porttable Cygwin
on CD by hand can be found on the mailing list at
<TT><a target="_top" href="http://www.cygwin.com/ml/cygwin/2003-07/msg01117.html">http://www.cygwin.com/ml/cygwin/2003-07/msg01117.html</a></TT>.  (Thanks
to fergus at bonhard dot uklinux dot net for these instructions.)




<H3><A NAME="SEC24" HREF="faq_toc.html#TOC24">How do I save, restore, delete, or modify the Cygwin information stored in the registry?</A></H3>

<P>
Currently Cygwin stores its mount table information in the registry.  It
is recommended that you use the <SAMP>`mount'</SAMP> and <SAMP>`umount'</SAMP> commands
to manipulate the mount information instead of directly modifying the
registry.


<P>
To save the mount information to a file for later restoration, use
<SAMP>`mount -m &#62; mounts.bat'</SAMP> To remove all mount information use
<SAMP>`umount -A'</SAMP>.  To reincorporate saved mount information just run the
batch file. For more information on using <SAMP>`mount'</SAMP>, see
<TT><a target="_top" href="http://cygwin.com/cygwin-ug-net/using-utils.html#mount">http://cygwin.com/cygwin-ug-net/using-utils.html#mount</a></TT>.
<P><HR><P>
Go to the <A HREF="faq_1.html">first</A>, <A HREF="faq_1.html">previous</A>, <A HREF="faq_3.html">next</A>, <A HREF="faq_7.html">last</A> section, <A HREF="faq_toc.html">table of contents</A>.
</BODY>
</HTML>
