<title>The Cygwin FAQ  - Installation Instructions</title>
Go to the <A HREF="faq_1.html">first</A>, <A HREF="faq_2.html">previous</A>, <A HREF="faq_4.html">next</A>, <A HREF="faq_9.html">last</A> section, <A HREF="faq_toc.html">table of contents</A>.
<P><HR><P>


<H1><A NAME="SEC7" HREF="faq_toc.html#TOC7">Installation Instructions</A></H1>


<H2><A NAME="SEC8" HREF="faq_toc.html#TOC8">Contents</A></H2>

<P>
Unlike previous net releases such as B20.1 and earlier, there is no
monolithic "full" or "usertools" installation.  Rather, you can pick and
choose the packages you wish to install, and update them individually.

</P>
<P>
The following packages are available with the latest net release:

</P>
<P>
ash, bash, binutils, bison, byacc, bzip2, clear, common, cygwin,
dejagnu, diff, expect, fileutils, findutils, flex, gawk, gcc, gdb,
gperf, grep, groff, gzip, inetutils, less, libpng, login, m4, make, man,
patch, sed, shellutils, tar, tcltk, termcap, texinfo, textutils, time,
zlib

</P>
<P>
Full source code is available for all packages and tools.

</P>
<P>
There are a few different ways to install the Cygwin net release, and
we'll try to cover them all here.  It is strongly recommended to use the
automatic <CODE>setup.exe</CODE> program if you can.

</P>


<H2><A NAME="SEC9" HREF="faq_toc.html#TOC9">Installation using the <CODE>setup.exe</CODE> program</A></H2>

<P>
<STRONG>IMPORTANT: If you run <CODE>setup.exe</CODE> on an existing Cygwin
installation, Setup will overwrite the contents of mounted directories.
There is no recovery from this.  If you are upgrading from an older
version of Cygwin, you may wish to back up your current installation and
unmount old mount points in order to isolate them.  Then you can
re-install Cygwin in a new location with new mount points, if this is
what you want.</STRONG>

</P>
<P>
The <CODE>setup.exe</CODE> program is the recommended way to install Cygwin,
but it is still a work in progress.  Expect features and functionality
to change.  For this reason, it is a good idea to note the version and
build time reported by <CODE>setup.exe</CODE> when you run it.  This will help
diagnose problems, should you have any.  Check the cygwin mailing list
for the latest news about <CODE>setup.exe</CODE>.

</P>
<P>
You have a few options when using <CODE>setup.exe</CODE>.  

</P>
<P>
The <CODE>setup.exe</CODE> program will prompt you for a "root" directory.
The default is 'C:\cygwin', but you can change it.  (You are strongly
urged <STRONG>not</STRONG> to choose something like 'C:\'.)  It will contain the
necessary files and directory structure, and will be mounted to '/' as
part of the installation process.

</P>
<P>
After a new installation in the default location, your mount points will
look something like this:

</P>

<PRE>
Device              Directory           Type         Flags
C:\cygwin\bin       /usr/bin            user         binmode
C:\cygwin\lib       /usr/lib            user         binmode
C:\cygwin           /                   user         binmode
</PRE>

<P>
Note that /bin and /usr/bin point to the same location, as do /lib and
/usr/lib.  This is intentional, and you should not undo these mounts
unless you <EM>really</EM> know what you are doing.  Currently,
<CODE>setup.exe</CODE> creates only binary mounts, but future versions will be
more flexible.

</P>
<P>
You can let <CODE>setup.exe</CODE> download all the files for you on the fly.
This is the 'internet' installation.  Or you can download all (or some)
of the packages ahead of time, and instruct <CODE>setup.exe</CODE> to install
Cygwin from those files.  This is the 'directory' installation.  You
must use this method if you want to install only a subset of the
available packages.

</P>
<P>
Note that you cannot combine methods.  If you use the directory
installation, <CODE>setup.exe</CODE> will install <STRONG>only</STRONG> the packages
it finds in the directory; it will not also be able to download packages
from the internet in the same pass.  If you have not carefully chosen
which packages to download, you may not end up with a working Cygwin
installation.  You can, however, add and update packages later.  See
below.

</P>
<P>
Whichever you choose, the first step is to open an ftp mirror site near
you from <TT><a target="_top" href="http://sourceware.cygnus.com/cygwin/mirrors.html">http://sourceware.cygnus.com/cygwin/mirrors.html</a></TT>.  Then
go to the 'latest' directory, download <CODE>setup.exe</CODE> and save that to
an <STRONG>empty temporary directory</STRONG>.  While you're there, download the
README file and read it.  Then read it again.

</P>
<P>
Then proceed according to your choice below.

</P>


<H3><A NAME="SEC10" HREF="faq_toc.html#TOC10">Internet installation with <CODE>setup.exe</CODE></A></H3>

<P>
Shut down <STRONG>all cygwin applications</STRONG> (including inetd, etc.).

</P>
<P>
Then, <STRONG>in a command window</STRONG> ("MS-DOS Prompt" in Windows 95/98),
'<CODE>cd</CODE>' to the temporary directory and type '<CODE>setup.exe</CODE>'.

</P>
<P>
When prompted, specify the location of the root directory, or accept the
default.

</P>
<P>
At the next prompt, choose to install from the Internet ('i').  This is
the default.

</P>
<P>
Setup will connect to sourceware.cygnus.com to read a list of mirror
sites.  Choose one from the list, or choose 'other' to supply your own.
If you supply your own, you must provide a full URL, not just the ftp
hostname.  Setup will then proceed to download all packages from the ftp
site.  Of course this may take a while if you have a slow connection.

</P>
<P>
When finished, Setup will have created a "Cygnus Solutions" folder on
your Start Menu, containing a shortcut to <CODE>cygwin.bat</CODE>, which
invokes bash with various environment variables set correctly.  The
"Uninstall Cygwin" shortcut, if present, is unlikely to do a complete
job.  If you want to completely uninstall Cygwin, you will probably have
to delete some things by hand.

</P>


<H3><A NAME="SEC11" HREF="faq_toc.html#TOC11">Directory installation with <CODE>setup.exe</CODE></A></H3>

<P>
Before proceeding, you must download packages into the temporary
directory containing <CODE>setup.exe</CODE>.  These are in subdirectories of
'latest' and end in .tar.gz and not in -src.tar.gz.  If there is more
than one in a given directory, pick the one with the highest version
number.  Put them together in the temporary directory containing
<CODE>setup.exe</CODE>.  You may preserve the directory structure of 'latest',
and include the -src.tar.gz files, without ill effect.

</P>
<P>
Whatever subset you think is appropriate, it <STRONG>must</STRONG> contain the
'cygwin' package, or you will not end up with a working Cygwin
installation.

</P>
<P>
When you have all the necessary tar files together with
<CODE>setup.exe</CODE>, proceed as you would for an internet installation,
except choose directory installation ('d') when prompted.  Setup will
install from the tar files that it finds there.  Here are the details
again:

</P>
<P>
Shut down <STRONG>all cygwin applications</STRONG> (including inetd, etc.).

</P>
<P>
Then, <STRONG>in a command window</STRONG> ("MS-DOS Prompt" in Windows 95/98),
'<CODE>cd</CODE>' to the temporary directory and type '<CODE>setup.exe</CODE>'.

</P>
<P>
When prompted, specify the location of the root directory, or accept the
default.

</P>
<P>
At the next prompt, choose to install from the current directory ('d').
This is <STRONG>not</STRONG> the default.

</P>
<P>
When finished, Setup will have created a "Cygnus Solutions" folder on
your Start Menu, containing a shortcut to <CODE>cygwin.bat</CODE>, which
invokes bash with various environment variables set correctly.  The
"Uninstall Cygwin" shortcut, if present, is unlikely to do a complete
job.  If you want to completely uninstall Cygwin, you will probably have
to delete some things by hand.

</P>


<H3><A NAME="SEC12" HREF="faq_toc.html#TOC12">Adding or updating packages</A></H3>

<P>
Later versions of <CODE>setup.exe</CODE> permit you to add and/or update
packages to an existing cygwin installation.

</P>
<P>
To update your installation, create an empty directory, cd to it, and
download the latest version of <CODE>setup.exe</CODE> from the <CODE>latest</CODE>
directory at a Cygwin mirror near you.

</P>
<P>
Once you've downloaded <CODE>setup.exe</CODE>, type

<PRE>
	./setup &#60;pkg&#62;
</PRE>

<P>
where "&#60;pkg&#62;" is the name of the package you wish to update, such as
"cygwin" or "gdb" or "make" or ...

</P>
<P>
Answer the questions as you did when you first installed Cygwin.  This
will update the package.  As with the initial installation, you can
update from the (i)nternet or from the (d)irectory.  The latter requires
that you download the <CODE>.tar.gz</CODE> file of the package ahead of time,
along with <CODE>setup.exe</CODE>.

</P>
<P>
If you are updating "cygwin", then you must close <STRONG>all</STRONG> Cygwin
applications (including <CODE>inetd</CODE>, for example), and run
<CODE>setup.exe</CODE> from the Windows command prompt.

</P>
<P>
If you supply the <CODE>-u</CODE> option to <CODE>setup.exe</CODE>, then
<CODE>setup.exe</CODE> will only update the package if an older version is
currently installed.  For example:

<PRE>
	./setup -u gdb
</PRE>

<P>
However, if you currently have a development snapshot installed, setup
may fail to update the package, because development snapshots have their
version numbers "bumped" to the next release number.  In this case, you
should not use <CODE>-u</CODE>.  Omitting <CODE>-u</CODE> forces <CODE>setup.exe</CODE> to
perform the update, regardless of whether <CODE>setup.exe</CODE> deems it
necessary.

</P>


<H3><A NAME="SEC13" HREF="faq_toc.html#TOC13">Problems running <CODE>setup.exe</CODE></A></H3>



<H4><A NAME="SEC14" HREF="faq_toc.html#TOC14">Error message: "Unable to retrieve the list of cygwin mirrors..."</A></H4>

<P>
This means that <CODE>setup.exe</CODE> could not make an http connection to
<TT><a target="_top" href="http://sourceware.cygnus.com/cygwin/mirrors.html">http://sourceware.cygnus.com/cygwin/mirrors.html</a></TT>.  This is
required for an (i)nternet install.  Either sourceware.cygnus.com was
too busy, or there is a problem with your network.  Note that
<CODE>setup.exe</CODE> has very limited proxy functionality for firewalls, and
depends on IE4 or later being installed and configured properly.  If you
cannot get the (i)nternet installation to work, just download the
packages yourself and do a (d)irectory install.

</P>


<H4><A NAME="SEC15" HREF="faq_toc.html#TOC15">System hangs when unpacking tar archives</A></H4>

<P>
Your anti-virus software is interfering with <CODE>setup.exe</CODE>.  You will
have to disable it before running setup.  In that case, you will
probably want to:

</P>

<OL>
<LI>download all the .tar.gz files for the packages, along with <CODE>setup.exe</CODE>

<LI>scan it all for viruses

<LI>disable the anti-virus software

<LI>perform a (d)irectory install

<LI>scan everything below your Cygwin root directory (<CODE>C:\cygwin</CODE> by default)

</OL>

<P><HR><P>
Go to the <A HREF="faq_1.html">first</A>, <A HREF="faq_2.html">previous</A>, <A HREF="faq_4.html">next</A>, <A HREF="faq_9.html">last</A> section, <A HREF="faq_toc.html">table of contents</A>.

