<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=ANSI_X3.4-1968"><title>Cygwin FAQ</title><link rel="stylesheet" href="docbook.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.74.0"><link rel="home" href="faq-nochunks.html" title="Cygwin FAQ"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Cygwin FAQ</th></tr></table><hr></div><div class="article" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="faq-nochunks"></a>Cygwin FAQ</h2></div></div><hr></div><div class="qandaset"><dl><dt>1.  <a href="faq-nochunks.html#faq.about">About Cygwin</a></dt><dd><dl><dt>1.1. <a href="faq-nochunks.html#faq.what">What is it?</a></dt><dt>1.2. <a href="faq-nochunks.html#faq.what.supported">What versions of Windows are supported?</a></dt><dt>1.3. <a href="faq-nochunks.html#faq.what.where">Where can I get it?</a></dt><dt>1.4. <a href="faq-nochunks.html#faq.what.free">Is it free software?</a></dt><dt>1.5. <a href="faq-nochunks.html#faq.what.version">What version of Cygwin is this, anyway?</a></dt><dt>1.6. <a href="faq-nochunks.html#faq.what.who">Who's behind the project?</a></dt></dl></dd><dt>2.  <a href="faq-nochunks.html#faq.setup">Setting up Cygwin</a></dt><dd><dl><dt>2.1. <a href="faq-nochunks.html#faq.setup.setup">What is the recommended installation procedure?</a></dt><dt>2.2. <a href="faq-nochunks.html#faq.setup.automated">What about an automated Cygwin installation?</a></dt><dt>2.3. <a href="faq-nochunks.html#faq.setup.cli">Does setup.exe accept command-line arguments?</a></dt><dt>2.4. <a href="faq-nochunks.html#faq.setup.c">Why not install in C:\?</a></dt><dt>2.5. <a href="faq-nochunks.html#faq.setup.old-versions">Can I use Cygwin Setup to get old versions of packages (like gcc-2.95)?</a></dt><dt>2.6. <a href="faq-nochunks.html#faq.setup.virus">Is Cygwin Setup, or one of the packages, infected with a virus?</a></dt><dt>2.7. <a href="faq-nochunks.html#faq.setup.hang">My computer hangs when I run Cygwin Setup!</a></dt><dt>2.8. <a href="faq-nochunks.html#faq.setup.what-packages">What packages should I download? Where are 'make', 'gcc', 'vi', etc?  </a></dt><dt>2.9. <a href="faq-nochunks.html#faq.setup.everything">How do I just get everything?</a></dt><dt>2.10. <a href="faq-nochunks.html#faq.setup.disk-space">How much disk space does Cygwin require?</a></dt><dt>2.11. <a href="faq-nochunks.html#faq.setup.what-upgraded">How do I know which version I upgraded from?</a></dt><dt>2.12. <a href="faq-nochunks.html#faq.setup.setup-fails">What if setup fails?</a></dt><dt>2.13. <a href="faq-nochunks.html#faq.setup.name-with-space">My Windows logon name has a space in it, will this cause problems?</a></dt><dt>2.14. <a href="faq-nochunks.html#faq.setup.home">My HOME environment variable is not what I want.</a></dt><dt>2.15. <a href="faq-nochunks.html#faq.setup.uninstall-packages">How do I uninstall individual packages?</a></dt><dt>2.16. <a href="faq-nochunks.html#faq.setup.uninstall-service">How do I uninstall a Cygwin service?</a></dt><dt>2.17. <a href="faq-nochunks.html#faq.setup.uninstall-all">How do I uninstall all of Cygwin?</a></dt><dt>2.18. <a href="faq-nochunks.html#faq.setup.snapshots">How do I install snapshots?</a></dt><dt>2.19. <a href="faq-nochunks.html#faq.setup.mirror">Can Cygwin Setup maintain a ``mirror''?</a></dt><dt>2.20. <a href="faq-nochunks.html#faq.setup.cd">How can I make my own portable Cygwin on CD?</a></dt><dt>2.21. <a href="faq-nochunks.html#faq.setup.registry">How do I save, restore, delete, or modify the Cygwin information stored in the registry?</a></dt></dl></dd><dt>3.  <a href="faq-nochunks.html#faq.resources">Further Resources</a></dt><dd><dl><dt>3.1. <a href="faq-nochunks.html#faq.resources.documentation">Where's the documentation?</a></dt><dt>3.2. <a href="faq-nochunks.html#faq.resources.mailing-lists">What Cygwin mailing lists can I join?</a></dt><dt>3.3. <a href="faq-nochunks.html#faq.resources.problems">What if I have a problem? (Or: Why won't you/the mailing list answer my questions?)</a></dt></dl></dd><dt>4.  <a href="faq-nochunks.html#faq.using">Using Cygwin</a></dt><dd><dl><dt>4.1. <a href="faq-nochunks.html#faq.using.missing-dlls">Why can't my application locate cygncurses5.dll?  or cygintl.dll?  or cygreadline5.dll?  or ...?</a></dt><dt>4.2. <a href="faq-nochunks.html#faq.using.slow">Why is Cygwin suddenly so slow?</a></dt><dt>4.3. <a href="faq-nochunks.html#faq.using.services">Why don't my services work?</a></dt><dt>4.4. <a href="faq-nochunks.html#faq.using.shares">Why can't my services access network shares?</a></dt><dt>4.5. <a href="faq-nochunks.html#faq.using.path">How should I set my PATH?</a></dt><dt>4.6. <a href="faq-nochunks.html#faq.using.not-found">Bash says "command not found", but it's right there!</a></dt><dt>4.7. <a href="faq-nochunks.html#faq.using.converting-paths">How do I convert between Windows and UNIX paths?</a></dt><dt>4.8. <a href="faq-nochunks.html#faq.using.bashrc">Why doesn't bash read my .bashrc file on startup?</a></dt><dt>4.9. <a href="faq-nochunks.html#faq.using.bash-insensitive">How can I get bash filename completion to be case insensitive?</a></dt><dt>4.10. <a href="faq-nochunks.html#faq.using.filename-spaces">Can I use paths/filenames containing spaces in them?</a></dt><dt>4.11. <a href="faq-nochunks.html#faq.using.shortcuts">Why can't I cd into a shortcut to a directory?</a></dt><dt>4.12. <a href="faq-nochunks.html#faq.using.find">I'm having basic problems with find.  Why?</a></dt><dt>4.13. <a href="faq-nochunks.html#faq.using.su">Why doesn't su work?</a></dt><dt>4.14. <a href="faq-nochunks.html#faq.using.man">Why doesn't man (or apropos) work?</a></dt><dt>4.15. <a href="faq-nochunks.html#faq.using.chmod">Why doesn't chmod work?</a></dt><dt>4.16. <a href="faq-nochunks.html#faq.using.mkdir-network">Why doesn't mkdir -p work on a network share?</a></dt><dt>4.17. <a href="faq-nochunks.html#faq.using.shell-scripts">Why doesn't my shell script work?</a></dt><dt>4.18. <a href="faq-nochunks.html#faq.using.printing">How do I print under Cygwin?</a></dt><dt>4.19. <a href="faq-nochunks.html#faq.using.unicode">Why don't international (Unicode) characters work?</a></dt><dt>4.20. <a href="faq-nochunks.html#faq.using.cursor">Why don't cursor keys work under Win95/Win98?</a></dt><dt>4.21. <a href="faq-nochunks.html#faq.using.multiple-copies">Is it OK to have multiple copies of the DLL?</a></dt><dt>4.22. <a href="faq-nochunks.html#faq.using.third-party.multiple-copies">
I read the above but I want to bundle Cygwin with a product, and ship it
to customer sites.  How can I do this without conflicting with any
Cygwin installed by the user?
</a></dt><dt>4.23. <a href="faq-nochunks.html#faq.using.bundling-cygwin">
Can I bundle Cygwin with my product for free?
</a></dt><dt>4.24. <a href="faq-nochunks.html#faq.using.private-cygwin">
So I can't install a private version of the Cygwin DLL without
conflictng with the system cygwin?
</a></dt><dt>4.25. <a href="faq-nochunks.html#faq.using.older-cygwin-conflict">
But doesn't that mean that if some application installs an older Cygwin
DLL on top of a newer DLL, my application will break?
</a></dt><dt>4.26. <a href="faq-nochunks.html#faq.using.missing-packages">Why isn't package XYZ available in Cygwin?</a></dt><dt>4.27. <a href="faq-nochunks.html#faq.using.old-packages">Why is the Cygwin package of XYZ so out of date?</a></dt><dt>4.28. <a href="faq-nochunks.html#faq.using.accessing-drives">How can I access other drives?</a></dt><dt>4.29. <a href="faq-nochunks.html#faq.using.copy-and-paste">How can I copy and paste into Cygwin console windows?</a></dt><dt>4.30. <a href="faq-nochunks.html#faq.using.firewall">What firewall should I use with Cygwin? </a></dt><dt>4.31. <a href="faq-nochunks.html#faq.using.sharing-files">How can I share files between Unix and Windows?</a></dt><dt>4.32. <a href="faq-nochunks.html#faq.using.case-sensitive">Is Cygwin case-sensitive? What are managed mounts?</a></dt><dt>4.33. <a href="faq-nochunks.html#faq.using.dos-filenames">What about DOS special filenames?</a></dt><dt>4.34. <a href="faq-nochunks.html#faq.using.hangs">When it hangs, how do I get it back?</a></dt><dt>4.35. <a href="faq-nochunks.html#faq.using.directory-structure">Why the weird directory structure?</a></dt><dt>4.36. <a href="faq-nochunks.html#faq.using.anti-virus">How do anti-virus programs like Cygwin?</a></dt><dt>4.37. <a href="faq-nochunks.html#faq.using.emacs">Is there a Cygwin port of GNU Emacs?</a></dt><dt>4.38. <a href="faq-nochunks.html#faq.using.ntemacs">What about NT Emacs?</a></dt><dt>4.39. <a href="faq-nochunks.html#faq.using.xemacs">What about XEmacs?</a></dt><dt>4.40. <a href="faq-nochunks.html#faq.using.console-window">Is there a better alternative to the standard console window?</a></dt><dt>4.41. <a href="faq-nochunks.html#faq.using.info-error">info error "dir: No such file or directory"</a></dt><dt>4.42. <a href="faq-nochunks.html#faq.using.out-of-queue">Why do I get a message saying Out of Queue slots?</a></dt><dt>4.43. <a href="faq-nochunks.html#faq.using.symlinks-samba">Why don't symlinks work on samba-mounted filesystems?</a></dt><dt>4.44. <a href="faq-nochunks.html#faq.using.df-incorrect">Why does df report sizes incorrectly.</a></dt><dt>4.45. <a href="faq-nochunks.html#faq.using.tcl-tk">Why doesn't Cygwin tcl/tk understand Cygwin paths?</a></dt><dt>4.46. <a href="faq-nochunks.html#faq.using.bloda">What applications have been found to interfere with Cygwin?</a></dt></dl></dd><dt>5.  <a href="faq-nochunks.html#faq.api">Cygwin API Questions</a></dt><dd><dl><dt>5.1. <a href="faq-nochunks.html#faq.api.everything">How does everything work?</a></dt><dt>5.2. <a href="faq-nochunks.html#faq.api.snapshots">Are development snapshots for the Cygwin library available?</a></dt><dt>5.3. <a href="faq-nochunks.html#faq.api.cr-lf">How is the DOS/Unix CR/LF thing handled?</a></dt><dt>5.4. <a href="faq-nochunks.html#faq.api.threads">Is the Cygwin library multi-thread-safe?</a></dt><dt>5.5. <a href="faq-nochunks.html#faq.api.winnt">Why is some functionality only supported in Windows NT?</a></dt><dt>5.6. <a href="faq-nochunks.html#faq.api.fork">How is fork() implemented?</a></dt><dt>5.7. <a href="faq-nochunks.html#faq.api.globbing">How does wildcarding (globbing) work?</a></dt><dt>5.8. <a href="faq-nochunks.html#faq.api.symlinks">How do symbolic links work?</a></dt><dt>5.9. <a href="faq-nochunks.html#faq.api.executables">Why do some files, which are not executables have the 'x' type.</a></dt><dt>5.10. <a href="faq-nochunks.html#faq.api.secure">How secure is Cygwin in a multi-user environment?</a></dt><dt>5.11. <a href="faq-nochunks.html#faq.api.net-functions">How do the net-related functions work?</a></dt><dt>5.12. <a href="faq-nochunks.html#faq.api.winsock">I don't want Unix sockets, how do I use normal Win32 winsock?</a></dt><dt>5.13. <a href="faq-nochunks.html#faq.api.versions">What version numbers are associated with Cygwin?</a></dt><dt>5.14. <a href="faq-nochunks.html#faq.api.timezone">Why isn't _timezone set correctly?</a></dt><dt>5.15. <a href="faq-nochunks.html#faq.api.mouse">Is there a mouse interface?</a></dt></dl></dd><dt>6.  <a href="faq-nochunks.html#faq.programming">Programming Questions</a></dt><dd><dl><dt>6.1. <a href="faq-nochunks.html#faq.programming.packages">How do I contribute a package?</a></dt><dt>6.2. <a href="faq-nochunks.html#faq.programming.contribute">How do I contribute to Cygwin?</a></dt><dt>6.3. <a href="faq-nochunks.html#faq.programming.huge-executables">Why are compiled executables so huge?!?</a></dt><dt>6.4. <a href="faq-nochunks.html#faq.programming.glibc">Where is glibc?</a></dt><dt>6.5. <a href="faq-nochunks.html#faq.programming.objective-c">Where is Objective C?</a></dt><dt>6.6. <a href="faq-nochunks.html#faq.programming.make-execvp">Why does my make fail on Cygwin with an execvp error? </a></dt><dt>6.7. <a href="faq-nochunks.html#faq.programming.ipc">How can I use IPC, or why do I get a Bad system call
error?</a></dt><dt>6.8. <a href="faq-nochunks.html#faq.programming.winmain">Why the undefined reference to WinMain@16?</a></dt><dt>6.9. <a href="faq-nochunks.html#faq.programming.win32-api">How do I use Win32 API calls?</a></dt><dt>6.10. <a href="faq-nochunks.html#faq.programming.win32-no-cygwin">How do I compile a Win32 executable that doesn't use Cygwin?</a></dt><dt>6.11. <a href="faq-nochunks.html#faq.programming.static-linking">Can I build a Cygwin program that does not require cygwin1.dll at runtime?</a></dt><dt>6.12. <a href="faq-nochunks.html#faq.programming.msvcrt-and-cygwin">Can I link with both MSVCRT*.DLL and cygwin1.dll?</a></dt><dt>6.13. <a href="faq-nochunks.html#faq.programming.no-console-window">How do I make the console window go away?</a></dt><dt>6.14. <a href="faq-nochunks.html#faq.programming.make-spaces">Why does make complain about a "missing separator"?</a></dt><dt>6.15. <a href="faq-nochunks.html#faq.programming.win32-headers">Why can't we redistribute Microsoft's Win32 headers?</a></dt><dt>6.16. <a href="faq-nochunks.html#faq.programming.msvs-mingw">How do I use cygwin1.dll with Visual Studio or MinGW?</a></dt><dt>6.17. <a href="faq-nochunks.html#faq.programming.linking-lib">How do I link against a .lib file?</a></dt><dt>6.18. <a href="faq-nochunks.html#faq.programming.building-cygwin">How do I build Cygwin on my own?</a></dt><dt>6.19. <a href="faq-nochunks.html#faq.programming.debugging-cygwin">I may have found a bug in Cygwin, how can I debug it (the symbols in gdb look funny)?</a></dt><dt>6.20. <a href="faq-nochunks.html#faq.programming.compiling-unsupported">How can I compile Cygwin for an unsupported platform (PowerPC, Alpha, ARM, Itanium)?</a></dt><dt>6.21. <a href="faq-nochunks.html#faq.programming.adjusting-heap">How can I adjust the heap/stack size of an application?</a></dt><dt>6.22. <a href="faq-nochunks.html#faq.programming.dll-cygcheck">How can I find out which DLLs are needed by an executable?</a></dt><dt>6.23. <a href="faq-nochunks.html#faq.programming.dll-building">How do I build a DLL?</a></dt><dt>6.24. <a href="faq-nochunks.html#faq.programming.breakpoint">How can I set a breakpoint at MainCRTStartup?</a></dt><dt>6.25. <a href="faq-nochunks.html#faq.programming.dll-relocatable">How can I build a relocatable dll?</a></dt><dt>6.26. <a href="faq-nochunks.html#faq.programming.debug">How can I debug what's going on?</a></dt><dt>6.27. <a href="faq-nochunks.html#faq.programming.system-trace">Can I use a system trace mechanism instead?</a></dt><dt>6.28. <a href="faq-nochunks.html#faq.programming.gdb-signals">Why doesn't gdb handle signals?</a></dt><dt>6.29. <a href="faq-nochunks.html#faq.programming.linker">The linker complains that it can't find something.</a></dt><dt>6.30. <a href="faq-nochunks.html#faq.programming.stat64">Why do I get an error using struct stat64?</a></dt><dt>6.31. <a href="faq-nochunks.html#faq.programming.undeclared-functions">I use a function I know is in the API, but I still get a link error.</a></dt><dt>6.32. <a href="faq-nochunks.html#faq.programming.libc">Can you make DLLs that are linked against libc ?</a></dt><dt>6.33. <a href="faq-nochunks.html#faq.programming.malloc-h">Where is malloc.h?</a></dt><dt>6.34. <a href="faq-nochunks.html#faq.programming.own-malloc">Can I use my own malloc?</a></dt><dt>6.35. <a href="faq-nochunks.html#faq.programming.msvc-gcc-objects">Can I mix objects compiled with msvc++ and gcc?</a></dt><dt>6.36. <a href="faq-nochunks.html#faq.programming.gdb-msvc">Can I use the gdb debugger to debug programs built by VC++?</a></dt><dt>6.37. <a href="faq-nochunks.html#faq.programming.x86-assembly">Where can I find info on x86 assembly?</a></dt><dt>6.38. <a href="faq-nochunks.html#faq.programming.make-scripts">Shell scripts aren't running properly from my makefiles?</a></dt><dt>6.39. <a href="faq-nochunks.html#faq.programming.preprocessor">What preprocessor do I need to know about?</a></dt><dt>6.40. <a href="faq-nochunks.html#faq.programming.unix-gui">How should I port my Unix GUI to Windows?</a></dt><dt>6.41. <a href="faq-nochunks.html#faq.programming.djgpp">Why not use DJGPP ?</a></dt></dl></dd><dt>7.  <a href="faq-nochunks.html#faq.known-problems">Known Problems in the Latest Net Release</a></dt><dd><dl><dt>7.1. <a href="faq-nochunks.html#faq.known-problems.pipe-key">Pipe key (|) doesn't work on non-US keyboards in Win9x/ME</a></dt><dt>7.2. <a href="faq-nochunks.html#faq.known-problems.win9x-tape">Cannot access tape devices with mt on Win9x</a></dt><dt>7.3. <a href="faq-nochunks.html#faq.known-problems.win9x-scp">On Win9x, scp leaves ssh processes running.</a></dt></dl></dd><dt>8.  <a href="faq-nochunks.html#faq.copyright">Copyright</a></dt><dd><dl><dt>8.1. <a href="faq-nochunks.html#faq.what.copyright">What are the copyrights?</a></dt></dl></dd></dl><table border="0" summary="Q and A Set"><col align="left" width="1%"><tbody><tr class="qandadiv"><td align="left" valign="top" colspan="2"><h3 class="title"><a name="faq.about"></a>1. About Cygwin</h3></td></tr><tr class="toc"><td align="left" valign="top" colspan="2"><dl><dt>1.1. <a href="faq-nochunks.html#faq.what">What is it?</a></dt><dt>1.2. <a href="faq-nochunks.html#faq.what.supported">What versions of Windows are supported?</a></dt><dt>1.3. <a href="faq-nochunks.html#faq.what.where">Where can I get it?</a></dt><dt>1.4. <a href="faq-nochunks.html#faq.what.free">Is it free software?</a></dt><dt>1.5. <a href="faq-nochunks.html#faq.what.version">What version of Cygwin is this, anyway?</a></dt><dt>1.6. <a href="faq-nochunks.html#faq.what.who">Who's behind the project?</a></dt></dl></td></tr><tr class="question"><td align="left" valign="top"><a name="faq.what"></a><p><b>1.1.</b></p></td><td align="left" valign="top"><p>What is it?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>The Cygwin tools are ports of the popular GNU development tools for
Microsoft Windows.  They run thanks to the Cygwin library which
provides the UNIX system calls and environment these programs expect.
</p><p>With these tools installed, it is possible to write Win32 console or
GUI applications that make use of the standard Microsoft Win32 API
and/or the Cygwin API.  As a result, it is possible to easily
port many significant Unix programs without the need
for extensive changes to the source code.  This includes configuring
and building most of the available GNU software (including the packages
included with the Cygwin development tools themselves).  Even if
the development tools are of little to no use to you, you may have
interest in the many standard Unix utilities provided with the package.
They can be used both from the bash shell (provided) or from the
standard Windows command shell.
</p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq.what.supported"></a><p><b>1.2.</b></p></td><td align="left" valign="top"><p>What versions of Windows are supported?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Cygwin can be expected to run on all modern 32 bit versions of
Windows, except Windows CE.  This includes Windows 95/98/ME/NT/2000/XP/2003
and the WOW64 32 bit environment on released 64 bit versions of Windows.
As far as we know no one is working on a native 64 bit version of Cygwin.
Since Cygwin is a community-supported free software project, patches to
provide support for other versions would be thoughtfully considered.
Paid support contracts or enhancements are available through Red Hat.  For 
information about getting a Red Hat support contract, see 
<a class="ulink" href="http://cygwin.com/license.html" target="_top">http://cygwin.com/license.html</a>.
</p><p>Keep in mind that Cygwin can only do as much as the underlying OS
supports.  Because of this, Cygwin will behave differently, and
exhibit different limitations, on the various versions of Windows.
</p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq.what.where"></a><p><b>1.3.</b></p></td><td align="left" valign="top"><p>Where can I get it?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>The home page for the Cygwin project is <a class="ulink" href="http://cygwin.com/" target="_top">http://cygwin.com/</a>.
There you should find everything you need for Cygwin, including links
for download and setup, a current list of mirror sites, a User's
Guide, an API Reference, mailing lists and archives, and additional
ported software.
</p><p>You can find documentation for the individual GNU tools at
<a class="ulink" href="http://www.gnu.org/manual/" target="_top">http://www.gnu.org/manual/</a>.  (You should read GNU manuals from a
local mirror.  Check <a class="ulink" href="http://www.gnu.org/server/list-mirrors.html" target="_top">http://www.gnu.org/server/list-mirrors.html</a>
for a list of them.)
</p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq.what.free"></a><p><b>1.4.</b></p></td><td align="left" valign="top"><p>Is it free software?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Yes.  Parts are GNU software (gcc, gas, ld, etc...), parts are covered
by the standard X11 license, some of it is public domain, some of
it was written by Cygnus and placed under the GPL.  None of it is
shareware.  You don't have to pay anyone to use it but you should be
sure to read the copyright section of the FAQ for more information on
how the GNU General Public License may affect your use of these tools.
</p><p>In particular, if you intend to port a proprietary (non-GPL'd)
application using Cygwin, you will need the proprietary-use license 
for the Cygwin library.  This is available for purchase; please visit
<a class="ulink" href="http://cygwin.com/license.html" target="_top">http://cygwin.com/license.html</a> for more information.
All other questions should be sent to the project
mailing list cygwin@cygwin.com.
</p><p>Note that when we say "free" we mean freedom, not price.  The goal of
such freedom is that the people who use a given piece of software
should be able to change it to fit their needs, learn from it, share
it with their friends, etc.  The Cygwin license allows you those
freedoms, so it is free software.
</p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq.what.version"></a><p><b>1.5.</b></p></td><td align="left" valign="top"><p>What version of Cygwin <span class="emphasis"><em>is</em></span> this, anyway?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>To find the version of the Cygwin DLL installed, you can use
<code class="filename">uname</code> as on Linux or <code class="filename">cygcheck</code>. Refer to each command's
<code class="literal">--help</code> output and the <a class="ulink" href="http://cygwin.com/cygwin-ug-net/" target="_top">Cygwin User's Guide</a> for more information.
</p><p>If you are looking for the version number for the whole Cygwin
release, there is none. Each package in the Cygwin release has its own
version.  The packages in Cygwin are continually improving, thanks to
the efforts of net volunteers who maintain the Cygwin binary ports.
Each package has its own version numbers and its own release process.
</p><p>So, how do you get the most up-to-date version of Cygwin?  Easy.  Just
download the Cygwin Setup program from
<a class="ulink" href="http://cygwin.com/setup.exe" target="_top">http://cygwin.com/setup.exe</a>.  This program will handle the task
of updating the packages on your system to the latest version. For
more information about using Cygwin's <code class="filename">setup.exe</code>, see 
<a class="ulink" href="http://cygwin.com/cygwin-ug-net/setup-net.html" target="_top">Setting Up Cygwin</a>
in the Cygwin User's Guide. 
</p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq.what.who"></a><p><b>1.6.</b></p></td><td align="left" valign="top"><p>Who's behind the project?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><span class="bold"><strong>(Please note that if you have cygwin-specific questions, all of these people will appreciate it if you use the cygwin mailing lists rather than sending personal email.)</strong></span>
</p><p>Chris Faylor provided the Cygwin signal handler code.  He also maintains
the <a class="ulink" href="http://sourceware.org" target="_top">sourceware site</a> where the
cygwin project lives.</p><p>Corinna Vinschen has contributed several useful fixes to the path
handling code, console support, improved security handling, and raw
device support.  Corinna is currently employed by Red Hat as a
GDB/Cygwin engineer.
</p><p>Steve Chamberlain designed and implemented
Cygwin in 1995-1996 while working for Cygnus.  He worked with the Net
to improve the technology, ported/integrated many of the user tools
for the first time to Cygwin, and produced all of the releases up to
beta 14.  Steve is not currently employed by Red Hat.
</p><p>Sergey Okhapkin has been an invaluable Net contributor.  He implemented
the tty/pty support, has played a significant role in revamping signal
and exception handling, and has made countless contributions throughout
the library.  He also provided binaries of the development snapshots to
the Net after the beta 19 release.
</p><p>Philippe Giacinti contributed the implementation of dlopen, dlclose,
dlsym, dlfork, and dlerror in Cygwin.
</p><p>Ian Lance Taylor did a much-needed rework of the path handling code for
beta 18, and has made many assorted fixes throughout the code.  Jeremy
Allison made significant contributions in the area of file handling and
process control, and rewrote select from scratch.  Doug Evans rewrote
the path-handling code in beta 16, among other things.  Kim Knuttila and
Michael Meissner put in many long hours working on the now-defunct
PowerPC port.  Jason Molenda and Mark Eichin have also made important
contributions.
</p><p>Please note that all of us working on Cygwin try to
be as responsive as possible and deal with patches and questions as we
get them, but realistically we don't have time to answer all of the
email that is sent to the main mailing list.  Making Net releases of the
Win32 tools and helping people on the Net out is not our primary job
function, so some email will have to go unanswered.
</p><p>Many thanks to everyone using the tools for their many contributions in
the form of advice, bug reports, and code fixes.  Keep them coming!
</p></td></tr><tr class="qandadiv"><td align="left" valign="top" colspan="2"><h3 class="title"><a name="faq.setup"></a>2. Setting up Cygwin</h3></td></tr><tr class="toc"><td align="left" valign="top" colspan="2"><dl><dt>2.1. <a href="faq-nochunks.html#faq.setup.setup">What is the recommended installation procedure?</a></dt><dt>2.2. <a href="faq-nochunks.html#faq.setup.automated">What about an automated Cygwin installation?</a></dt><dt>2.3. <a href="faq-nochunks.html#faq.setup.cli">Does setup.exe accept command-line arguments?</a></dt><dt>2.4. <a href="faq-nochunks.html#faq.setup.c">Why not install in C:\?</a></dt><dt>2.5. <a href="faq-nochunks.html#faq.setup.old-versions">Can I use Cygwin Setup to get old versions of packages (like gcc-2.95)?</a></dt><dt>2.6. <a href="faq-nochunks.html#faq.setup.virus">Is Cygwin Setup, or one of the packages, infected with a virus?</a></dt><dt>2.7. <a href="faq-nochunks.html#faq.setup.hang">My computer hangs when I run Cygwin Setup!</a></dt><dt>2.8. <a href="faq-nochunks.html#faq.setup.what-packages">What packages should I download? Where are 'make', 'gcc', 'vi', etc?  </a></dt><dt>2.9. <a href="faq-nochunks.html#faq.setup.everything">How do I just get everything?</a></dt><dt>2.10. <a href="faq-nochunks.html#faq.setup.disk-space">How much disk space does Cygwin require?</a></dt><dt>2.11. <a href="faq-nochunks.html#faq.setup.what-upgraded">How do I know which version I upgraded from?</a></dt><dt>2.12. <a href="faq-nochunks.html#faq.setup.setup-fails">What if setup fails?</a></dt><dt>2.13. <a href="faq-nochunks.html#faq.setup.name-with-space">My Windows logon name has a space in it, will this cause problems?</a></dt><dt>2.14. <a href="faq-nochunks.html#faq.setup.home">My HOME environment variable is not what I want.</a></dt><dt>2.15. <a href="faq-nochunks.html#faq.setup.uninstall-packages">How do I uninstall individual packages?</a></dt><dt>2.16. <a href="faq-nochunks.html#faq.setup.uninstall-service">How do I uninstall a Cygwin service?</a></dt><dt>2.17. <a href="faq-nochunks.html#faq.setup.uninstall-all">How do I uninstall all of Cygwin?</a></dt><dt>2.18. <a href="faq-nochunks.html#faq.setup.snapshots">How do I install snapshots?</a></dt><dt>2.19. <a href="faq-nochunks.html#faq.setup.mirror">Can Cygwin Setup maintain a ``mirror''?</a></dt><dt>2.20. <a href="faq-nochunks.html#faq.setup.cd">How can I make my own portable Cygwin on CD?</a></dt><dt>2.21. <a href="faq-nochunks.html#faq.setup.registry">How do I save, restore, delete, or modify the Cygwin information stored in the registry?</a></dt></dl></td></tr><tr class="question"><td align="left" valign="top"><a name="faq.setup.setup"></a><p><b>2.1.</b></p></td><td align="left" valign="top"><p>What is the recommended installation procedure?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>There is only one recommended way to install Cygwin, which is to use the GUI
installer ``Cygwin Setup''.  It is flexible and easy to use.  
You can pick and choose the packages you wish to install, and update
them individually.  Full source code is available for all packages and
tools.  More information on using Cygwin Setup may be found at
<a class="ulink" href="http://cygwin.com/cygwin-ug-net/setup-net.html" target="_top">http://cygwin.com/cygwin-ug-net/setup-net.html</a>.
</p><p>If you do it any other way, you're on your own!  That said, keep in mind
that the GUI installer is a "work in progress", so there might be a few
difficulties, especially if you are behind a firewall or have other
specific requirements.  If something doesn't work right for you, and
it's not covered here or in the latest development snapshot at
<a class="ulink" href="http://cygwin.com/snapshots/" target="_top">http://cygwin.com/snapshots/</a>, then by all means report it to the
mailing list.
</p><p>For a searchable list of packages that can be installed with Cygwin,
see <a class="ulink" href="http://cygwin.com/packages/" target="_top">http://cygwin.com/packages/</a>.
</p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq.setup.automated"></a><p><b>2.2.</b></p></td><td align="left" valign="top"><p>What about an automated Cygwin installation?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>The Cygwin Setup program is designed to be interactive, but there are
a few different ways to automate it. If you are deploying to multiple systems,
the best way is to run through a full installation once, saving the entire 
downloaded package tree. Then, on target systems, run setup.exe as a "Local
Install" pointed at your downloaded package tree. You could do this 
non-interactively with the command line options 
<code class="literal">setup.exe -q -L -l x:\cygwin-local\</code>, where your downloaded 
package tree is in <code class="literal">x:\cygwin-local\</code> (see the next FAQ for
an explanation of those options.)
</p><p>
For other options, search the mailing lists with terms such as 
<a class="ulink" href="http://www.google.com/search?q=cygwin+automated+setup" target="_top">cygwin automated setup</a> or
<a class="ulink" href="http://www.google.com/search?q=automated+cygwin+install" target="_top">automated cygwin install</a>.
</p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq.setup.cli"></a><p><b>2.3.</b></p></td><td align="left" valign="top"><p>Does setup.exe accept command-line arguments?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Yes, the full listing is written to the <code class="literal">setup.log</code> file 
when you run <code class="literal">setup.exe --help</code>. The current options are:
</p><pre class="screen">
Command Line Options:
 -D --download                          Download from internet
 -L --local-install                     Install from local directory
 -s --site                              Download site
 -R --root                              Root installation directory
 -q --quiet-mode                        Unattended setup mode
 -h --help                              print help
 -l --local-package-dir                 Local package directory
 -r --no-replaceonreboot                Disable replacing in-use files on next
                                        reboot.
 -n --no-shortcuts                      Disable creation of desktop and start
                                        menu shortcuts
 -N --no-startmenu                      Disable creation of start menu shortcut
 -d --no-desktop                        Disable creation of desktop shortcut
 -A --disable-buggy-antivirus           Disable known or suspected buggy anti
                                        virus software packages during
                                        execution.
</pre><p>
</p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq.setup.c"></a><p><b>2.4.</b></p></td><td align="left" valign="top"><p>Why not install in C:\?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>The Cygwin Setup program will prompt you for a "root" directory.
The default is <code class="literal">C:\cygwin</code>, but you can change it.  You are urged not to
choose something like <code class="literal">C:\</code> (the root directory on the system drive) for
your Cygwin root.  If you do, then critical Cygwin system directories
like <code class="literal">etc</code>, <code class="literal">lib</code> and <code class="literal">bin</code> could easily be corrupted by
other (non-Cygwin) applications or packages that use <code class="literal">\etc</code>,
<code class="literal">\lib</code> or <code class="literal">\bin</code>.  Perhaps there is no conflict now, but who
knows what you might install in the future?  It's also just good common
sense to segregate your Cygwin "filesystems" from the rest of your
Windows system disk.
</p><p>(In the past, there had been genuine bugs that would cause problems
for people who installed in <code class="literal">C:\</code>, but we believe those are gone
now.)
</p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq.setup.old-versions"></a><p><b>2.5.</b></p></td><td align="left" valign="top"><p>Can I use Cygwin Setup to get old versions of packages (like gcc-2.95)?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Cygwin Setup can be used to install any packages that are on a
Cygwin mirror, which usually includes one version previous to the
current one. The complete list may be searched at 
<a class="ulink" href="http://cygwin.com/packages/" target="_top">http://cygwin.com/packages/</a>.  There is no complete archive of
older packages. If you have a problem with the current version of
a Cygwin package, please report it to the mailing list using the 
guidelines at <a class="ulink" href="http://cygwin.com/problems.html" target="_top">http://cygwin.com/problems.html</a>.
</p><p>That said, if you really need an older package, you may be able to find
an outdated or archival mirror by searching the web for an old package
version (for example, <code class="literal">gcc2-2.95.3-10-src.tar.bz2</code>), but keep in
mind that this older version will not be supported by the mailing list
and that installing the older version will not help improve Cygwin.
</p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq.setup.virus"></a><p><b>2.6.</b></p></td><td align="left" valign="top"><p>Is Cygwin Setup, or one of the packages, infected with a virus?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Unlikely.  Unless you can confirm it, please don't report it to the
mailing list.  Anti-virus products have been known to detect false
positives when extracting compressed tar archives.  If this causes
problems for you, consider disabling your anti-virus software when
running <code class="literal">setup</code>.  Read the next entry for a fairly safe way to do
this.
</p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq.setup.hang"></a><p><b>2.7.</b></p></td><td align="left" valign="top"><p>My computer hangs when I run Cygwin Setup!</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Both Network Associates (formerly McAfee) and Norton anti-virus
products have been reported to "hang" when extracting Cygwin tar
archives.  If this happens to you, consider disabling your anti-virus
software when running Cygwin Setup.  The following procedure should be
a fairly safe way to do that:
</p><div class="orderedlist"><ol type="1"><li><p>Download <code class="literal">setup.exe</code> and scan it explicitly.
</p></li><li><p>Turn off the anti-virus software.
</p></li><li><p>Run setup to download and extract all the tar files.
</p></li><li><p>Re-activate your anti-virus software and scan everything
in C:\cygwin (or wherever you chose to install), or your entire hard
disk if you are paranoid.
</p></li></ol></div><p>This should be safe, but only if Cygwin Setup is not substituted by
something malicious, and no mirror has been compromised.
</p><p>See also <a class="ulink" href="http://cygwin.com/faq/faq.using.html#faq.using.bloda" target="_top">http://cygwin.com/faq/faq.using.html#faq.using.bloda</a>
for a list of applications that have been known, at one time or another, to
interfere with the normal functioning of Cygwin.
</p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq.setup.what-packages"></a><p><b>2.8.</b></p></td><td align="left" valign="top"><p>What packages should I download? Where are 'make', 'gcc', 'vi', etc?  </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>When using Cygwin Setup for the first time, the default is to install
a minimal subset of all available packages.  If you want anything beyond that,
you will have to select it explicitly.  See 
<a class="ulink" href="http://cygwin.com/packages/" target="_top">http://cygwin.com/packages/</a> for a searchable list of available
packages, or use <code class="literal">cygcheck -p </code> as described in the Cygwin
User's Guide at
<a class="ulink" href="http://cygwin.com/cygwin-ug-net/using-utils.html#cygcheck" target="_top">http://cygwin.com/cygwin-ug-net/using-utils.html#cygcheck</a>.
</p><p>If you want to build programs, of course you'll need <code class="literal">gcc</code>,
<code class="literal">binutils</code>, <code class="literal">make</code> and probably other packages from the
``Devel'' category. Text editors can be found under ``Editors''.
</p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq.setup.everything"></a><p><b>2.9.</b></p></td><td align="left" valign="top"><p>How do I just get everything?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Long ago, the default was to install everything, much to the
irritation of most users.  Now the default is to install only a basic
core of packages.  Cygwin Setup is designed to make it easy to browse
categories and select what you want to install or omit from those
categories.  It's also easy to install everything:
</p><div class="orderedlist"><ol type="1"><li><p>At the ``Select Packages'' screen, in ``Categories'' view, at the line 
marked ``All'', click on the word ``default'' so that it changes to
``install''.  (Be patient, there is some computing to do at this step.
It may take a second or two to register the change.)  This tells Setup
to install <span class="emphasis"><em>everything</em></span>, not just what it thinks you should have
by default.
</p></li><li><p>Now click on the ``View'' button (twice) until you get the
``Partial'' view.  This shows exactly which packages are about to be
downloaded and installed.
</p></li></ol></div><p>This procedure only works for packages that are currently available.
There is no way to tell Cygwin Setup to install all packages by
default from now on.  As new packages become available that would not
be installed by default, you have to repeat the above procedure to get
them.
</p><p>In general, a better method (in my opinion), is to:
</p><div class="orderedlist"><ol type="1"><li><p>First download &amp; install all packages that would normally be
installed by default.  This includes fundamental packages and any
updates to what you have already installed.  Then...
</p></li><li><p>Run Cygwin Setup again, and apply the above technique to get all
new packages that would not be installed by default.  You can check
the list in the Partial View before proceeding, in case there's
something you really <span class="emphasis"><em>don't</em></span> want.
</p></li><li><p>In the latest version of Cygwin Setup, if you click the ``View''
button (twice) more, it shows packages not currently installed.  You
ought to check whether you <span class="emphasis"><em>really</em></span> want to install everything!
</p></li></ol></div></td></tr><tr class="question"><td align="left" valign="top"><a name="faq.setup.disk-space"></a><p><b>2.10.</b></p></td><td align="left" valign="top"><p>How much disk space does Cygwin require?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>That depends, obviously, on what you've chosen to download and
install.  A full installation today is probably larger than 800MB
installed, not including the package archives themselves nor the source
code.
</p><p>After installation, the package archives remain in your ``Local
Package Directory'', by default the location of <code class="literal">setup.exe</code>.  You
may conserve disk space by deleting the subdirectories there.  These
directories will have very weird looking names, being encoded with
their URLs  (named <code class="literal">ftp%3a%2f...</code>).
</p><p>Of course, you can keep them around in case you want to reinstall a
package. If you want to clean out only the outdated packages, Michael Chase
has written a script called <code class="literal">clean_setup.pl</code>, available
at <a class="ulink" href="ftp://cygwin.com/pub/cygwin/unsupported/clean_setup.pl" target="_top">ftp://cygwin.com/pub/cygwin/unsupported/clean_setup.pl</a>.
</p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq.setup.what-upgraded"></a><p><b>2.11.</b></p></td><td align="left" valign="top"><p>How do I know which version I upgraded from?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Detailed logs of the most recent Cygwin Setup session can be found in
<code class="literal">/var/log/setup.log.full</code> and less verbose information about
prior actions is in <code class="literal">/var/log/setup.log</code>.
</p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq.setup.setup-fails"></a><p><b>2.12.</b></p></td><td align="left" valign="top"><p>What if setup fails?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>First, make sure that you are using the latest version of Cygwin Setup.
The latest version is always available from the 'Install Cygwin now' link on
the Cygwin Home Page at <a class="ulink" href="http://cygwin.com/" target="_top">http://cygwin.com/</a>.  </p><p>If you are downloading from the Internet, setup will fail if it cannot
download the list of mirrors at <a class="ulink" href="http://cygwin.com/mirrors.html" target="_top">http://cygwin.com/mirrors.html</a>.
It could be that the network is too busy.  Something similar could be the
cause of a download site not working.  Try another mirror, or try again
later.
</p><p>If setup refuses to download a package that you know needs to be
upgraded, try deleting that package's entry from /etc/setup.  If you are
reacting quickly to an announcement on the mailing list, it could be
that the mirror you are using doesn't have the latest copy yet.  Try
another mirror, or try again tomorrow.
</p><p>If setup has otherwise behaved strangely, check the files
<code class="literal">setup.log</code> and <code class="literal">setup.log.full</code> in
<code class="literal">/var/log</code> (<code class="literal">C:\cygwin\var\log</code> by
default).  It may provide some clues as to what went wrong and why.
</p><p>If you're still baffled, search the Cygwin mailing list for clues.
Others may have the same problem, and a solution may be posted there.
If that search proves fruitless, send a query to the Cygwin mailing
list.  You must provide complete details in your query: version of
setup, options you selected, contents of setup.log and setup.log.full,
what happened that wasn't supposed to happen, etc.
</p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq.setup.name-with-space"></a><p><b>2.13.</b></p></td><td align="left" valign="top"><p>My Windows logon name has a space in it, will this cause problems?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Most definitely yes!  UNIX shells (and thus Cygwin) use the space
character as a word delimiter.  Under certain circumstances, it is
possible to get around this with various shell quoting mechanisms, but
you are much better off if you can avoid the problem entirely.
</p><p>On Windows NT/2000/XP you have two choices:
</p><div class="orderedlist"><ol type="1"><li><p>You can rename the user in the Windows User Manager GUI and then
run mkpasswd.
</p></li><li><p>You can simply edit the /etc/passwd file and change the Cygwin user name 
(first field). It's also a good idea to avoid spaces in the home directory.
</p></li></ol></div><p>On Windows 95/98/ME you can create a new user and run mkpasswd, 
or you can delete the offending entry from /etc/passwd. 
Cygwin will then use the name in the default entry with uid 500.
</p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq.setup.home"></a><p><b>2.14.</b></p></td><td align="left" valign="top"><p>My <code class="literal">HOME</code> environment variable is not what I want.</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>When starting Cygwin from Windows, <code class="literal">HOME</code> is determined as follows
in order of decreasing priority:
</p><div class="orderedlist"><ol type="1"><li><p><code class="literal">HOME</code> from the Windows environment, translated to POSIX form.
</p></li><li><p>The entry in /etc/passwd
</p></li><li><p><code class="literal">HOMEDRIVE</code> and <code class="literal">HOMEPATH</code> from the Windows environment
</p></li><li><p>/
</p></li></ol></div><p>When using Cygwin from the network (telnet, ssh,...), <code class="literal">HOME</code> is set 
from /etc/passwd.
</p><p>If your <code class="literal">HOME</code> is set to a value such as /cygdrive/c, it is likely 
that it was set in Windows. Start a DOS Command Window and type 
"set HOME" to verify if this is the case.
</p><p>Access to shared drives is often restricted when starting from the network,
thus Domain users may wish to have a different <code class="literal">HOME</code> in the 
Windows environment (on shared drive) than in /etc/passwd (on local drive).
Note that ssh only considers /etc/passwd, disregarding <code class="literal">HOME</code>. 
</p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq.setup.uninstall-packages"></a><p><b>2.15.</b></p></td><td align="left" valign="top"><p>How do I uninstall individual packages?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Run Cygwin Setup as you would to install packages.  In the list of
packages to install, browse the relevant category or click on the
``View'' button to get a full listing.  Click on the cycle glyph until
the action reads ``Uninstall''.  Proceed by clicking ``Next''.
</p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq.setup.uninstall-service"></a><p><b>2.16.</b></p></td><td align="left" valign="top"><p>How do I uninstall a Cygwin service?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><div class="orderedlist"><ol type="1"><li><p>List all services you have installed with 
<code class="literal">cygrunsrv -L</code>. If you do not have 
<code class="literal">cygrunsrv</code> installed, skip this FAQ.
</p></li><li><p>Before removing the service, you should stop it with 
<code class="literal">cygrunsrv --stop <em class="replaceable"><code>service_name</code></em></code>. 
If you have <code class="literal">inetd</code> configured to run as a standalone
service, it will not show up in the list, but 
<code class="literal">cygrunsrv --stop inetd</code> will work to stop it as 
well.
</p></li><li><p>Lastly, remove the service with
<code class="literal">cygrunsrv --remove <em class="replaceable"><code>service_name</code></em></code>.
</p></li></ol></div></td></tr><tr class="question"><td align="left" valign="top"><a name="faq.setup.uninstall-all"></a><p><b>2.17.</b></p></td><td align="left" valign="top"><p>How do I uninstall <span class="bold"><strong>all</strong></span> of Cygwin?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Setup has no automatic uninstall facility.  The recommended method to remove all 
of Cygwin is as follows:
</p><div class="orderedlist"><ol type="1"><li><p>If you have any Cygwin services running, remove by repeating 
the instructions in <a class="ulink" href="http://cygwin.com/faq/faq.setup.html#faq.setup.uninstall-service" target="_top">http://cygwin.com/faq/faq.setup.html#faq.setup.uninstall-service</a> for
all services that you installed.  Common services that might have been
installed are <code class="literal">sshd</code>, <code class="literal">cron</code>, 
<code class="literal">cygserver</code>, <code class="literal">inetd</code>, <code class="literal">apache</code>, 
<code class="literal">postgresql</code>, and so on.
</p></li><li><p>Stop the X11 server if it is running, and terminate any Cygwin programs 
that might be running in the background.  Remove all mount information by typing 
<code class="literal">umount -A</code> and then exit the command prompt and ensure that no Cygwin 
processes remain.  Note: If you want to save your mount points for a later 
reinstall, first save the output of <code class="literal">mount -m</code> as described at 
<a class="ulink" href="http://cygwin.com/cygwin-ug-net/using-utils.html#mount" target="_top">http://cygwin.com/cygwin-ug-net/using-utils.html#mount</a>.
</p></li><li><p>Delete the Cygwin root folder and all subfolders.  If you get an error 
that an object is in use, then ensure that you've stopped all services and 
closed all Cygwin programs.  If you get a 'Permission Denied' error then you 
will need to modify the permissions and/or ownership of the files or folders 
that are causing the error.  For example, sometimes files used by system 
services end up owned by the SYSTEM account and not writable by regular users.  
</p><p>The quickest way to delete the entire tree if you run into this problem is to 
change the ownership of all files and folders to your account.  To do this in 
Windows Explorer, right click on the root Cygwin folder, choose Properties, then 
the Security tab.  If you are using Windows XP Home or Simple File Sharing,
you will need to boot into Safe Mode to access the Security tab.  Select 
Advanced, then go to the Owner tab and make sure your account is listed as 
the owner.  Select the 'Replace owner on subcontainers and objects' checkbox 
and press Ok.  After Explorer applies the changes you should be able to 
delete the entire tree in one operation.  Note that you can also achieve 
this in Cygwin by typing <code class="literal">chown -R user /</code> or by using other 
tools such as <code class="literal">CACLS.EXE</code>. 
</p></li><li><p>Delete the Cygwin shortcuts on the Desktop and Start Menu, and anything 
left by setup.exe in the download directory.  However, if you plan to reinstall 
Cygwin it's a good idea to keep your setup.exe download directory since you can 
reinstall the packages left in its cache without redownloading them.
</p></li><li><p>If you added Cygwin to your system path, you should remove it unless you 
plan to reinstall Cygwin to the same location.  Similarly, if you set your 
CYGWIN environment variable system-wide and don't plan to reinstall, you should 
remove it.
</p></li><li><p>Finally, if you want to be thorough you can delete the registry tree 
<code class="literal">Software\Cygnus Solutions</code> under <code class="literal">HKEY_LOCAL_MACHINE</code> and/or 
<code class="literal">HKEY_CURRENT_USER</code>.  However, if you followed the directions above you 
will have already removed all the mount information which is typically the only 
thing stored in the registry.
</p></li></ol></div></td></tr><tr class="question"><td align="left" valign="top"><a name="faq.setup.snapshots"></a><p><b>2.18.</b></p></td><td align="left" valign="top"><p>How do I install snapshots?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>First, are you sure you want to do this?  Snapshots are risky.  They
have not been tested.  Use them <span class="bold"><strong>only</strong></span> if there is a feature or
bugfix that you need to try, and you are willing to deal with any
problems, or at the request of a Cygwin developer.
</p><p>You should generally install the full
<code class="literal">cygwin-inst-YYYYMMDD.tar.bz2</code> update, rather than just the DLL,
otherwise some components may be out of sync.
</p><p>You cannot use Cygwin Setup to install a snapshot.
</p><p>First, you will need to download the snapshot from the snapshots
page at <a class="ulink" href="http://cygwin.com/snapshots/" target="_top">http://cygwin.com/snapshots/</a>.  Note the directory where
you saved the snapshot tarball.
</p><p>Before installing a snapshot, you must first Close <span class="bold"><strong>all</strong></span> Cygwin
applications, including shells and services (e.g., <code class="literal">inetd</code>, <code class="literal">sshd</code>).
You will not be able to replace <code class="literal">cygwin1.dll</code> if any Cygwin process is
running.  You may have to restart Windows to clear the DLL from memory
(beware of automatic service startup).
</p><p>Most of the downloaded snapshot can be installed using <code class="literal">tar</code>.  Cygwin
<code class="literal">tar</code> won't be able to update <code class="literal">/usr/bin/cygwin1.dll</code> (because it's
used by <code class="literal">tar</code> itself), but it should succeed with everything else.  If
you are only installing the DLL snapshot, skip the first tar command.  Open
a <code class="literal">bash</code> shell (it should be the only running Cygwin process) and issue
the following commands:
</p><pre class="screen">
	/bin/tar -C/ -jxvf /posix/path/to/cygwin-inst-YYYYMMDD.tar.bz2 --exclude=usr/bin/cygwin1.dll
	/bin/tar -C/tmp -jxvf /posix/path/to/cygwin-inst-YYYYMMDD.tar.bz2 usr/bin/cygwin1.dll
</pre><p>
</p><p>Exit the bash shell, and use Explorer or the Windows command shell to
first rename <code class="literal">C:\cygwin\bin\cygwin1.dll</code> to
<code class="literal">C:\cygwin\bin\cygwin1-prev.dll</code> and then move
<code class="literal">C:\cygwin\tmp\usr\bin\cygwin1.dll</code>
to <code class="literal">C:\cygwin\bin\cygwin1.dll</code> (assuming you installed Cygwin in
<code class="literal">C:\cygwin</code>).
</p><p>The operative word in trying the snapshots is "<span class="emphasis"><em>trying</em></span>".  If you
notice a problem with the snapshot that was not present in the release
DLL (what we call a "regression"), please report it to the Cygwin
mailing list (see <a class="ulink" href="http://cygwin.com/problems.html" target="_top">http://cygwin.com/problems.html</a> for problem
reporting guidelines).  If you wish to go back to the older version of the
DLL, again, close all Cygwin processes, delete
<code class="literal">C:\cygwin\bin\cygwin1.dll</code>, and
rename <code class="literal">C:\cygwin\bin\cygwin1-prev.dll</code> back to
<code class="literal">C:\cygwin\bin\cygwin1.dll</code> (again assuming that your "<code class="literal">/</code>" is
<code class="literal">C:\cygwin</code>).  To restore the rest of the snapshot
files, reinstall the "<code class="literal">cygwin</code>" package using Setup.
</p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq.setup.mirror"></a><p><b>2.19.</b></p></td><td align="left" valign="top"><p>Can Cygwin Setup maintain a ``mirror''?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>NO.  Cygwin Setup cannot do this for you.  Use a tool designed for
this purpose.  See <a class="ulink" href="http://rsync.samba.org/" target="_top">http://rsync.samba.org/</a>,
<a class="ulink" href="http://wget.sunsite.dk/" target="_top">http://wget.sunsite.dk/</a> for utilities that can do this for you.
For more information on setting up a custom Cygwin package server, see
the Cygwin Setup homepage at
<a class="ulink" href="http://sources.redhat.com/cygwin-apps/setup.html" target="_top">http://sources.redhat.com/cygwin-apps/setup.html</a>.
</p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq.setup.cd"></a><p><b>2.20.</b></p></td><td align="left" valign="top"><p>How can I make my own portable Cygwin on CD?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>While some users have successfully done this, for example Indiana
University's XLiveCD <a class="ulink" href="http://xlivecd.indiana.edu/" target="_top">http://xlivecd.indiana.edu/</a>, there is no
easy way to do it. Full instructions for constructing a porttable Cygwin
on CD by hand can be found on the mailing list at
<a class="ulink" href="http://www.cygwin.com/ml/cygwin/2003-07/msg01117.html" target="_top">http://www.cygwin.com/ml/cygwin/2003-07/msg01117.html</a>.  (Thanks
to fergus at bonhard dot uklinux dot net for these instructions.)
</p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq.setup.registry"></a><p><b>2.21.</b></p></td><td align="left" valign="top"><p>How do I save, restore, delete, or modify the Cygwin information stored in the registry?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Currently Cygwin stores its mount table information in the registry.  It
is recommended that you use the <code class="literal">mount</code> and <code class="literal">umount</code> commands
to manipulate the mount information instead of directly modifying the
registry.
</p><p>To save the mount information to a file for later restoration, use
<code class="literal">mount -m &gt; mounts.bat</code> To remove all mount information use
<code class="literal">umount -A</code>.  To reincorporate saved mount information just run the
batch file. For more information on using <code class="literal">mount</code>, see
<a class="ulink" href="http://cygwin.com/cygwin-ug-net/using-utils.html#mount" target="_top">http://cygwin.com/cygwin-ug-net/using-utils.html#mount</a>.
</p></td></tr><tr class="qandadiv"><td align="left" valign="top" colspan="2"><h3 class="title"><a name="faq.resources"></a>3. Further Resources</h3></td></tr><tr class="toc"><td align="left" valign="top" colspan="2"><dl><dt>3.1. <a href="faq-nochunks.html#faq.resources.documentation">Where's the documentation?</a></dt><dt>3.2. <a href="faq-nochunks.html#faq.resources.mailing-lists">What Cygwin mailing lists can I join?</a></dt><dt>3.3. <a href="faq-nochunks.html#faq.resources.problems">What if I have a problem? (Or: Why won't you/the mailing list answer my questions?)</a></dt></dl></td></tr><tr class="question"><td align="left" valign="top"><a name="faq.resources.documentation"></a><p><b>3.1.</b></p></td><td align="left" valign="top"><p>Where's the documentation?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>If you have installed Cygwin, you can find lots of documentation in
<code class="literal">/usr/share/doc/</code>.  Some packages have Cygwin specific
instructions in a file
<code class="literal">/usr/share/doc/Cygwin/<em class="replaceable"><code>package_name</code></em>.README</code>.
In addition, many packages ship with standard documentation, which you can
find in
<code class="literal">/usr/share/doc/<em class="replaceable"><code>package_name</code></em></code> or
by using the <code class="literal">man</code> or <code class="literal">info</code> tools. (Hint:
use <code class="literal">cygcheck -l <em class="replaceable"><code>package_name</code></em></code> to
list what man pages the package includes.)  Some older packages still keep
their documentation in <code class="literal">/usr/doc/</code>
instead of <code class="literal">/usr/share/doc/</code>.
</p><p>There are links to quite a lot of documentation on the main Cygwin
project web page, <a class="ulink" href="http://cygwin.com/" target="_top">http://cygwin.com/</a>,
including this FAQ.  Be sure to at least read any 'Release Notes' or 'Readme'
or 'read this' links on the main web page, if there are any.
</p><p>There is a comprehensive Cygwin User's Guide at <a class="ulink" href="http://cygwin.com/cygwin-ug-net/cygwin-ug-net.html" target="_top">http://cygwin.com/cygwin-ug-net/cygwin-ug-net.html</a>
and an API Reference at <a class="ulink" href="http://cygwin.com/cygwin-api/cygwin-api.html" target="_top">http://cygwin.com/cygwin-api/cygwin-api.html</a>.
</p><p>You can find documentation for the individual GNU tools at <a class="ulink" href="http://www.fsf.org/manual/" target="_top">http://www.fsf.org/manual/</a>.  (You
should read GNU manuals from a local mirror, check <a class="ulink" href="http://www.fsf.org/server/list-mirrors.html" target="_top">http://www.fsf.org/server/list-mirrors.html</a>
for a list of them.)
</p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq.resources.mailing-lists"></a><p><b>3.2.</b></p></td><td align="left" valign="top"><p>What Cygwin mailing lists can I join?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Comprehensive information about the Cygwin mailing lists can be found at
<a class="ulink" href="http://cygwin.com/lists.html" target="_top">http://cygwin.com/lists.html</a>.
</p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq.resources.problems"></a><p><b>3.3.</b></p></td><td align="left" valign="top"><p>What if I have a problem? (Or: Why won't you/the mailing list answer my questions?)</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Comprehensive information about reporting problems with Cygwin can be found at <a class="ulink" href="http://cygwin.com/problems.html" target="_top">http://cygwin.com/problems.html</a>.
</p></td></tr><tr class="qandadiv"><td align="left" valign="top" colspan="2"><h3 class="title"><a name="faq.using"></a>4. Using Cygwin</h3></td></tr><tr class="toc"><td align="left" valign="top" colspan="2"><dl><dt>4.1. <a href="faq-nochunks.html#faq.using.missing-dlls">Why can't my application locate cygncurses5.dll?  or cygintl.dll?  or cygreadline5.dll?  or ...?</a></dt><dt>4.2. <a href="faq-nochunks.html#faq.using.slow">Why is Cygwin suddenly so slow?</a></dt><dt>4.3. <a href="faq-nochunks.html#faq.using.services">Why don't my services work?</a></dt><dt>4.4. <a href="faq-nochunks.html#faq.using.shares">Why can't my services access network shares?</a></dt><dt>4.5. <a href="faq-nochunks.html#faq.using.path">How should I set my PATH?</a></dt><dt>4.6. <a href="faq-nochunks.html#faq.using.not-found">Bash says "command not found", but it's right there!</a></dt><dt>4.7. <a href="faq-nochunks.html#faq.using.converting-paths">How do I convert between Windows and UNIX paths?</a></dt><dt>4.8. <a href="faq-nochunks.html#faq.using.bashrc">Why doesn't bash read my .bashrc file on startup?</a></dt><dt>4.9. <a href="faq-nochunks.html#faq.using.bash-insensitive">How can I get bash filename completion to be case insensitive?</a></dt><dt>4.10. <a href="faq-nochunks.html#faq.using.filename-spaces">Can I use paths/filenames containing spaces in them?</a></dt><dt>4.11. <a href="faq-nochunks.html#faq.using.shortcuts">Why can't I cd into a shortcut to a directory?</a></dt><dt>4.12. <a href="faq-nochunks.html#faq.using.find">I'm having basic problems with find.  Why?</a></dt><dt>4.13. <a href="faq-nochunks.html#faq.using.su">Why doesn't su work?</a></dt><dt>4.14. <a href="faq-nochunks.html#faq.using.man">Why doesn't man (or apropos) work?</a></dt><dt>4.15. <a href="faq-nochunks.html#faq.using.chmod">Why doesn't chmod work?</a></dt><dt>4.16. <a href="faq-nochunks.html#faq.using.mkdir-network">Why doesn't mkdir -p work on a network share?</a></dt><dt>4.17. <a href="faq-nochunks.html#faq.using.shell-scripts">Why doesn't my shell script work?</a></dt><dt>4.18. <a href="faq-nochunks.html#faq.using.printing">How do I print under Cygwin?</a></dt><dt>4.19. <a href="faq-nochunks.html#faq.using.unicode">Why don't international (Unicode) characters work?</a></dt><dt>4.20. <a href="faq-nochunks.html#faq.using.cursor">Why don't cursor keys work under Win95/Win98?</a></dt><dt>4.21. <a href="faq-nochunks.html#faq.using.multiple-copies">Is it OK to have multiple copies of the DLL?</a></dt><dt>4.22. <a href="faq-nochunks.html#faq.using.third-party.multiple-copies">
I read the above but I want to bundle Cygwin with a product, and ship it
to customer sites.  How can I do this without conflicting with any
Cygwin installed by the user?
</a></dt><dt>4.23. <a href="faq-nochunks.html#faq.using.bundling-cygwin">
Can I bundle Cygwin with my product for free?
</a></dt><dt>4.24. <a href="faq-nochunks.html#faq.using.private-cygwin">
So I can't install a private version of the Cygwin DLL without
conflictng with the system cygwin?
</a></dt><dt>4.25. <a href="faq-nochunks.html#faq.using.older-cygwin-conflict">
But doesn't that mean that if some application installs an older Cygwin
DLL on top of a newer DLL, my application will break?
</a></dt><dt>4.26. <a href="faq-nochunks.html#faq.using.missing-packages">Why isn't package XYZ available in Cygwin?</a></dt><dt>4.27. <a href="faq-nochunks.html#faq.using.old-packages">Why is the Cygwin package of XYZ so out of date?</a></dt><dt>4.28. <a href="faq-nochunks.html#faq.using.accessing-drives">How can I access other drives?</a></dt><dt>4.29. <a href="faq-nochunks.html#faq.using.copy-and-paste">How can I copy and paste into Cygwin console windows?</a></dt><dt>4.30. <a href="faq-nochunks.html#faq.using.firewall">What firewall should I use with Cygwin? </a></dt><dt>4.31. <a href="faq-nochunks.html#faq.using.sharing-files">How can I share files between Unix and Windows?</a></dt><dt>4.32. <a href="faq-nochunks.html#faq.using.case-sensitive">Is Cygwin case-sensitive? What are managed mounts?</a></dt><dt>4.33. <a href="faq-nochunks.html#faq.using.dos-filenames">What about DOS special filenames?</a></dt><dt>4.34. <a href="faq-nochunks.html#faq.using.hangs">When it hangs, how do I get it back?</a></dt><dt>4.35. <a href="faq-nochunks.html#faq.using.directory-structure">Why the weird directory structure?</a></dt><dt>4.36. <a href="faq-nochunks.html#faq.using.anti-virus">How do anti-virus programs like Cygwin?</a></dt><dt>4.37. <a href="faq-nochunks.html#faq.using.emacs">Is there a Cygwin port of GNU Emacs?</a></dt><dt>4.38. <a href="faq-nochunks.html#faq.using.ntemacs">What about NT Emacs?</a></dt><dt>4.39. <a href="faq-nochunks.html#faq.using.xemacs">What about XEmacs?</a></dt><dt>4.40. <a href="faq-nochunks.html#faq.using.console-window">Is there a better alternative to the standard console window?</a></dt><dt>4.41. <a href="faq-nochunks.html#faq.using.info-error">info error "dir: No such file or directory"</a></dt><dt>4.42. <a href="faq-nochunks.html#faq.using.out-of-queue">Why do I get a message saying Out of Queue slots?</a></dt><dt>4.43. <a href="faq-nochunks.html#faq.using.symlinks-samba">Why don't symlinks work on samba-mounted filesystems?</a></dt><dt>4.44. <a href="faq-nochunks.html#faq.using.df-incorrect">Why does df report sizes incorrectly.</a></dt><dt>4.45. <a href="faq-nochunks.html#faq.using.tcl-tk">Why doesn't Cygwin tcl/tk understand Cygwin paths?</a></dt><dt>4.46. <a href="faq-nochunks.html#faq.using.bloda">What applications have been found to interfere with Cygwin?</a></dt></dl></td></tr><tr class="question"><td align="left" valign="top"><a name="faq.using.missing-dlls"></a><p><b>4.1.</b></p></td><td align="left" valign="top"><p>Why can't my application locate cygncurses5.dll?  or cygintl.dll?  or cygreadline5.dll?  or ...?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>If you upgraded recently, and suddenly vim (or some other Cygwin
application) cannot find <code class="literal">cygncurses5.dll</code>, it probably means that you did
not follow these instructions properly:
<a class="ulink" href="http://cygwin.com/ml/cygwin-announce/2001/msg00124.html" target="_top">http://cygwin.com/ml/cygwin-announce/2001/msg00124.html</a>.  To
repair the damage, you must run Cygwin Setup again, and re-install the
<code class="literal">libncurses5</code> package.
</p><p>Note that Cygwin Setup won't show this option by default.  In the
``Select packages to install'' dialog, click on the <code class="literal">Full/Part</code>
button.  This lists all packages, even those that are already
installed.  Scroll down to locate the <code class="literal">libncurses5</code> package.
Click on the ``cycle'' glyph until it says ``Reinstall''.  Continue
with the installation.
</p><p>Similarly, if something cannot find <code class="literal">cygintl.dll</code>, then run
Cygwin Setup and re-install the <code class="literal">libintl</code> and <code class="literal">libintl1</code>
packages.
</p><p>For a detailed explanation of the general problem, and how to extend
it to other missing DLLs (like cygreadline5.dll) and identify their
containing packages, see
<a class="ulink" href="http://cygwin.com/ml/cygwin/2002-01/msg01619.html" target="_top">http://cygwin.com/ml/cygwin/2002-01/msg01619.html</a>.
</p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq.using.slow"></a><p><b>4.2.</b></p></td><td align="left" valign="top"><p>Why is Cygwin suddenly <span class="emphasis"><em>so</em></span> slow?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>If you recently upgraded and suddenly <span class="emphasis"><em>every</em></span> command takes a
<span class="emphasis"><em>very</em></span> long time, then something is probably attempting to 
access a network share.  You may have the obsolete <code class="literal">//c</code>
notation in your PATH or startup files.  This now means the
<span class="emphasis"><em>network share</em></span> <code class="literal">c</code>, which will slow things down
tremendously if it does not exist.  
</p><p>Using //c (for C:) doesn't work anymore.  (Similarly for any drive
letter, e.g. <code class="literal">//z</code> for <code class="literal">Z:</code>) This ``feature'' has long been
deprecated, and no longer works at all in the latest release.  As of
release 1.3.3, <code class="literal">//c</code> now means the <span class="emphasis"><em>network share</em></span> <code class="literal">c</code>.
For a detailed discussion of why this change was made, and how deal
with it now, refer to
<a class="ulink" href="http://sources.redhat.com/ml/cygwin/2001-09/msg00014.html" target="_top">http://sources.redhat.com/ml/cygwin/2001-09/msg00014.html</a>.
</p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq.using.services"></a><p><b>4.3.</b></p></td><td align="left" valign="top"><p>Why don't my services work?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Most Windows services run as a special user called <code class="literal">SYSTEM</code>.  If you
installed Cygwin for "Just Me", the <code class="literal">SYSTEM</code> user won't see your
Cygwin mount table.  You need to re-mount all of your mounts as
"system" for services to work. You can re-run <code class="literal">setup.exe</code> and
select "Install for All Users", or this script will do the trick:
</p><pre class="screen">
eval "`mount -m | sed -e 's/ -u / -s /g' -e 's/$/;/'`"
</pre></td></tr><tr class="question"><td align="left" valign="top"><a name="faq.using.shares"></a><p><b>4.4.</b></p></td><td align="left" valign="top"><p>Why can't my services access network shares?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>When a service switches to a certain user, it is running as 
<code class="literal">SYSTEM</code> impersonating the user account. During
impersonation, the user's password is not available and so non-public
network shares are not available.  For more information, see
<a class="ulink" href="http://cygwin.com/cygwin-ug-net/ntsec.html" target="_top">http://cygwin.com/cygwin-ug-net/ntsec.html</a>.
</p><p>Workarounds include using public network share that does not require
authentication (for non-critical files), providing your password to a
<span class="command"><strong>net use</strong></span> command, or running the service as your own
user with <code class="literal">cygrunsrv -u</code> (see
<code class="literal">/usr/share/doc/Cygwin/cygrunsrv.README</code> for more
information).
</p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq.using.path"></a><p><b>4.5.</b></p></td><td align="left" valign="top"><p>How should I set my PATH?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>This is done for you in the file /etc/profile, which is sourced by bash
when you start it from the Desktop or Start Menu shortcut, created by
<code class="literal">setup.exe</code>.  The line is
</p><pre class="screen">
	PATH="/usr/local/bin:/usr/bin:/bin:$PATH"
</pre><p>Effectively, this <span class="bold"><strong>prepends</strong></span> /usr/local/bin and /usr/bin to your
Windows system path.  If you choose to reset your PATH, say in
$HOME/.bashrc, or by editing etc/profile directly, then you should
follow this rule.  You <span class="bold"><strong>must</strong></span> have <code class="literal">/usr/bin</code> in your PATH
<span class="bold"><strong>before</strong></span> any Windows system directories.  (And you must not omit
the Windows system directories!)  Otherwise you will likely encounter
all sorts of problems running Cygwin applications.
</p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq.using.not-found"></a><p><b>4.6.</b></p></td><td align="left" valign="top"><p>Bash says "command not found", but it's right there!</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>If you compile a program, you might find that you can't run it:
</p><pre class="screen">
	bash$ gcc -o hello hello.c
        bash$ hello
        bash: hello: command not found
</pre><p>Unlike Windows, bash does not look for programs in <code class="literal">.</code> (the current
directory) by default.  You can add <code class="literal">.</code> to your PATH (see above),
but this is not recommended (at least on UNIX) for security reasons.
Just tell bash where to find it, when you type it on the command line:
</p><pre class="screen">
	bash$ gcc -o hello hello.c
        bash$ ./hello
        Hello World!
</pre></td></tr><tr class="question"><td align="left" valign="top"><a name="faq.using.converting-paths"></a><p><b>4.7.</b></p></td><td align="left" valign="top"><p>How do I convert between Windows and UNIX paths?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Use the 'cygpath' utility.  Type '<code class="literal">cygpath --help</code>' for
information.  For example (on my installation):
</p><pre class="screen">
	bash$ cygpath --windows ~/.bashrc
        D:\starksb\.bashrc
        bash$ cygpath --unix C:/cygwin/bin/cygwin.bat
        /usr/bin/cygwin.bat
        bash$ cygpath --unix C:\\cygwin\\bin\\cygwin.bat
        /usr/bin/cygwin.bat
</pre><p>
Note that bash interprets the backslash '\' as an escape character, so
you must type it twice in the bash shell if you want it to be recognized
as such.
</p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq.using.bashrc"></a><p><b>4.8.</b></p></td><td align="left" valign="top"><p>Why doesn't bash read my .bashrc file on startup?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Your .bashrc is read from your home directory specified by the HOME
environment variable.  It uses /.bashrc if HOME is not set.  So you need
to set HOME correctly, or move your .bashrc to the top of the drive
mounted as / in Cygwin.
</p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq.using.bash-insensitive"></a><p><b>4.9.</b></p></td><td align="left" valign="top"><p>How can I get bash filename completion to be case insensitive?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Add the following to your <code class="literal">~/.bashrc</code> file:
</p><pre class="screen">
	shopt -s nocaseglob
</pre><p>and add the following to your <code class="literal">~/.inputrc</code> file:
</p><pre class="screen">
	set completion-ignore-case on
</pre></td></tr><tr class="question"><td align="left" valign="top"><a name="faq.using.filename-spaces"></a><p><b>4.10.</b></p></td><td align="left" valign="top"><p>Can I use paths/filenames containing spaces in them?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Cygwin does support spaces in filenames and paths.  That said, some
utilities that use the library may not, since files don't typically
contain spaces in Unix.  If you stumble into problems with this, you
will need to either fix the utilities or stop using spaces in filenames
used by Cygwin tools.
</p><p>In particular, bash interprets space as a word separator.  You would have
to quote a filename containing spaces, or escape the space character.
For example:
</p><pre class="screen">
	bash-2.03$ cd '/cygdrive/c/Program Files'
</pre><p>
or
</p><pre class="screen">
	bash-2.03$ cd /cygdrive/c/Program\ Files
</pre><p>
</p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq.using.shortcuts"></a><p><b>4.11.</b></p></td><td align="left" valign="top"><p>Why can't I cd into a shortcut to a directory?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Cygwin versions &lt; 1.3.0 do not follow MS Windows Explorer Shortcuts
(*.lnk files).  It sees a shortcut as a regular file and this you
cannot "cd" into it.
</p><p>Since version 1.3.0, Cygwin uses shortcuts as symlinks by default.
</p><p>Cygwin shortcuts are different from shortcuts created by native Windows
applications.  Windows applications can usually make use of Cygwin
shortcuts but not vice versa.  This is by choice.  The reason is that
Windows shortcuts may contain a bunch of extra information which would
get lost, if, for example, Cygwin tar archives and extracts them as
symlinks.
</p><p>Changing a Cygwin shortcut in Windows Explorer usually changes a Cygwin
shortcut into a Windows native shortcut.  Afterwards, Cygwin will not
recognize it as symlink anymore.
</p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq.using.find"></a><p><b>4.12.</b></p></td><td align="left" valign="top"><p>I'm having basic problems with find.  Why?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Make sure you are using the find that came with Cygwin and that you
aren't picking up the Win32 find command instead.  You can verify that
you are getting the right one by doing a "type find" in bash.
</p><p>If the path argument to find, including current directory (default), is
itself a symbolic link, then find will not traverse it unless you
specify the <code class="literal">-follow</code> option.  This behavior is different than most
other UNIX implementations, but is not likely to change.
</p><p>If find does not seem to be producing enough results, or seems to be
missing out some directories, you may be experiencing a problem with one
of find's optimisations.  The absence of <code class="literal">.</code> and <code class="literal">..</code>
directories on some filesystems, such as DVD-R UDF, can confuse find.
See the documentation for the option <code class="literal">-noleaf</code> in the man page.
</p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq.using.su"></a><p><b>4.13.</b></p></td><td align="left" valign="top"><p>Why doesn't <code class="literal">su</code> work?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>The <code class="literal">su</code> command has been in and out of Cygwin distributions, but
it has not been ported to Cygwin and has never worked.  It is
currently installed as part of the sh-utils, but again, it does not work.
</p><p>You may be able to use <code class="literal">login</code> instead, but you should read
<a class="ulink" href="http://www.cygwin.com/ml/cygwin/2001-03/msg00337.html" target="_top">http://www.cygwin.com/ml/cygwin/2001-03/msg00337.html</a> first.
</p><p>For some technical background into why <code class="literal">su</code> doesn't work, read
<a class="ulink" href="http://www.cygwin.com/ml/cygwin/2003-06/msg00897.html" target="_top">http://www.cygwin.com/ml/cygwin/2003-06/msg00897.html</a> and
related messages.
</p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq.using.man"></a><p><b>4.14.</b></p></td><td align="left" valign="top"><p>Why doesn't man (or apropos) work?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Before you can use <code class="literal">man -k</code> or <code class="literal">apropos</code>, you
must create the whatis database.  Just run the command
</p><pre class="screen">
	/usr/sbin/makewhatis
</pre><p>(it may take a minute to complete).
</p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq.using.chmod"></a><p><b>4.15.</b></p></td><td align="left" valign="top"><p>Why doesn't <code class="literal">chmod</code> work?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>The most common case is that your <code class="literal">/etc/passwd</code>
or <code class="literal">/etc/group</code> files are not properly set up. If 
<code class="literal">ls -l</code> shows a group of <code class="literal">mkpasswd</code> 
or <code class="literal">mkgroup</code>, you need to run one or both of those
commands.
</p><p>If you're using FAT32 instead of NTFS, <code class="literal">chmod</code> 
will fail since FAT32 does not provide any security. You might consider 
converting the drive to NTFS with <code class="literal">CONVERT.EXE</code>.
</p><p>For other cases, understand that Cygwin attempts to show UNIX 
permissions based on the security features of Windows, so the Windows 
ACLs are likely the source of your problem.  See the Cygwin User's 
Guide at <a class="ulink" href="http://cygwin.com/cygwin-ug-net/ntsec.html" target="_top">http://cygwin.com/cygwin-ug-net/ntsec.html</a>
for more information on how Cygwin maps Windows permissions.
</p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq.using.mkdir-network"></a><p><b>4.16.</b></p></td><td align="left" valign="top"><p>Why doesn't <code class="literal">mkdir -p</code> work on a network share?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Starting with <code class="literal">coreutils-5.3.0-6</code> and <code class="literal">cygwin-1.5.17</code>, you can
do something like this:
</p><pre class="screen">
bash$ mkdir -p //MACHINE/Share/path/to/new/dir
</pre><p>However, coreutils expects Unix path names, so something like
<code class="literal">mkdir -p \\\\machine\\share\\path</code> will fail. 
</p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq.using.shell-scripts"></a><p><b>4.17.</b></p></td><td align="left" valign="top"><p>Why doesn't my shell script work?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>There are two basic problems you might run into.  One is the fact that
<span class="command"><strong>/bin/sh</strong></span> is really <span class="command"><strong>bash</strong></span> (prior to
<span class="command"><strong>bash-3.0-6</strong></span>, <span class="command"><strong>/bin/sh</strong></span> was ash).  and is
missing some features you might expect in <span class="command"><strong>/bin/sh</strong></span>,
particularly if you are used to <span class="command"><strong>/bin/sh</strong></span> actually being
<span class="command"><strong>zsh</strong></span> (MacOS X "Panther") or <span class="command"><strong>ksh</strong></span> (Tru64).  
</p><p>Or, it could be a permission problem, and Cygwin doesn't understand that your script is executable.  Because <code class="literal">chmod</code> may not work (see FAQ entry above), Cygwin must read the contents of files to determine if
they are executable.  If your script does not start with
</p><pre class="screen">
	#! /bin/sh
</pre><p>(or any path to a script interpreter, it does not have to be /bin/sh)
then Cygwin will not know it is an executable script.  The Bourne shell
idiom
</p><pre class="screen">
	:
	# This is the 2nd line, assume processing by /bin/sh
</pre><p>also works.
</p><p>Note that you can use <code class="literal">mount -x</code> to force Cygwin to treat all files
under the mount point as executable.  This can be used for individual
files as well as directories.  Then Cygwin will not bother to read files
to determine whether they are executable.
</p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq.using.printing"></a><p><b>4.18.</b></p></td><td align="left" valign="top"><p>How do I print under Cygwin?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>lpr is available in the <a class="ulink" href="http://cygwin.com/setup.exe" target="_top">setup.exe</a> cygutils package.  Some <a class="ulink" href="http://cygwin.com/ml/cygwin/2008-05/msg00123.html" target="_top">usage hints</a> are available courtesy of Rodrigo Medina.
</p><p>Jason Tishler has written a couple of messages that explain how to use
a2ps (for nicely formatted text in PostScript) and ghostscript (to print
PostScript files on non-PostScript Windows printers).  Start at
<a class="ulink" href="http://cygwin.com/ml/cygwin/2001-04/msg00657.html" target="_top">http://cygwin.com/ml/cygwin/2001-04/msg00657.html</a>.  Note that the
<code class="literal">file</code> command is now available as part of Cygwin setup.
</p><p>Alternatively, on NT, you can use the Windows <code class="literal">print</code> command.  (It
does not seem to be available on Win9x.)  Type
</p><pre class="screen">
	bash$ print /\?
</pre><p>for usage instructions (note the <code class="literal">?</code> must be escaped from the
shell).
</p><p>Finally, you can simply <code class="literal">cat</code> the file to the printer's share name:
</p><pre class="screen">
	bash$ cat myfile &gt; //host/printer
</pre><p>You may need to press the formfeed button on your printer or append the
formfeed character to your file.
</p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq.using.unicode"></a><p><b>4.19.</b></p></td><td align="left" valign="top"><p>Why don't international (Unicode) characters work?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Internationalization is a complex issue. The short answer is that
Cygwin is not Unicode-aware, so things that might work in Linux will
not necessarily work on Cygwin. However, some things do work. To type
international characters (&#163;&#228;&#246;) in <code class="literal">bash</code>, add the following
lines to your <code class="literal">~/.inputrc</code> file and restart <code class="literal">bash</code>:
</p><pre class="screen">
	set meta-flag on 
        set convert-meta off 
        set output-meta on 
	set input-meta on
	set kanji-code sjis
</pre><p>These are options to the <code class="literal">readline</code> library, which you can read
about in the <code class="literal">bash(1)</code> and <code class="literal">readline(3)</code> man pages. Other
tools that do not use <code class="literal">readline</code> for display, such as <code class="literal">less</code>
and <code class="literal">ls</code>, require additional settings, which could be put in your
<code class="literal">~/.bashrc</code>:
</p><pre class="screen">
alias less='/bin/less -r'
alias ls='/bin/ls -F --color=tty --show-control-chars'
export LANG="ja_JP.SJIS"
export OUTPUT_CHARSET="sjis"
</pre><p>
These examples use the Japanese Shift-JIS character set, obviously
you will want to change them for your own locale. 
</p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq.using.cursor"></a><p><b>4.20.</b></p></td><td align="left" valign="top"><p>Why don't cursor keys work under Win95/Win98?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><span class="bold"><strong>(Please note: This section has not yet been updated for the latest net release.)</strong></span>
</p><p>Careful examination shows that they not just non-functional, but
rather behave strangely, for example, with NumLock off, keys on numeric
keyboard work, until you press usual cursor keys, when even numeric
stop working, but they start working again after hitting alphanumeric
key, etc. This reported to happen on localized versions of Win98 and
Win95, and not specific to Cygwin; there are known cases of Alt+Enter
(fullscreen/windowed toggle) not working and shifts sticking with
other programs. The cause of this problem is Microsoft keyboard
localizer which by default installed in 'autoexec.bat'. Corresponding
line looks like:
</p><pre class="screen">
keyb ru,,C:\WINDOWS\COMMAND\keybrd3.sys
</pre><p>(That's for russian locale.) You should comment that line if you want
your keys working properly. Of course, this will deprive you of your
local alphabet keyboard support, so you should think about
another localizer. ex-USSR users are of course knowledgeable of Keyrus
localizer, and it might work for other locales too, since it has keyboard
layout editor. But it has russian messages and documentation ;-(
Reference URL is http://www.hnet.ru/software/contrib/Utils/KeyRus/
(note the you may need to turn off Windows logo for Keyrus to operate
properly).
</p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq.using.multiple-copies"></a><p><b>4.21.</b></p></td><td align="left" valign="top"><p>Is it OK to have multiple copies of the DLL?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>You should only have one copy of the Cygwin DLL on your system.  If you
have multiple versions, they will conflict and cause problems.
</p><p>If you get the error "shared region is corrupted" or "shared region
version mismatch" it means you have multiple versions of cygwin1.dll
running at the same time.  This could happen, for example, if you update
cygwin1.dll without exiting <span class="emphasis"><em>all</em></span> Cygwin apps (including inetd)
beforehand.
</p><p>The only DLL that is sanctioned by the Cygwin project is the one that
you get by running <a class="ulink" href="http://cygwin.com/setup.exe" target="_top">setup.exe</a>, installed in the
directory controlled by this program.  If you have other versions on
your system and desire help from the cygwin project, you should delete
or rename all DLLs that are not installed by <code class="filename">setup.exe</code>.
</p><p>If you're trying to find multiple versions of the DLL that are causing
this problem, reboot first, in case DLLs still loaded in memory are the
cause.  Then use the Windows System find utility to search your whole
machine, not just components in your PATH (as 'type' would do) or
cygwin-mounted filesystems (as Cygwin 'find' would do).
</p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq.using.third-party.multiple-copies"></a><p><b>4.22.</b></p></td><td align="left" valign="top"><p>
I read the above but I want to bundle Cygwin with a product, and ship it
to customer sites.  How can I do this without conflicting with any
Cygwin installed by the user?
</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
Third party developers who wish to use Cygwin should check if
there is a version of cygwin installed and use the installed
version if it is newer, or conditionally upgrade if it is not.
(If you write a tool to make this easy, consider contributing
it for others to use)
</p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq.using.bundling-cygwin"></a><p><b>4.23.</b></p></td><td align="left" valign="top"><p>
Can I bundle Cygwin with my product for free?
</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
Only if you comply with Cygwin's <a class="ulink" href="http://cygwin.com/license.html" target="_top">license</a> very carefully.  If you
choose to distribute cygwin1.dll, you must be willing to distribute the
exact source code used to build that copy of cygwin1.dll as per the
terms of the GPL.  If you ship applications that link with cygwin1.dll,
you must either provide those applications' source code under a
GPL-compatible license, *or* purchase a cygwin license from Red Hat.
</p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq.using.private-cygwin"></a><p><b>4.24.</b></p></td><td align="left" valign="top"><p>
So I can't install a private version of the Cygwin DLL without
conflictng with the system cygwin?
</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
Actually, if you are very careful, you can have two different versions
of the Cygwin DLL installed on your system at the same time but they
must be run serially.  This means that you can't be running programs
using both versions of Cygwin at the same time.  Please be aware that
currently both versions will use the same mount table entries although
this wil change in Cygwin version 1.7.x.
</p><p>
This usage is not recommeded for novices.  Only limited support will be
provided in the <a class="ulink" href="http://cygwin.com/lists.html" target="_top">mailing lists</a>
if you run into problems.
</p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq.using.older-cygwin-conflict"></a><p><b>4.25.</b></p></td><td align="left" valign="top"><p>
But doesn't that mean that if some application installs an older Cygwin
DLL on top of a newer DLL, my application will break?
</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
It depends on what you mean by "break".  If the application installs a
version of the Cygwin DLL in another location than Cygwin's /bin
directory then the rules in 9.3 apply.  If the application installs an
older version of the DLL in /bin then you should complain loudly to the
application provider.
</p><p>
Remember that the Cygwin DLL strives to be backwards compatible so a
newer version of the DLL should always work with older executables.  So,
in general, it is always best to keep one version of the DLL on your
system and it should always be the latest version which matches your
installed distribution.
</p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq.using.missing-packages"></a><p><b>4.26.</b></p></td><td align="left" valign="top"><p>Why isn't package XYZ available in Cygwin?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Probably because there is nobody willing or able to maintain it.  It
takes time, and the priority for the Cygwin Team is the Cygwin package.
The rest is a volunteer effort.  Want to contribute?  See
<a class="ulink" href="http://cygwin.com/setup.html" target="_top">http://cygwin.com/setup.html</a>.
</p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq.using.old-packages"></a><p><b>4.27.</b></p></td><td align="left" valign="top"><p>Why is the Cygwin package of XYZ so out of date?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>(Also: Why is the version of package XYZ older than the version that I
can download from the XYZ web site?  Why is the version of package XYZ
older than the version that I installed on my linux system?  Is there
something special about Cygwin which requires that only an older version
of package XYZ will work on it?)
</p><p>Every package in the Cygwin distribution has a maintainer who is
responsible for sending out updates of the package.  This person is a
volunteer who is rarely the same person as the official developer of the
package.  If you notice that a version of a package seems to be out of
date, the reason is usually pretty simple -- the person who is
maintaining the package hasn't gotten around to updating it yet. Rarely,
the newer package actually requires complex changes that the maintainer
is working out. 
</p><p>If you urgently need an update, sending a polite message to the cygwin
mailing list pinging the maintainer is perfectly acceptable.  There are
no guarantees that the maintainer will have time to update the package
or that you'll receive a response to your request, however.
</p><p>Remeber that the operative term here is "volunteer".
</p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq.using.accessing-drives"></a><p><b>4.28.</b></p></td><td align="left" valign="top"><p>How can I access other drives?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>You have some flexibility here.
</p><p>Cygwin has a builtin "cygdrive prefix" for drives that are not mounted.
You can access any drive, say Z:, as '/cygdrive/z/'.
</p><p>In some applications (notably bash), you can use the familiar windows
&lt;drive&gt;:/path/, using posix forward-slashes ('/') instead of Windows
backward-slashes ('\').  (But see the warning below!)  This maps in the
obvious way to the Windows path, but will be converted internally to use
the Cygwin path, following mounts (default or explicit).  For example:
</p><pre class="screen">
	bash$ cd C:/Windows
	bash$ pwd
        /cygdrive/c/Windows
</pre><p>
and
</p><pre class="screen">
	bash$ cd C:/cygwin
	bash$ pwd
        /
</pre><p>
for a default setup.  You could also use backward-slashes in the
Windows path, but these would have to be escaped from the shell.
</p><p><span class="bold"><strong>Warning:</strong></span> There is some ambiguity in going from a Windows path
to the posix path, because different posix paths, through different
mount points, could map to the same Windows directory.  This matters
because different mount points may be binmode or textmode, so the
behavior of Cygwin apps will vary depending on the posix path used to
get there.
</p><p>You can avoid the ambiguity of Windows paths, and avoid typing
"/cygdrive", by explicitly mounting drives to posix paths.  For example:
</p><pre class="screen">
	bash$ mkdir /c
	bash$ mount c:/ /c
	bash$ ls /c
</pre><p>
Then <code class="literal">/cygdrive/c/Windows</code> becomes <code class="literal">/c/Windows</code> which is a
little less typing.
</p><p>Note that you only need to mount drives once.  The mapping is kept
in the registry so mounts stay valid pretty much indefinitely.
You can only get rid of them with umount, or the registry editor.
</p><p>The '-b' option to mount mounts the mountpoint in binary mode
("binmode") where text and binary files are treated equivalently.  This
should only be necessary for badly ported Unix programs where binary
flags are missing from open calls.  It is also the setting for /,
/usr/bin and /usr/lib in a default Cygwin installation.  The default for
new mounts is text mode ("textmode"), which is also the mode for all
"cygdrive" mounts.
</p><p>You can change the default <code class="literal">cygdrive</code> prefix and whether it is
binmode or textmode using the <code class="literal">mount</code> command.  For example,
</p><pre class="screen">
	bash$ mount -b --change-cygdrive-prefix cygdrive
</pre><p>
will change all <code class="literal">/cygdrive/...</code> mounts to binmode.
</p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq.using.copy-and-paste"></a><p><b>4.29.</b></p></td><td align="left" valign="top"><p>How can I copy and paste into Cygwin console windows?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>First, consider using rxvt instead of the standard console window.  In
rxvt, selecting with the left-mouse also copies, and middle-mouse
pastes.  It couldn't be easier!
</p><p>Under Windows NT, open the properties dialog of the console window.
The options contain a toggle button, named "Quick edit mode".  It must
be ON.  Save the properties.
</p><p>Under Windows 9x, open the properties dialog of the console window.
Select the Misc tab.  Uncheck Fast Pasting.  Check QuickEdit.
</p><p>You can also bind the insert key to paste from the clipboard by adding 
the following line to your .inputrc file: 
</p><pre class="screen">
	"\e[2~": paste-from-clipboard 
</pre><p>
</p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq.using.firewall"></a><p><b>4.30.</b></p></td><td align="left" valign="top"><p>What firewall should I use with Cygwin? </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>We have had good reports about Kerio Personal Firewall, ZoneLabs
Integrity Desktop, and the built-in firewall in Windows XP. Other
well-known products including ZoneAlarm and Norton Internet Security have
caused problems for some users but work fine for others. At last report,
Agnitum Outpost did not work with Cygwin.  If you are having strange
connection-related problems, disabling the firewall is a good
troubleshooting step (as is closing or disabling all other running
applications, especially resource-intensive processes such as indexed
search).
</p><p>On the whole, Cygwin doesn't care which firewall is used.  The few rare
exceptions have to do with socket code.
Cygwin uses sockets to implement many of its functions, such as IPC.
Some overzealous firewalls install themselves deeply into the winsock
stack (with the 'layered service provider' API) and install hooks
throughout.  Sadly the mailing list archives are littered with examples
of poorly written firewall-type software that causes things to break.
Note that with many of these products, simply disabling the firewall
does not remove these changes; it must be completely uninstalled.
</p><p>See also <a class="ulink" href="http://cygwin.com/faq/faq.using.html#faq.using.bloda" target="_top">http://cygwin.com/faq/faq.using.html#faq.using.bloda</a>
for a list of applications that have been known, at one time or another, to 
interfere with the normal functioning of Cygwin.
</p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq.using.sharing-files"></a><p><b>4.31.</b></p></td><td align="left" valign="top"><p>How can I share files between Unix and Windows?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>During development, we have both Linux boxes running Samba and Windows
machines.  We often build with cross-compilers under Linux and copy
binaries and source to the Windows system or just toy with them
directly off the Samba-mounted partition.  On dual-boot NT/Windows 9x
machines, we usually use the FAT filesystem so we can also access the
files under Windows 9x.
</p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq.using.case-sensitive"></a><p><b>4.32.</b></p></td><td align="left" valign="top"><p>Is Cygwin case-sensitive? What are managed mounts?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Several Unix programs expect to be able to use to filenames
spelled the same way, but with different case.  A prime example
of this is perl's configuration script, which wants <code class="literal">Makefile</code> and
<code class="literal">makefile</code>.  WIN32 can't tell the difference between files with
just different case, so the configuration fails.
</p><p>To help with this problem, starting in <code class="literal">cygwin-1.5.0</code> it is
possible to have a case sensitive Cygwin managed mount. This is an
experimental feature and should be used with caution. You should only
use it for directories that are initially unpopulated and are due to
be completely managed by cygwin (hence the name).  So, the best use
would be to create an empty directory, mount it, and then add files to
it:  
</p><pre class="screen">
mkdir /managed-dir
mount -o managed c:/cygwin/managed-dir /managed-dir
cd /managed-dir/
touch makefile
touch Makefile
</pre></td></tr><tr class="question"><td align="left" valign="top"><a name="faq.using.dos-filenames"></a><p><b>4.33.</b></p></td><td align="left" valign="top"><p>What about DOS special filenames?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Files cannot be named com1, lpt1, or aux (to name a few); either as
the root filename or as the extension part.  If you do, you'll have
trouble.  Unix programs don't avoid these names which can make things
interesting.  E.g., the perl distribution has a file called
<code class="literal">aux.sh</code>.  The perl configuration tries to make sure that
<code class="literal">aux.sh</code> is there, but an operation on a file with the magic
letters 'aux' in it will hang.
</p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq.using.hangs"></a><p><b>4.34.</b></p></td><td align="left" valign="top"><p>When it hangs, how do I get it back?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>If something goes wrong and the tools hang on you for some reason (easy
to do if you try and read a file called aux.sh), first try hitting ^C to
return to bash or the cmd prompt.
</p><p>If you start up another shell, and applications don't run, it's a good
bet that the hung process is still running somewhere.  Use the Task
Manager, pview, or a similar utility to kill the process.
</p><p>And, if all else fails, there's always the reset button/power switch.
This should never be necessary under Windows NT.
</p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq.using.directory-structure"></a><p><b>4.35.</b></p></td><td align="left" valign="top"><p>Why the weird directory structure?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Why do /lib and /usr/lib (and /bin, /usr/bin) point to the same thing?
</p><p>Why use mounts instead of symbolic links?
</p><p>Can I use a disk root (e.g., C:\) as Cygwin root?  Why is this discouraged?
</p><p>After a new installation in the default location, your mount points will
look something like this:
</p><pre class="screen">
	bash$ mount
	C:\cygwin\bin on /usr/bin type system (binmode)
	C:\cygwin\lib on /usr/lib type system (binmode)
	C:\cygwin on / type system (binmode)
</pre><p>(Exactly what you see depends on what options you gave to <code class="literal">setup.exe</code>.)
</p><p>Note that /bin and /usr/bin point to the same location, as do /lib and
/usr/lib.  This is intentional, and you should not undo these mounts
unless you <span class="emphasis"><em>really</em></span> know what you are doing.
</p><p>Various applications and packages may expect to be installed in /lib or
/usr/lib (similarly /bin or /usr/bin).  Rather than distinguish between
them and try to keep track of them (possibly requiring the occasional
duplication or symbolic link), it was decided to maintain only one
actual directory, with equivalent ways to access it.
</p><p>Symbolic links had been considered for this purpose, but were dismissed
because they do not always work on Samba drives.  Also, mounts are
faster to process because no disk access is required to resolve them.
</p><p>Note that non-cygwin applications will not observe Cygwin mounts (or
symlinks for that matter).  For example, if you use WinZip to unpack the
tar distribution of a Cygwin package, it may not get installed to the
correct Cygwin path.  <span class="emphasis"><em>So don't do this!</em></span>
</p><p>It is strongly recommended not to make the Cygwin root directory the
same as your drive's root directory, unless you know what you are doing
and are prepared to deal with the consequences.  It is generally easier
to maintain the Cygwin hierarchy if it is isolated from, say, C:\.  For
one thing, you avoid possible collisions with other (non-cygwin)
applications that may create (for example) \bin and \lib directories.
(Maybe you have nothing like that installed now, but who knows about
things you might add in the future?)
</p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq.using.anti-virus"></a><p><b>4.36.</b></p></td><td align="left" valign="top"><p>How do anti-virus programs like Cygwin?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Users have reported that NAI (formerly McAfee) VirusScan for NT (and
others?) is incompatible with Cygwin.  This is because it tries to scan
the newly loaded shared memory in cygwin1.dll, which can cause fork() to
fail, wreaking havoc on many of the tools.  (It is not confirmed that
this is still a problem, however.)
</p><p>There have been several reports of NAI VirusScan causing the system to
hang when unpacking tar.gz archives.  This is surely a bug in VirusScan,
and should be reported to NAI.  The only workaround is to disable
VirusScan when accessing these files.  This can be an issue during
setup, and is discussed in that FAQ entry.
</p><p>Some users report a significant performance hit using Cygwin when their
anti-virus software is enabled.  Rather than disable the anti-virus
software completely, it may be possible to specify directories whose
contents are exempt from scanning.  In a default installation, this
would be <code class="literal">C:\cygwin\bin</code>.  Obviously, this could be
exploited by a hostile non-Cygwin program, so do this at your own risk.
</p><p>See also <a class="ulink" href="http://cygwin.com/faq/faq.using.html#faq.using.bloda" target="_top">http://cygwin.com/faq/faq.using.html#faq.using.bloda</a>
for a list of applications that have been known, at one time or another, to
interfere with the normal functioning of Cygwin.
</p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq.using.emacs"></a><p><b>4.37.</b></p></td><td align="left" valign="top"><p>Is there a Cygwin port of GNU Emacs?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Yes!  It uses the X11 (<a class="ulink" href="http://cygwin.com/xfree/" target="_top">http://cygwin.com/xfree/</a>) Windows
interface.  From a remote login shell, this ``emacs -nw'' works fine.
There is also a non-X11 version which just provides the text-only
terminal interface.  Use Cygwin Setup to install either one (or both).
</p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq.using.ntemacs"></a><p><b>4.38.</b></p></td><td align="left" valign="top"><p>What about NT Emacs?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>If you want GNU Emacs with a native Microsoft Windows interface, but
without X, then you must use the native Windows port, commonly known
as ``NT Emacs''.  You get NT Emacs from any GNU mirror.  It is not
available from Cygwin Setup.
</p><p>NT Emacs uses the Windows command shell by default.  Since it is not a
Cygwin application, it has no knowledge of Cygwin mounts.  With those
points in mind, you need to add the following code to your ~/.emacs
(or ~/_emacs) file in order to use Cygwin bash.  This is particularly useful
for the JDEE package (<a class="ulink" href="http://jdee.sunsite.dk/" target="_top">http://jdee.sunsite.dk/</a>).  The following
settings are for Emacs 21.1:
</p><pre class="screen">
	;; This assumes that Cygwin is installed in C:\cygwin (the
	;; default) and that C:\cygwin\bin is not already in your
	;; Windows Path (it generally should not be).
	;;
	(setq exec-path (cons "C:/cygwin/bin" exec-path))
	(setenv "PATH" (concat "C:\\cygwin\\bin;" (getenv "PATH")))
	;;
	;; NT-emacs assumes a Windows command shell, which you change
	;; here.
	;;
	(setq shell-file-name "bash")
	(setenv "SHELL" shell-file-name) 
	(setq explicit-shell-file-name shell-file-name) 
	;;
	;; This removes unsightly ^M characters that would otherwise
	;; appear in the output of java applications.
	;;
	(add-hook 'comint-output-filter-functions
	          'comint-strip-ctrl-m)
</pre><p>If you want NT Emacs to understand Cygwin paths, get
cygwin-mount.el from <a class="ulink" href="http://www.emacswiki.org/elisp/index.html" target="_top">http://www.emacswiki.org/elisp/index.html</a>.
</p><p>Note that all of this ``just works'' if you use the Cygwin port of
Emacs from Cygwin Setup.
</p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq.using.xemacs"></a><p><b>4.39.</b></p></td><td align="left" valign="top"><p>What about XEmacs?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>For a concise description of the current situation with XEmacs, see
this message from the Cygwin mailing list:
<a class="ulink" href="http://cygwin.com/ml/cygwin/2002-11/msg00609.html" target="_top">http://cygwin.com/ml/cygwin/2002-11/msg00609.html</a>.
</p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq.using.console-window"></a><p><b>4.40.</b></p></td><td align="left" valign="top"><p>Is there a better alternative to the standard console window?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Yes!  Use rxvt instead.  It's an optional package in Cygwin Setup.
You can use it with or without X11.  You can resize it easily by
dragging an edge or corner.  Copy and paste is easy with the left and
middle mouse buttons, respectively.  It will honor settings in your
~/.Xdefaults file, even without X.  For details see
<code class="literal">/usr/share/doc/Cygwin/rxvt-&lt;ver&gt;.README</code>.
</p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq.using.info-error"></a><p><b>4.41.</b></p></td><td align="left" valign="top"><p>info error "dir: No such file or directory"</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Cygwin packages install their info documentation in the
<code class="literal">/usr/share/info</code> directory.  But you need to create a <code class="literal">dir</code>
file there before the standalone info program (probably
<code class="literal">/usr/bin/info</code>) can be used to read those info files.  This is how
you do it:
</p><pre class="screen">
	bash$ cd /usr/share/info
	bash$ for f in *.info ; do install-info $f dir ; done
</pre><p>
This may generate warnings:
</p><pre class="screen">
	install-info: warning: no info dir entry in `gzip.info'
	install-info: warning: no info dir entry in `time.info'
</pre><p>
The <code class="literal">install-info</code> command cannot parse these files, so you will
have to add their entries to <code class="literal">/usr/share/info/dir</code> by hand.
</p><p>Even if the dir file already exists, you may have to update it when
you install new Cygwin packages.  Some packages update the dir file
for you, but many don't.
</p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq.using.out-of-queue"></a><p><b>4.42.</b></p></td><td align="left" valign="top"><p>Why do I get a message saying Out of Queue slots?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>"Out of queue slots!" generally occurs when you're trying to remove
many files that you do not have permission to remove (either because
you don't have permission, they are opened exclusively, etc).  What
happens is Cygwin queues up these files with the supposition that it
will be possible to delete these files in the future.  Assuming that
the permission of an affected file does change later on, the file will
be deleted as requested.  However, if too many requests come in to
delete inaccessible files, the queue overflows and you get the message
you're asking about.  Usually you can remedy this with a quick chmod,
close of a file, or other such thing.  (Thanks to Larry Hall for
this explanation).
</p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq.using.symlinks-samba"></a><p><b>4.43.</b></p></td><td align="left" valign="top"><p>Why don't symlinks work on samba-mounted filesystems?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Symlinks are marked with "system" file attribute.  Samba does not
enable this attribute by default.  To enable it, consult your Samba
documentation and then add these lines to your samba configuration
file:
</p><pre class="screen">
	map system = yes
	create mask = 0775
</pre><p>Note that the 0775 can be anything as long as the 0010 bit is set.
</p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq.using.df-incorrect"></a><p><b>4.44.</b></p></td><td align="left" valign="top"><p>Why does df report sizes incorrectly.</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>There is a bug in the Win32 API function GetFreeDiskSpace that
makes it return incorrect values for disks larger than 2 GB in size.
Perhaps that may be your problem?
</p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq.using.tcl-tk"></a><p><b>4.45.</b></p></td><td align="left" valign="top"><p>Why doesn't Cygwin tcl/tk understand Cygwin paths?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>The versions of Tcl/Tk distributed with Cygwin (e.g. cygtclsh80.exe,
cygwish80.exe) are not actually "Cygwin versions" of those tools.
They are built with the <code class="literal">-mno-cygwin</code> option to <code class="literal">gcc</code>, which
means they do not understand Cygwin mounts or symbolic links.
</p><p>See the entry "How do I convert between Windows and UNIX paths?"
elsewhere in this FAQ.
</p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq.using.bloda"></a><p><b>4.46.</b></p></td><td align="left" valign="top"><p>What applications have been found to interfere with Cygwin?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>From time to time, people have reported strange failures and problems in
Cygwin and Cygwin packages that seem to have no rational explanation.  Among
the most common symptoms they report are fork failures, memory leaks, and file
access denied problems.  These problems, when they have been traced, often appear
to be caused by interference from other software installed on the same PC.  Security
software, in particular, such as anti-virus, anti-spyware, and firewall applications,
often implements its functions by installing hooks into various parts of the system,
including both the Explorer shell and the underlying kernel.  Sometimes these hooks
are not implemented in an entirely transparent fashion, and cause changes in the
behaviour which affect the operation of other programs, such as Cygwin.
</p><p>Among the software that has been found to cause difficulties are:</p><div class="itemizedlist"><ul type="disc"><li><p>Sonic Solutions burning software containing DLA component</p></li><li><p>Norton/MacAffee/Symantec antivirus or antispyware</p></li><li><p>Logitech webcam software with "Logitech process monitor" service</p></li><li><p>Kerio, Agnitum or ZoneAlarm Personal Firewall</p></li><li><p>Iolo System Mechanic/AntiVirus/Firewall</p></li><li><p>LanDesk</p></li><li><p>Windows Defender </p></li><li><p>Embassy Trust Suite fingerprint reader software wxvault.dll</p></li><li><p>NOD32 Antivirus</p></li><li><p>ByteMobile laptop optimization client</p></li></ul></div><p>Sometimes these problems can be worked around, by temporarily or partially
disabling the offending software.  For instance, it may be possible to disable
on-access scanning in your antivirus, or configure it to ignore files under the
Cygwin installation root.  Often, unfortunately, this is not possible; even disabling
the software may not work, since many applications that hook the operating system
leave their hooks installed when disabled, and simply set them into what is intended
to be a completely transparent pass-through mode.  Sometimes this pass-through is not
as transparent as all that, and the hooks still interfere with Cygwin; in these cases,
it may be necessary to uninstall the software altogether to restore normal operation.
</p><p>Some of the symptoms you may experience are:</p><div class="itemizedlist"><ul type="disc"><li><p>Random fork() failures.</p><p>Caused by hook DLLs that load themselves into every process in the
system.  POSIX fork() semantics require that the memory map of the child process
must be an exact duplicate of the parent process' layout.  If one of these DLLs
loads itself at a different base address in the child's memory space as compared
to the address it was loaded at in the parent, it can end up taking the space that
belonged to a different DLL in the parent.  When Cygwin can't load the original
DLL at that same address in the child, the fork() call has to fail.
</p></li><li><p>File access problems.</p><p>Some programs (e.g., virus scanners with on-access scanning) scan or
otherwise operate on every file accessed by all the other software running on
your computer.  In some cases they may retain an open handle on the file even
after the software that is really using the file has closed it.  This has been
known to cause operations such as deletes, renames and moves to fail with
access denied errors.  In extreme cases it has been known for scanners to leak
file handles, leading to kernel memory starvation.
</p></li><li><p>Networking issues</p><p>Firewall software sometimes gets a bit funny about Cygwin.  It's not
currently understood why; Cygwin only uses the standard Winsock2 API, but
perhaps in some less-commonly used fashion that doesn't get as well tested
by the publishers of firewalls.  Symptoms include mysterious failures to
connect, or corruption of network data being sent or received.</p></li><li><p>Memory and/or handle leaks</p><p>Some applications that hook into the Windows operating system exhibit
bugs when interacting with Cygwin that cause them to leak allocated memory
or other system resources.  Symptoms include complaints about out-of-memory
errors and even virtual memory exhaustion dialog boxes from the O/S; it is
often possible to see the excess memory allocation using a tool such as
Task Manager or Sysinternals' Process Explorer, although interpreting the
statistics they present is not always straightforward owing to complications
such as virtual memory paging and file caching.</p></li></ul></div></td></tr><tr class="qandadiv"><td align="left" valign="top" colspan="2"><h3 class="title"><a name="faq.api"></a>5. Cygwin API Questions</h3></td></tr><tr class="toc"><td align="left" valign="top" colspan="2"><dl><dt>5.1. <a href="faq-nochunks.html#faq.api.everything">How does everything work?</a></dt><dt>5.2. <a href="faq-nochunks.html#faq.api.snapshots">Are development snapshots for the Cygwin library available?</a></dt><dt>5.3. <a href="faq-nochunks.html#faq.api.cr-lf">How is the DOS/Unix CR/LF thing handled?</a></dt><dt>5.4. <a href="faq-nochunks.html#faq.api.threads">Is the Cygwin library multi-thread-safe?</a></dt><dt>5.5. <a href="faq-nochunks.html#faq.api.winnt">Why is some functionality only supported in Windows NT?</a></dt><dt>5.6. <a href="faq-nochunks.html#faq.api.fork">How is fork() implemented?</a></dt><dt>5.7. <a href="faq-nochunks.html#faq.api.globbing">How does wildcarding (globbing) work?</a></dt><dt>5.8. <a href="faq-nochunks.html#faq.api.symlinks">How do symbolic links work?</a></dt><dt>5.9. <a href="faq-nochunks.html#faq.api.executables">Why do some files, which are not executables have the 'x' type.</a></dt><dt>5.10. <a href="faq-nochunks.html#faq.api.secure">How secure is Cygwin in a multi-user environment?</a></dt><dt>5.11. <a href="faq-nochunks.html#faq.api.net-functions">How do the net-related functions work?</a></dt><dt>5.12. <a href="faq-nochunks.html#faq.api.winsock">I don't want Unix sockets, how do I use normal Win32 winsock?</a></dt><dt>5.13. <a href="faq-nochunks.html#faq.api.versions">What version numbers are associated with Cygwin?</a></dt><dt>5.14. <a href="faq-nochunks.html#faq.api.timezone">Why isn't _timezone set correctly?</a></dt><dt>5.15. <a href="faq-nochunks.html#faq.api.mouse">Is there a mouse interface?</a></dt></dl></td></tr><tr class="question"><td align="left" valign="top"><a name="faq.api.everything"></a><p><b>5.1.</b></p></td><td align="left" valign="top"><p>How does everything work?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>There's a C library which provides a Unix-style API.  The
applications are linked with it and voila - they run on Windows.
</p><p>The aim is to add all the goop necessary to make your apps run on
Windows into the C library.  Then your apps should run on Unix and
Windows with no changes at the source level.
</p><p>The C library is in a DLL, which makes basic applications quite small.
And it allows relatively easy upgrades to the Win32/Unix translation
layer, providing that DLL changes stay backward-compatible.
</p><p>For a good overview of Cygwin, you may want to read the paper on Cygwin
published by the Usenix Association in conjunction with the 2d Usenix NT
Symposium in August 1998.  It is available in HTML format on the project
WWW site.
</p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq.api.snapshots"></a><p><b>5.2.</b></p></td><td align="left" valign="top"><p>Are development snapshots for the Cygwin library available?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Yes.  They're made whenever anything interesting happens inside the
Cygwin library (usually roughly on a nightly basis, depending on how much
is going on).  They are only intended for those people who wish to
contribute code to the project.  If you aren't going to be happy
debugging problems in a buggy snapshot, avoid these and wait for a real
release.  The snapshots are available from
<a class="ulink" href="http://cygwin.com/snapshots/" target="_top">http://cygwin.com/snapshots/</a>.
</p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq.api.cr-lf"></a><p><b>5.3.</b></p></td><td align="left" valign="top"><p>How is the DOS/Unix CR/LF thing handled?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Let's start with some background.
</p><p>In UNIX, a file is a file and what the file contains is whatever the
program/programmer/user told it to put into it.  In Windows, a file is
also a file and what the file contains depends not only on the
program/programmer/user but also the file processing mode.
</p><p>When processing in text mode, certain values of data are treated
specially.  A \n (new line) written to the file will prepend a \r
(carriage return) so that if you `printf("Hello\n") you in fact get
"Hello\r\n".  Upon reading this combination, the \r is removed and the
number of bytes returned by the read is 1 less than was actually read.
This tends to confuse programs dependent on ftell() and fseek().  A
Ctrl-Z encountered while reading a file sets the End Of File flags even
though it truly isn't the end of file.
</p><p>One of Cygwin's goals is to make it possible to easily mix Cygwin-ported
Unix programs with generic Windows programs.  As a result, Cygwin opens
files in text mode as is normal under Windows.  In the accompanying
tools, tools that deal with binaries (e.g. objdump) operate in Unix
binary mode and tools that deal with text files (e.g. bash) operate in
text mode.
</p><p>Some people push the notion of globally setting the default processing
mode to binary via mount point options or by setting the CYGWIN
environment variable.  But that creates a different problem.  In
binary mode, the program receives all of the data in the file, including
a \r.  Since the programs will no longer deal with these properly for
you, you would have to remove the \r from the relevant text files,
especially scripts and startup resource files.  This is a porter "cop
out", forcing the user to deal with the \r for the porter.
</p><p>It is rather easy for the porter to fix the source code by supplying the
appropriate file processing mode switches to the open/fopen functions.
Treat all text files as text and treat all binary files as binary.  To be
specific, you can select binary mode by adding <code class="literal">O_BINARY</code> to
the second argument of an <code class="literal">open</code> call, or
<code class="literal">"b"</code> to second argument of an <code class="literal">fopen</code> call.
You can also call <code class="literal">setmode (fd, O_BINARY)</code>.
</p><p>Note that because the open/fopen switches are defined by ANSI, they
exist under most flavors of Unix; open/fopen will just ignore the switch
since they have no meaning to UNIX.
</p><p>Explanation adapted from mailing list email by Earnie Boyd
&lt;earnie_boyd (at) yahoo.com&gt;.
</p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq.api.threads"></a><p><b>5.4.</b></p></td><td align="left" valign="top"><p>Is the Cygwin library multi-thread-safe?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Yes.
</p><p>There is also extensive support for 'POSIX threads', see the file
<code class="literal">cygwin.din</code> for the list of POSIX thread functions provided.
</p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq.api.winnt"></a><p><b>5.5.</b></p></td><td align="left" valign="top"><p>Why is some functionality only supported in Windows NT?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Windows 9x: n.
32 bit extensions and a graphical shell for a 16 bit patch to an
8 bit operating system originally coded for a 4 bit microprocessor,
written by a 2 bit company that can't stand 1 bit of competition.
</p><p>But seriously, Windows 9x lacks most of the security-related calls and
has several other deficiencies with respect to its version of the Win32
API.  See the calls.texinfo document for more information as to what
is not supported in Win 9x.
</p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq.api.fork"></a><p><b>5.6.</b></p></td><td align="left" valign="top"><p>How is fork() implemented?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Cygwin fork() essentially works like a non-copy on write version
of fork() (like old Unix versions used to do).  Because of this it
can be a little slow.  In most cases, you are better off using the
spawn family of calls if possible.
</p><p>Here's how it works:
</p><p>Parent initializes a space in the Cygwin process table for child.
Parent creates child suspended using Win32 CreateProcess call, giving
the same path it was invoked with itself.  Parent calls setjmp to save
its own context and then sets a pointer to this in the Cygwin shared
memory area (shared among all Cygwin tasks).  Parent fills in the child's
.data and .bss subsections by copying from its own address space into
the suspended child's address space.  Parent then starts the child.
Parent waits on mutex for child to get to safe point.  Child starts and
discovers if has been forked and then longjumps using the saved jump
buffer.  Child sets mutex parent is waiting on and then blocks on
another mutex waiting for parent to fill in its stack and heap.  Parent
notices child is in safe area, copies stack and heap from itself into
child, releases the mutex the child is waiting on and returns from the
fork call.  Child wakes from blocking on mutex, recreates any mmapped
areas passed to it via shared area and then returns from fork itself.
</p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq.api.globbing"></a><p><b>5.7.</b></p></td><td align="left" valign="top"><p>How does wildcarding (globbing) work?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>If the DLL thinks it was invoked from a DOS style prompt, it runs a
`globber' over the arguments provided on the command line.  This means
that if you type <code class="literal">LS *.EXE</code> from DOS, it will do what you might
expect.
</p><p>Beware: globbing uses <code class="literal">malloc</code>.  If your application defines
<code class="literal">malloc</code>, that will get used.  This may do horrible things to you.
</p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq.api.symlinks"></a><p><b>5.8.</b></p></td><td align="left" valign="top"><p>How do symbolic links work?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Cygwin knows of two ways to create symlinks.
</p><p>The old method is the only valid one up to but not including version 1.3.0.
If it's enabled (from 1.3.0 on by setting `nowinsymlinks' in the environment
variable CYGWIN) Cygwin generates link files with a magic header.  When you
open a file or directory that is a link to somewhere else, it opens the file
or directory listed in the magic header.  Because we don't want to have to
open every referenced file to check symlink status, Cygwin marks symlinks
with the system attribute.  Files without the system attribute are not
checked.  Because remote samba filesystems do not enable the system
attribute by default, symlinks do not work on network drives unless you
explicitly enable this attribute.
</p><p>The new method which is introduced with Cygwin version 1.3.0 is enabled
by default or if `winsymlinks' is set in the environment variable CYGWIN.
Using this method, Cygwin generates symlinks by creating Windows shortcuts.
Cygwin created shortcuts have a special header (which is in that way never
created by Explorer) and the R/O attribute set.  A DOS path is stored in
the shortcut as usual and the description entry is used to store the POSIX
path.  While the POSIX path is stored as is, the DOS path has perhaps to be
rearranged to result in a valid path.  This may result in a divergence
between the DOS and the POSIX path when symlinks are moved crossing mount
points.  When a user changes the shortcut, this will be detected by Cygwin
and it will only use the DOS path then.  While Cygwin shortcuts are shown
without the ".lnk" suffix in `ls' output, non-Cygwin shortcuts are shown
with the suffix.  However, both are treated as symlinks.
</p><p>Both, the old and the new symlinks can live peacefully together since Cygwin
treats both as symlinks regardless of the setting of `(no)winsymlinks' in
the environment variable CYGWIN.
</p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq.api.executables"></a><p><b>5.9.</b></p></td><td align="left" valign="top"><p>Why do some files, which are not executables have the 'x' type.</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>When working out the Unix-style attribute bits on a file, the library
has to fill out some information not provided by the WIN32 API.  
</p><p>It guesses that files ending in .exe and .bat are executable, as are
ones which have a "#!" as their first characters.
</p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq.api.secure"></a><p><b>5.10.</b></p></td><td align="left" valign="top"><p>How secure is Cygwin in a multi-user environment?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>As of version 1.5.13, the Cygwin developers are not aware of any feature
in the cygwin dll that would allow users to gain privileges or to access
objects to which they have no rights under Windows. However there is no
guarantee that Cygwin is as secure as the Windows it runs on.  Cygwin
processes share some variables and are thus easier targets of denial of
service type of attacks.
</p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq.api.net-functions"></a><p><b>5.11.</b></p></td><td align="left" valign="top"><p>How do the net-related functions work?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><span class="bold"><strong>(Please note: This section has not yet been updated for the latest net release.)</strong></span>
</p><p>The network support in Cygwin is supposed to provide the Unix API, not
the Winsock API.
</p><p>There are differences between the semantics of functions with the same
name under the API.
</p><p>E.g., the select system call on Unix can wait on a standard file handles
and handles to sockets.  The select call in Winsock can only wait on
sockets.  Because of this, cygwin.dll does a lot of nasty stuff behind
the scenes, trying to persuade various Winsock/win32 functions to do what
a Unix select would do.
</p><p>If you are porting an application which already uses Winsock, then
using the net support in Cygwin is wrong.
</p><p>But you can still use native Winsock, and use Cygwin.  The functions
which cygwin.dll exports are called 'cygwin_&lt;name&gt;'.  There
are a load of defines which map the standard Unix names to the names
exported by the DLL-- check out include/netdb.h:
</p><pre class="screen">
..etc..
void		cygwin_setprotoent (int);
void		cygwin_setservent (int);
void		cygwin_setrpcent (int);
..etc..
#ifndef __INSIDE_CYGWIN_NET__
#define endprotoent cygwin_endprotoent 
#define endservent cygwin_endservent 
#define endrpcent  cygwin_endrpcent  
..etc..
</pre><p>The idea is that you'll get the Unix-&gt;Cygwin mapping if you include
the standard Unix header files.  If you use this, you won't need to
link with libwinsock.a - all the net stuff is inside the DLL.
</p><p>The mywinsock.h file is a standard winsock.h which has been hacked to
remove the bits which conflict with the standard Unix API, or are
defined in other headers.  E.g., in mywinsock.h, the definition of
struct hostent is removed.  This is because on a Unix box, it lives in
netdb.  It isn't a good idea to use it in your applications.
</p><p>As of the b19 release, this information may be slightly out of date.
</p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq.api.winsock"></a><p><b>5.12.</b></p></td><td align="left" valign="top"><p>I don't want Unix sockets, how do I use normal Win32 winsock?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>To use the vanilla Win32 winsock, you just need to #define __USE_W32_WINSOCK
and #include "windows.h" (or "winsock2.h" at the top of your source file(s).  You may
find it easier to add "-D__USE_W32_WINSOCK" to the CFLAGS settings in your makefile,
if you are using one, as this will then apply to all your source files.  It is also
worth using "#define WIN32_LEAN_AND_MEAN" before you include the windows header file,
as this will prevent it from pulling in lots of header files for all sorts of unrelated
windows APIs when all you want is the Winsock definitions; again, this could be set
for the entire project in your CFLAGS.
</p><p>
You'll also need to add -lwsock32 to the compiler's command line (or the makefile's
list of link libs) so that you link against libwsock32.a.
</p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq.api.versions"></a><p><b>5.13.</b></p></td><td align="left" valign="top"><p>What version numbers are associated with Cygwin?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Cygwin versioning is relatively complicated because of its status as a
shared library.  First of all, since October 1998 every Cygwin DLL has
been named <code class="literal">cygwin1.dll</code> and has a 1 in the release name.
Additionally, there are DLL major and minor numbers that correspond to
the name of the release, and a release number. In other words,
cygwin-1.5.10-2 is <code class="literal">cygwin1.dll</code>, major version 5, minor version
10, release 2.
</p><p>The <code class="literal">cygwin1.dll</code> major version number gets incremented only when a
change is made that makes existing software incompatible. For example,
the first major version 5 release, cygwin-1.5.0-1, added 64-bit file I/O
operations, which required many libraries to be recompiled and relinked.
The minor version changes every time we make a new backward compatible
Cygwin release available.  There is also a <code class="literal">cygwin1.dll</code> release
version number.  The release number is only incremented if we update an
existing release in a way that does not effect the DLL (like a missing
header file).
</p><p>There are also Cygwin API major and minor numbers.  The major number
tracks important non-backward-compatible interface changes to the API.
An executable linked with an earlier major number will not be compatible
with the latest DLL.  The minor number tracks significant API additions
or changes that will not break older executables but may be required by
newly compiled ones.
</p><p>Then there is a shared memory region compatibility version number.  It is
incremented when incompatible changes are made to the shared memory
region or to any named shared mutexes, semaphores, etc.  Finally there
is a mount point registry version number which keeps track
of non-backwards-compatible changes to the registry mount table layout.
This has been <code class="literal">mounts v2</code> for a long time. For more exciting Cygwin
version number details, check out the <code class="literal">/usr/include/cygwin/version.h</code>
file.
</p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq.api.timezone"></a><p><b>5.14.</b></p></td><td align="left" valign="top"><p>Why isn't _timezone set correctly?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><span class="bold"><strong>(Please note: This section has not yet been updated for the latest net release.)</strong></span>
</p><p>Did you explicitly call tzset() before checking the value of _timezone?
If not, you must do so.
</p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq.api.mouse"></a><p><b>5.15.</b></p></td><td align="left" valign="top"><p>Is there a mouse interface?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>There is no way to capture mouse events from Cygwin.  There are
currently no plans to add support for this.
</p></td></tr><tr class="qandadiv"><td align="left" valign="top" colspan="2"><h3 class="title"><a name="faq.programming"></a>6. Programming Questions</h3></td></tr><tr class="toc"><td align="left" valign="top" colspan="2"><dl><dt>6.1. <a href="faq-nochunks.html#faq.programming.packages">How do I contribute a package?</a></dt><dt>6.2. <a href="faq-nochunks.html#faq.programming.contribute">How do I contribute to Cygwin?</a></dt><dt>6.3. <a href="faq-nochunks.html#faq.programming.huge-executables">Why are compiled executables so huge?!?</a></dt><dt>6.4. <a href="faq-nochunks.html#faq.programming.glibc">Where is glibc?</a></dt><dt>6.5. <a href="faq-nochunks.html#faq.programming.objective-c">Where is Objective C?</a></dt><dt>6.6. <a href="faq-nochunks.html#faq.programming.make-execvp">Why does my make fail on Cygwin with an execvp error? </a></dt><dt>6.7. <a href="faq-nochunks.html#faq.programming.ipc">How can I use IPC, or why do I get a Bad system call
error?</a></dt><dt>6.8. <a href="faq-nochunks.html#faq.programming.winmain">Why the undefined reference to WinMain@16?</a></dt><dt>6.9. <a href="faq-nochunks.html#faq.programming.win32-api">How do I use Win32 API calls?</a></dt><dt>6.10. <a href="faq-nochunks.html#faq.programming.win32-no-cygwin">How do I compile a Win32 executable that doesn't use Cygwin?</a></dt><dt>6.11. <a href="faq-nochunks.html#faq.programming.static-linking">Can I build a Cygwin program that does not require cygwin1.dll at runtime?</a></dt><dt>6.12. <a href="faq-nochunks.html#faq.programming.msvcrt-and-cygwin">Can I link with both MSVCRT*.DLL and cygwin1.dll?</a></dt><dt>6.13. <a href="faq-nochunks.html#faq.programming.no-console-window">How do I make the console window go away?</a></dt><dt>6.14. <a href="faq-nochunks.html#faq.programming.make-spaces">Why does make complain about a "missing separator"?</a></dt><dt>6.15. <a href="faq-nochunks.html#faq.programming.win32-headers">Why can't we redistribute Microsoft's Win32 headers?</a></dt><dt>6.16. <a href="faq-nochunks.html#faq.programming.msvs-mingw">How do I use cygwin1.dll with Visual Studio or MinGW?</a></dt><dt>6.17. <a href="faq-nochunks.html#faq.programming.linking-lib">How do I link against a .lib file?</a></dt><dt>6.18. <a href="faq-nochunks.html#faq.programming.building-cygwin">How do I build Cygwin on my own?</a></dt><dt>6.19. <a href="faq-nochunks.html#faq.programming.debugging-cygwin">I may have found a bug in Cygwin, how can I debug it (the symbols in gdb look funny)?</a></dt><dt>6.20. <a href="faq-nochunks.html#faq.programming.compiling-unsupported">How can I compile Cygwin for an unsupported platform (PowerPC, Alpha, ARM, Itanium)?</a></dt><dt>6.21. <a href="faq-nochunks.html#faq.programming.adjusting-heap">How can I adjust the heap/stack size of an application?</a></dt><dt>6.22. <a href="faq-nochunks.html#faq.programming.dll-cygcheck">How can I find out which DLLs are needed by an executable?</a></dt><dt>6.23. <a href="faq-nochunks.html#faq.programming.dll-building">How do I build a DLL?</a></dt><dt>6.24. <a href="faq-nochunks.html#faq.programming.breakpoint">How can I set a breakpoint at MainCRTStartup?</a></dt><dt>6.25. <a href="faq-nochunks.html#faq.programming.dll-relocatable">How can I build a relocatable dll?</a></dt><dt>6.26. <a href="faq-nochunks.html#faq.programming.debug">How can I debug what's going on?</a></dt><dt>6.27. <a href="faq-nochunks.html#faq.programming.system-trace">Can I use a system trace mechanism instead?</a></dt><dt>6.28. <a href="faq-nochunks.html#faq.programming.gdb-signals">Why doesn't gdb handle signals?</a></dt><dt>6.29. <a href="faq-nochunks.html#faq.programming.linker">The linker complains that it can't find something.</a></dt><dt>6.30. <a href="faq-nochunks.html#faq.programming.stat64">Why do I get an error using struct stat64?</a></dt><dt>6.31. <a href="faq-nochunks.html#faq.programming.undeclared-functions">I use a function I know is in the API, but I still get a link error.</a></dt><dt>6.32. <a href="faq-nochunks.html#faq.programming.libc">Can you make DLLs that are linked against libc ?</a></dt><dt>6.33. <a href="faq-nochunks.html#faq.programming.malloc-h">Where is malloc.h?</a></dt><dt>6.34. <a href="faq-nochunks.html#faq.programming.own-malloc">Can I use my own malloc?</a></dt><dt>6.35. <a href="faq-nochunks.html#faq.programming.msvc-gcc-objects">Can I mix objects compiled with msvc++ and gcc?</a></dt><dt>6.36. <a href="faq-nochunks.html#faq.programming.gdb-msvc">Can I use the gdb debugger to debug programs built by VC++?</a></dt><dt>6.37. <a href="faq-nochunks.html#faq.programming.x86-assembly">Where can I find info on x86 assembly?</a></dt><dt>6.38. <a href="faq-nochunks.html#faq.programming.make-scripts">Shell scripts aren't running properly from my makefiles?</a></dt><dt>6.39. <a href="faq-nochunks.html#faq.programming.preprocessor">What preprocessor do I need to know about?</a></dt><dt>6.40. <a href="faq-nochunks.html#faq.programming.unix-gui">How should I port my Unix GUI to Windows?</a></dt><dt>6.41. <a href="faq-nochunks.html#faq.programming.djgpp">Why not use DJGPP ?</a></dt></dl></td></tr><tr class="question"><td align="left" valign="top"><a name="faq.programming.packages"></a><p><b>6.1.</b></p></td><td align="left" valign="top"><p>How do I contribute a package?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>If you are willing to be a package maintainer, great!  We urgently need
volunteers to prepare and maintain packages, because the priority of the
Cygwin Team is Cygwin itself.
</p><p>The Cygwin Package Contributor's Guide at
<a class="ulink" href="http://cygwin.com/setup.html" target="_top">http://cygwin.com/setup.html</a> details everything you need to know
about being a package maintainer. The quickest way to get started is to
read the <span class="emphasis"><em>Initial packaging procedure, script-based</em></span> section on
that page.  The <code class="literal">generic-build-script</code> found there works well for
most packages. 
</p><p>For questions about package maintenance, use the cygwin-apps mailing
list (start at <a class="ulink" href="http://cygwin.com/lists.html" target="_top">http://cygwin.com/lists.html</a>) <span class="emphasis"><em>after</em></span>
searching and browsing the cygwin-apps list archives, of course.  Be
sure to look at the <span class="emphasis"><em>Submitting a package</em></span> checklist at
<a class="ulink" href="http://cygwin.com/setup.html" target="_top">http://cygwin.com/setup.html</a> before sending an ITP (Intent To
Package) email to cygwin-apps.
</p><p>You should also announce your intentions to the general cygwin list, in
case others were thinking the same thing.
</p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq.programming.contribute"></a><p><b>6.2.</b></p></td><td align="left" valign="top"><p>How do I contribute to Cygwin?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>If you want to contribute to Cygwin itself, see
<a class="ulink" href="http://cygwin.com/contrib.html" target="_top">http://cygwin.com/contrib.html</a>.
</p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq.programming.huge-executables"></a><p><b>6.3.</b></p></td><td align="left" valign="top"><p>Why are compiled executables so huge?!?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>By default, gcc compiles in all symbols.  You'll also find that gcc
creates large executables on UNIX.
</p><p>If that bothers you, just use the 'strip' program, part of the binutils
package.  Or compile with the <code class="literal">-s</code> option to gcc.
</p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq.programming.glibc"></a><p><b>6.4.</b></p></td><td align="left" valign="top"><p>Where is glibc?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Cygwin does not provide glibc.  It uses newlib instead, which provides
much (but not all) of the same functionality.  Porting glibc to Cygwin
would be difficult.
</p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq.programming.objective-c"></a><p><b>6.5.</b></p></td><td align="left" valign="top"><p>Where is Objective C?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Objective C is not distributed with the Cygwin version of gcc, and there
are no plans to do so.  The gcc package maintainer had difficulty
building it, and once built there were problems using it.  It appears
that there is only minimal support for the Objective C front-end in the
main GCC distribution, anyway.
</p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq.programming.make-execvp"></a><p><b>6.6.</b></p></td><td align="left" valign="top"><p>Why does my make fail on Cygwin with an execvp error? </p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>First of all, if you are using <code class="literal">make -j[N]</code>, then stop.  It doesn't
work well. Also beware of using non-portable shell features in your
Makefiles (see tips at <a class="ulink" href="http://cygwin.com/faq/faq.using.html#faq.using.shell-scripts" target="_top">http://cygwin.com/faq/faq.using.html#faq.using.shell-scripts</a>).
</p><p>Errors of <code class="literal">make: execvp: /bin/sh: Illegal Argument</code> or 
<code class="literal">make: execvp: /bin/sh: Argument list too long</code> are often
caused by the command-line being to long for the Windows execution model.
To circumvent this, mount the path of the executable using the -X switch
to enable cygexec for all executables in that folder; you will also need
to exclude non-cygwin executables with the -x switch. Enabling cygexec
causes cygwin executables to talk directly to one another, which increases
the command-line limit. To enable cygexec for <code class="literal">/bin</code> and 
<code class="literal">/usr/bin</code>, you can use these commands in a batch file:
</p><pre class="screen">
mount -X -b -f c:\cygwin\bin /bin
mount -X -b -f c:\cygwin\bin /usr/bin
mount -x -b -f c:\cygwin\bin\tclsh84.exe /usr/bin/tclsh84.exe
mount -x -b -f c:\cygwin\bin\tclsh84.exe /bin/tclsh84.exe
mount -x -b -f c:\cygwin\bin\wish84.exe /usr/bin/wish84.exe
mount -x -b -f c:\cygwin\bin\wish84.exe /bin/wish84.exe
</pre><p>Note that if you have Tcl/Tk installed, you must specifically exclude 
<code class="literal">tclsh84</code> and <code class="literal">wish84</code>, which are linked 
to the Cygwin DLL but are not actually Cygwin programs. If you have added 
other non-Cygwin programs to a path you want to mount cygexec, you can find
them with a script like this:
</p><pre class="screen">
#!/bin/sh
cd /bin; for f in `find . -type f -name '*.exe'`; do
	cygcheck $f | (fgrep -qi cygwin1.dll || echo $f)
done
</pre><p>
See <a class="ulink" href="http://www.cygwin.com/cygwin-ug-net/using-utils.html#mount" target="_top">http://www.cygwin.com/cygwin-ug-net/using-utils.html#mount</a> 
for more information on using mount.
</p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq.programming.ipc"></a><p><b>6.7.</b></p></td><td align="left" valign="top"><p>How can I use IPC, or why do I get a <code class="literal">Bad system call</code>
error?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
Try running cygserver.  Read 
<a class="ulink" href="http://www.cygwin.com/cygwin-ug-net/using-cygserver.html" target="_top">http://www.cygwin.com/cygwin-ug-net/using-cygserver.html</a>. If you're
trying to use PostgreSQL, also read 
<code class="literal">/usr/share/doc/Cygwin/postgresql-*.README</code>.
</p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq.programming.winmain"></a><p><b>6.8.</b></p></td><td align="left" valign="top"><p>Why the undefined reference to <code class="literal">WinMain@16</code>?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>If you're using <code class="literal">gcc</code>, try adding an empty main() function to one
of your sources.  Or, perhaps you have <code class="literal">-lm</code> too early in the
link command line.  It should be at the end:
</p><pre class="screen">
    bash$ gcc hello.c -lm
    bash$ ./a.exe
    Hello World!
</pre><p>works, but
</p><pre class="screen">
    bash$  gcc -lm hello.c
    /c/TEMP/ccjLEGlU.o(.text+0x10):hello.c: multiple definition of `main'
    /usr/lib/libm.a(libcmain.o)(.text+0x0):libcmain.c: first defined here
    /usr/lib/libm.a(libcmain.o)(.text+0x6a):libcmain.c: undefined reference to `WinMain@16'
    collect2: ld returned 1 exit status
</pre><p>If you're using GCJ, you need to pass a "--main" flag:
</p><pre class="screen">
gcj --main=Hello Hello.java
</pre></td></tr><tr class="question"><td align="left" valign="top"><a name="faq.programming.win32-api"></a><p><b>6.9.</b></p></td><td align="left" valign="top"><p>How do I use Win32 API calls?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><span class="bold"><strong>(Please note: This section has not yet been updated for the latest net release.)</strong></span>
</p><p>It's pretty simple actually.  Cygwin tools require that you explicitly
link the import libraries for whatever Win32 API functions that you
are going to use, with the exception of kernel32, which is linked
automatically (because the startup and/or built-in code uses it).
</p><p>For example, to use graphics functions (GDI) you must link
with gdi32 like this:
</p><p>gcc -o foo.exe foo.o bar.o -lgdi32
</p><p>or (compiling and linking in one step):
</p><p>gcc -o foo.exe foo.c bar.c -lgdi32
</p><p>The following libraries are available for use in this way:
</p><p>advapi32  largeint  ole32     scrnsave  vfw32
cap       lz32      oleaut32  shell32   win32spl
comctl32  mapi32    oledlg    snmp      winmm
comdlg32  mfcuia32  olepro32  svrapi    winserve
ctl3d32   mgmtapi   opengl32  tapi32    winspool
dlcapi    mpr       penwin32  th32      winstrm
gdi32     msacm32   pkpd32    thunk32   wow32
glaux     nddeapi   rasapi32  url       wsock32
glu32     netapi32  rpcdce4   user32    wst
icmp      odbc32    rpcndr    uuid
imm32     odbccp32  rpcns4    vdmdbg
kernel32  oldnames  rpcrt4    version
</p><p>The regular setup allows you to use the option -mwindows on the
command line to include a set of the basic libraries (and also
make your program a GUI program instead of a console program),
including user32, gdi32 and, IIRC, comdlg32.
</p><p>Note that you should never include -lkernel32 on your link line
unless you are invoking ld directly.  Do not include the same import
library twice on your link line.  Finally, it is a good idea to
put import libraries last on your link line, or at least after
all the object files and static libraries that reference them.
</p><p>The first two are related to problems the linker has (as of b18 at least)
when import libraries are referenced twice.  Tables get messed up and
programs crash randomly.  The last point has to do with the fact that
gcc processes the files listed on the command line in sequence and
will only resolve references to libraries if they are given after
the file that makes the reference.
</p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq.programming.win32-no-cygwin"></a><p><b>6.10.</b></p></td><td align="left" valign="top"><p>How do I compile a Win32 executable that doesn't use Cygwin?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>The -mno-cygwin flag to gcc makes gcc link against standard Microsoft
DLLs instead of Cygwin.  This is desirable for native Windows programs
that don't need a UNIX emulation layer.
</p><p>This is not to be confused with 'MinGW' (Minimalist GNU for Windows),
which is a completely separate effort.  That project's home page is
<a class="ulink" href="http://www.mingw.org/index.shtml" target="_top">http://www.mingw.org/index.shtml</a>.
</p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq.programming.static-linking"></a><p><b>6.11.</b></p></td><td align="left" valign="top"><p>Can I build a Cygwin program that does not require cygwin1.dll at runtime?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>No.  If your program uses the Cygwin API, then your executable cannot
run without cygwin1.dll.  In particular, it is not possible to
statically link with a Cygwin library to obtain an independent,
self-contained executable.
</p><p>If this is an issue because you intend to distribute your Cygwin
application, then you had better read and understand
<a class="ulink" href="http://cygwin.com/licensing.html" target="_top">http://cygwin.com/licensing.html</a>, which explains the licensing
options.  Unless you purchase a special commercial license from Red
Hat, then your Cygwin application must be Open Source.
</p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq.programming.msvcrt-and-cygwin"></a><p><b>6.12.</b></p></td><td align="left" valign="top"><p>Can I link with both MSVCRT*.DLL and cygwin1.dll?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>No, you must use one or the other, they are mutually exclusive.
</p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq.programming.no-console-window"></a><p><b>6.13.</b></p></td><td align="left" valign="top"><p>How do I make the console window go away?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>The default during compilation is to produce a console application.
It you are writing a GUI program, you should either compile with
-mwindows as explained above, or add the string
"-Wl,--subsystem,windows" to the GCC command line.
</p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq.programming.make-spaces"></a><p><b>6.14.</b></p></td><td align="left" valign="top"><p>Why does make complain about a "missing separator"?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>This problem usually occurs as a result of someone editing a Makefile
with a text editor that replaces tab characters with spaces.  Command
lines must start with tabs.  This is not specific to Cygwin.
</p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq.programming.win32-headers"></a><p><b>6.15.</b></p></td><td align="left" valign="top"><p>Why can't we redistribute Microsoft's Win32 headers?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Subsection 2.d.f of the `Microsoft Open Tools License agreement' looks
like it says that one may not "permit further redistribution of the
Redistributables to their end users".  We take this to mean that we can
give them to you, but you can't give them to anyone else, which is
something that we can't agree to.  Fortunately, we
have our own Win32 headers which are pretty complete.
</p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq.programming.msvs-mingw"></a><p><b>6.16.</b></p></td><td align="left" valign="top"><p>How do I use <code class="literal">cygwin1.dll</code> with Visual Studio or MinGW?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Before you begin, note that Cygwin is licensed under the GNU GPL (as
indeed are all other Cygwin-based libraries).  That means that if your
code links against the cygwin dll (and if your program is calling
functions from Cygwin, it must, as a matter of fact, be linked against
it), you must apply the GPL to your source as well.  Of course, this
only matters if you plan to distribute your program in binary form.  For
more information, see <a class="ulink" href="http://gnu.org/licenses/gpl-faq.html" target="_top">http://gnu.org/licenses/gpl-faq.html</a>.  If
that is not a problem, read on.
</p><p>If you want to load the DLL dynamically, read
<code class="literal">winsup/cygwin/how-cygtls-works.txt</code> and the sample code in
<code class="literal">winsup/testsuite/cygload</code> to understand how this works.
The short version is:
</p><div class="orderedlist"><ol type="1"><li><p>Make sure you have 4K of scratch space at the bottom of your stack.
</p></li><li><p>Invoke <code class="literal">cygwin_dll_init()</code>:
</p><pre class="screen">
HMODULE h = LoadLibrary("cygwin1.dll");
void (*init)() = GetProcAddress(h, "cygwin_dll_init");
init();
</pre><p>
</p></li></ol></div><p>If you want to link statically from Visual Studio, to my knowledge
none of the Cygwin developers have done this, but we have this report
from the mailing list that it can be done this way:
</p><div class="orderedlist"><ol type="1"><li><p>Use the impdef program to generate a .def file for the cygwin1.dll
(if you build the cygwin dll from source, you will already have a def
file)
</p><pre class="screen">
impdef cygwin1.dll &gt; cygwin1.def
</pre></li><li><p>Use the MS VS linker (lib) to generate an import library
</p><pre class="screen">
lib /def=cygwin1.def /out=cygwin1.lib
</pre></li><li><p>Create a file "my_crt0.c" with the following contents
</p><pre class="screen">
#include &lt;sys/cygwin.h&gt;
#include &lt;stdlib.h&gt;

typedef int (*MainFunc) (int argc, char *argv[], char **env);

void
  my_crt0 (MainFunc f)
  {
    cygwin_crt0(f);
  }
</pre></li><li><p>Use gcc in a Cygwin prompt to build my_crt0.c into a DLL
       (e.g. my_crt0.dll). Follow steps 1 and 2 to generate .def and
       .lib files for the DLL.
</p></li><li><p>Download crt0.c from the cygwin website and include it in
       your sources. Modify it to call my_crt0() instead of
       cygwin_crt0().  
</p></li><li><p>Build your object files using the MS VC compiler cl.
</p></li><li><p>Link your object files, cygwin1.lib, and my_crt0.lib (or
       whatever you called it) into the executable.
</p></li></ol></div><p>Note that if you are using any other Cygwin based libraries
that you will probably need to build them as DLLs using gcc and
then generate import libraries for the MS VC linker.
</p><p>Thanks to Alastair Growcott (alastair dot growcott at bakbone dot co
dot uk) for this tip.
</p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq.programming.linking-lib"></a><p><b>6.17.</b></p></td><td align="left" valign="top"><p>How do I link against a <code class="literal">.lib</code> file?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>If your <code class="literal">.lib</code> file is a normal static or import library with
C-callable entry points, you can list <code class="literal">foo.lib</code> as an object file for
gcc/g++, just like any <code class="literal">*.o</code> file. Otherwise, here are some steps:
</p><div class="orderedlist"><ol type="1"><li><p>Build a C file with a function table.  Put all functions you intend
to use in that table.  This forces the linker to include all the object
files from the .lib.  Maybe there is an option to force LINK.EXE to
include an object file.
</p></li><li><p>Build a dummy 'LibMain'.
</p></li><li><p>Build a .def with all the exports you need.
</p></li><li><p>Link with your .lib using link.exe.
</p></li></ol></div><p>or
</p><div class="orderedlist"><ol type="1"><li><p>Extract all the object files from the .lib using LIB.EXE.
</p></li><li><p>Build a dummy C file referencing all the functions you need, either
      with a direct call or through an initialized function pointer.
</p></li><li><p>Build a dummy LibMain.
</p></li><li><p>Link all the objects with this file+LibMain.
</p></li><li><p>Write a .def.
</p></li><li><p>Link.
</p></li></ol></div><p>You can use these methods to use MSVC (and many other runtime libs)
with Cygwin development tools.
</p><p>Note that this is a lot of work (half a day or so), but much less than
rewriting the runtime library in question from specs...
</p><p>Thanks to Jacob Navia (root at jacob dot remcomp dot fr) for this explanation.
</p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq.programming.building-cygwin"></a><p><b>6.18.</b></p></td><td align="left" valign="top"><p>How do I build Cygwin on my own?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>First, you need to make sure you have the necessary build tools
installed; you at least need <code class="literal">gcc</code>, <code class="literal">make</code>, 
<code class="literal">perl</code>, and <code class="literal">cocom</code>. If you want to run 
the tests, <code class="literal">dejagnu</code> is also required,
and you need to have <code class="literal">CYGWIN=server</code> set as described at 
<a class="ulink" href="http://www.cygwin.com/cygwin-ug-net/using-cygserver.html" target="_top">http://www.cygwin.com/cygwin-ug-net/using-cygserver.html</a>.
Normally, building ignores any errors in building the documentation,
which requires the <code class="literal">docbook-xml42</code>, <code class="literal">docbook-xsl</code>, and
<code class="literal">xmlto</code> packages.  For more information on building the
documentation, see the README included in the <code class="literal">cygwin-doc</code> package.
</p><p>Next, get the Cygwin source.  Ideally, you should check out
what you need from CVS (<a class="ulink" href="http://cygwin.com/cvs.html" target="_top">http://cygwin.com/cvs.html</a>).  This is the
<span class="emphasis"><em>preferred method</em></span> for acquiring the sources.  Otherwise, if
you are trying to duplicate a cygwin release then you should 
download the corresponding source package
(<code class="literal">cygwin-x.y.z-n-src.tar.bz2</code>). </p><p>You <span class="emphasis"><em>must</em></span> build cygwin in a separate directory from
the source, so create something like a <code class="literal">build/</code> directory.
Assuming you checked out the source in <code class="literal">/oss/src/</code>, and you
also want to install to the temporary location <code class="literal">install</code>:
</p><pre class="screen">
mkdir /oss/build
mkdir /oss/install 
cd build
(/oss/src/configure --prefix=/oss/install -v; make) &gt;&amp; make.out
make install &gt; install.log 2&gt;&amp;1
</pre><p>To check a cygwin1.dll, run "make check" in the build/i?86*cygwin/winsup
directory created after running make above.
If that works, install everything <span class="emphasis"><em>except</em></span> the dll (if
you can).  Then, close down all cygwin programs (including bash windows,
inetd, etc.), save your old dll, and copy the new dll to the correct
place.  Then start up a bash window, or  run a cygwin program from the
Windows command prompt, and see what happens.
</p><p>If you get the error "shared region is corrupted" it means that two
different versions of cygwin1.dll are running on your machine at the
same time. Remove all but one. 
</p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq.programming.debugging-cygwin"></a><p><b>6.19.</b></p></td><td align="left" valign="top"><p>I may have found a bug in Cygwin, how can I debug it (the symbols in gdb look funny)?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Debugging symbols are stripped from distibuted Cygwin binaries, so any
symbols that you see in gdb are basically meaningless. It is also a good
idea to use the latest code in case the bug has been fixed, so we
recommend trying the latest snapshot from
<a class="ulink" href="http://cygwin.com/snapshots/" target="_top">http://cygwin.com/snapshots/</a> or building the DLL from CVS.
</p><p>To build a debugging version of the Cygwin DLL, you will need to follow
the instructions at <a class="ulink" href="http://cygwin.com/faq/faq-nochunks.html#faq.programming.building-cygwin" target="_top">http://cygwin.com/faq/faq-nochunks.html#faq.programming.building-cygwin</a>. 
You can also contact the mailing list for pointers (a simple test case that 
demonstrates the bug is always welcome).  
</p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq.programming.compiling-unsupported"></a><p><b>6.20.</b></p></td><td align="left" valign="top"><p>How can I compile Cygwin for an unsupported platform (PowerPC, Alpha, ARM, Itanium)?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Unfortunately, this will be difficult.  Exception handling and signals
support semantics and args have been designed for x86 so you would need
to write specific support for your platform.  We don't know of any other
incompatibilities. Please send us patches if you do this work!
</p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq.programming.adjusting-heap"></a><p><b>6.21.</b></p></td><td align="left" valign="top"><p>How can I adjust the heap/stack size of an application?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>If you need to change the maximum amount of memory available to Cygwin, see
<a class="ulink" href="http://cygwin.com/cygwin-ug-net/setup-maxmem.html" target="_top">http://cygwin.com/cygwin-ug-net/setup-maxmem.html</a>. Otherwise,
just pass heap/stack linker arguments to gcc.  To create foo.exe with
a heap size of 200MB and a stack size of 8MB, you would invoke
gcc as:
</p><p><code class="literal">gcc -Wl,--heap,200000000,--stack,8000000 -o foo foo.c</code>
</p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq.programming.dll-cygcheck"></a><p><b>6.22.</b></p></td><td align="left" valign="top"><p>How can I find out which DLLs are needed by an executable?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><code class="literal">objdump -p</code> provides this information, but is rather verbose.
</p><p><code class="literal">cygcheck</code> will do this much more concisely, and operates
recursively, provided the command is in your path.
</p><p>Note there is currently a bug in cygcheck in that it will not report
on a program in a Windows system dir (e.g., C:\Windows or C:\WINNT) even
if it's in your path.  To work around this, supply the full Win32 path
to the executable, including the .exe extension:
</p><pre class="screen">
cygcheck c:\\winnt\\system32\\cmd.exe
</pre><p>(Note the windows path separator must be escaped if this is typed in
bash.)
</p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq.programming.dll-building"></a><p><b>6.23.</b></p></td><td align="left" valign="top"><p>How do I build a DLL?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>There's documentation that explains the process in the Cygwin User's
Guide here: <a class="ulink" href="http://cygwin.com/cygwin-ug-net/dll.html" target="_top">http://cygwin.com/cygwin-ug-net/dll.html</a>
</p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq.programming.breakpoint"></a><p><b>6.24.</b></p></td><td align="left" valign="top"><p>How can I set a breakpoint at MainCRTStartup?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><span class="bold"><strong>(Please note: This section has not yet been updated for the latest net release.)</strong></span>
</p><p>Set a breakpoint at *0x401000 in gdb and then run the program in
question.
</p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq.programming.dll-relocatable"></a><p><b>6.25.</b></p></td><td align="left" valign="top"><p>How can I build a relocatable dll?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><span class="bold"><strong>(Please note: This section has not yet been updated for the latest net release.  However, there was a discussion on the cygwin mailing list recently that addresses this issue.  Read <a class="ulink" href="http://cygwin.com/ml/cygwin/2000-06/msg00688.html" target="_top">http://cygwin.com/ml/cygwin/2000-06/msg00688.html</a> and related messages.)</strong></span>
</p><p>You must execute the following sequence of five commands, in this
order:
</p><pre class="screen">
$(LD) -s --base-file BASEFILE --dll -o DLLNAME OBJS LIBS -e ENTRY

$(DLLTOOL) --as=$(AS) --dllname DLLNAME --def DEFFILE \
        --base-file BASEFILE --output-exp EXPFILE

$(LD) -s --base-file BASEFILE EXPFILE -dll -o DLLNAME OBJS LIBS -e ENTRY

$(DLLTOOL) --as=$(AS) --dllname DLLNAME --def DEFFILE \
	--base-file BASEFILE --output-exp EXPFILE

$(LD) EXPFILE --dll -o DLLNAME OBJS LIBS -e ENTRY
</pre><p>In this example, $(LD) is the linker, ld.
</p><p>$(DLLTOOL) is dlltool.
</p><p>$(AS) is the assembler, as.
</p><p>DLLNAME is the name of the DLL you want to create, e.g., tcl80.dll.
</p><p>OBJS is the list of object files you want to put into the DLL.
</p><p>LIBS is the list of libraries you want to link the DLL against.  For
example, you may or may not want -lcygwin.  You may want -lkernel32.
Tcl links against -lcygwin -ladvapi32 -luser32 -lgdi32 -lcomdlg32
-lkernel32.
</p><p>DEFFILE is the name of your definitions file.  A simple DEFFILE would
consist of ``EXPORTS'' followed by a list of all symbols which should
be exported from the DLL.  Each symbol should be on a line by itself.
Other programs will only be able to access the listed symbols.
</p><p>BASEFILE is a temporary file that is used during this five stage
process, e.g., tcl.base.
</p><p>EXPFILE is another temporary file, e.g., tcl.exp.
</p><p>ENTRY is the name of the function which you want to use as the entry
point.  This function should be defined using the WINAPI attribute,
and should take three arguments:
        int WINAPI startup (HINSTANCE, DWORD, LPVOID)
</p><p>This means that the actual symbol name will have an appended @12, so if
your entry point really is named <code class="literal">startup</code>, the string you should
use for ENTRY in the above examples would be <code class="literal">startup@12</code>.
</p><p>If your DLL calls any Cygwin API functions, the entry function will need
to initialize the Cygwin impure pointer.  You can do that by declaring
a global variable <code class="literal">_impure_ptr</code>, and then initializing it in the
entry function.  Be careful not to export the global variable
<code class="literal">_impure_ptr</code> from your DLL; that is, do not put it in DEFFILE.
</p><pre class="screen">
/* This is a global variable.  */
struct _reent *_impure_ptr;
extern struct _reent *__imp_reent_data;

int entry (HINSTANT hinst, DWORD reason, LPVOID reserved)
{
  _impure_ptr = __imp_reent_data;
  /* Whatever else you want to do.  */
}
</pre><p>You may put an optional `--subsystem windows' on the $(LD) lines.  The
Tcl build does this, but I admit that I no longer remember whether
this is important.  Note that if you specify a --subsytem &lt;x&gt; flag to ld,
the -e entry must come after the subsystem flag, since the subsystem flag
sets a different default entry point.
</p><p>You may put an optional `--image-base BASEADDR' on the $(LD) lines.
This will set the default image base.  Programs using this DLL will
start up a bit faster if each DLL occupies a different portion of the
address space.  Each DLL starts at the image base, and continues for
whatever size it occupies.
</p><p>Now that you've built your DLL, you may want to build a library so
that other programs can link against it.  This is not required: you
could always use the DLL via LoadLibrary.  However, if you want to be
able to link directly against the DLL, you need to create a library.
Do that like this:
</p><p>$(DLLTOOL) --as=$(AS) --dllname DLLNAME --def DEFFILE --output-lib LIBFILE
</p><p>$(DLLTOOL), $(AS), DLLNAME, and DEFFILE are the same as above.  Make
sure you use the same DLLNAME and DEFFILE, or things won't work right.
</p><p>LIBFILE is the name of the library you want to create, e.g.,
libtcl80.a.  You can then link against that library using something
like -ltcl80 in your linker command.
</p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq.programming.debug"></a><p><b>6.26.</b></p></td><td align="left" valign="top"><p>How can I debug what's going on?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>You can debug your application using <code class="literal">gdb</code>.  Make sure you
compile it with the -g flag!  If your application calls functions in
MS DLLs, gdb will complain about not being able to load debug information
for them when you run your program.  This is normal since these DLLs
don't contain debugging information (and even if they did, that debug
info would not be compatible with gdb).
</p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq.programming.system-trace"></a><p><b>6.27.</b></p></td><td align="left" valign="top"><p>Can I use a system trace mechanism instead?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Yes.  You can use the <code class="literal">strace.exe</code> utility to run other cygwin
programs with various debug and trace messages enabled.  For information
on using <code class="literal">strace</code>, see the Cygwin User's Guide or the file
<code class="literal">winsup/utils/utils.sgml</code>.
</p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq.programming.gdb-signals"></a><p><b>6.28.</b></p></td><td align="left" valign="top"><p>Why doesn't gdb handle signals?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Unfortunately, there is only minimal signal handling support in gdb
currently.  Signal handling only works with Windows-type signals.
SIGINT may work, SIGFPE may work, SIGSEGV definitely does.  You cannot
'stop', 'print' or 'nopass' signals like SIGUSR1 or SIGHUP to the
process being debugged.
</p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq.programming.linker"></a><p><b>6.29.</b></p></td><td align="left" valign="top"><p>The linker complains that it can't find something.</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>A common error is to put the library on the command line before
the thing that needs things from it.
</p><p>This is wrong <code class="literal">gcc -lstdc++ hello.cc</code>.
This is right <code class="literal">gcc hello.cc -lstdc++</code>.
</p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq.programming.stat64"></a><p><b>6.30.</b></p></td><td align="left" valign="top"><p>Why do I get an error using <code class="literal">struct stat64</code>?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><code class="literal">struct stat64</code> is not used in Cygwin, just
use <code class="literal">struct stat</code>.</p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq.programming.undeclared-functions"></a><p><b>6.31.</b></p></td><td align="left" valign="top"><p>I use a function I know is in the API, but I still get a link error.</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>The function probably isn't declared in the header files, or
the UNICODE stuff for it isn't filled in.
</p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq.programming.libc"></a><p><b>6.32.</b></p></td><td align="left" valign="top"><p>Can you make DLLs that are linked against libc ?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Yes.
</p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq.programming.malloc-h"></a><p><b>6.33.</b></p></td><td align="left" valign="top"><p>Where is malloc.h?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p><span class="bold"><strong>(Please note: This section has not yet been updated for the latest net release.)</strong></span>
</p><p>Include stdlib.h instead of malloc.h.
</p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq.programming.own-malloc"></a><p><b>6.34.</b></p></td><td align="left" valign="top"><p>Can I use my own malloc?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>If you define a function called <code class="literal">malloc</code> in your own code, and link
with the DLL, the DLL <span class="emphasis"><em>will</em></span> call your <code class="literal">malloc</code>.  Needless to
say, you will run into serious problems if your malloc is buggy.
</p><p>If you run any programs from the DOS command prompt, rather than from in
bash, the DLL will try and expand the wildcards on the command line.
This process uses <code class="literal">malloc</code> <span class="emphasis"><em>before</em></span> your main line is started.
If you have written your own <code class="literal">malloc</code> to need some initialization
to occur after <code class="literal">main</code> is called, then this will surely break.
</p><p>Moreover, there is an outstanding issue with <code class="literal">_malloc_r</code> in
<code class="literal">newlib</code>.  This re-entrant version of <code class="literal">malloc</code> will be called
directly from within <code class="literal">newlib</code>, by-passing your custom version, and
is probably incompatible with it.  But it may not be possible to replace
<code class="literal">_malloc_r</code> too, because <code class="literal">cygwin1.dll</code> does not export it and
Cygwin does not expect your program to replace it.  This is really a
newlib issue, but we are open to suggestions on how to deal with it.
</p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq.programming.msvc-gcc-objects"></a><p><b>6.35.</b></p></td><td align="left" valign="top"><p>Can I mix objects compiled with msvc++ and gcc?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Yes, but only if you are combining C object files.  MSVC C++ uses a
different mangling scheme than GNU C++, so you will have difficulties
combining C++ objects.
</p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq.programming.gdb-msvc"></a><p><b>6.36.</b></p></td><td align="left" valign="top"><p>Can I use the gdb debugger to debug programs built by VC++?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>No, not for full (high level source language) debugging.
The Microsoft compilers generate a different type of debugging
symbol information, which gdb does not understand.
</p><p>However, the low-level (assembly-type) symbols generated by
Microsoft compilers are coff, which gdb DOES understand.
Therefore you should at least be able to see all of your
global symbols; you just won't have any information about
data types, line numbers, local variables etc.
</p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq.programming.x86-assembly"></a><p><b>6.37.</b></p></td><td align="left" valign="top"><p>Where can I find info on x86 assembly?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>CPU reference manuals for Intel's current chips are available in
downloadable PDF form on Intel's web site:
</p><p><a class="ulink" href="http://developer.intel.com/design/pro/manuals/" target="_top">http://developer.intel.com/design/pro/manuals/</a>
</p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq.programming.make-scripts"></a><p><b>6.38.</b></p></td><td align="left" valign="top"><p>Shell scripts aren't running properly from my makefiles?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>If your scripts are in the current directory, you must have <code class="literal">.</code>
(dot) in your $PATH.  (It is not normally there by default.)  Otherwise,
you would need to add /bin/sh in front of each and every shell script
invoked in your Makefiles.
</p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq.programming.preprocessor"></a><p><b>6.39.</b></p></td><td align="left" valign="top"><p>What preprocessor do I need to know about?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>We use _WIN32 to signify access to the Win32 API and __CYGWIN__ for
access to the Cygwin environment provided by the dll.
</p><p>We chose _WIN32 because this is what Microsoft defines in VC++ and
we thought it would be a good idea for compatibility with VC++ code
to follow their example.  We use _MFC_VER to indicate code that should
be compiled with VC++.
</p><p>_WIN32 is only defined when you use either the -mno-cygwin or -mwin32
gcc command line options.  This is because Cygwin is supposed to be a
Unix emulation environment and defining _WIN32 confuses some programs
which think that they have to make special concessions for a Windows
environment which Cygwin handles automatically.
</p><p>Note that using -mno-cygwin replaces __CYGWIN__ with __MINGW32__ as to
tell which compiler (or settings) you're running.
Check this out in detail by running, for example
</p><pre class="screen">
       $ gcc  -dM -E -xc /dev/null &gt;gcc.txt
       $ gcc -mno-cygwin -dM -E -xc /dev/null &gt;gcc-mno-cygwin.txt
       $ gcc -mwin32 -dM -E -xc /dev/null &gt;gcc-mwin32.txt
</pre><p>Then use the diff and grep utilities to check
what the difference is.
</p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq.programming.unix-gui"></a><p><b>6.40.</b></p></td><td align="left" valign="top"><p>How should I port my Unix GUI to Windows?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>There are two basic strategies for porting Unix GUIs to Windows.
</p><p>The first is to use a portable graphics library such as tcl/tk, X11, or
V (and others?).  Typically, you will end up with a GUI on Windows that
requires some runtime support.  With tcl/tk, you'll want to include the
necessary library files and the tcl/tk DLLs.  In the case of X11, you'll
need everyone using your program to have an X11 server installed.
</p><p>The second method is to rewrite your GUI using Win32 API calls (or MFC
with VC++).  If your program is written in a fairly modular fashion, you
may still want to use Cygwin if your program contains a lot of shared
(non-GUI-related) code.  That way you still gain some of the portability
advantages inherent in using Cygwin.
</p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq.programming.djgpp"></a><p><b>6.41.</b></p></td><td align="left" valign="top"><p>Why not use DJGPP ?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>DJGPP is a similar idea, but for DOS instead of Win32.  DJGPP uses a
"DOS extender" to provide a more reasonable operating interface for its
applications.   The Cygwin toolset doesn't have to do this since all of
the applications are native WIN32.   Applications compiled with the
Cygwin tools can access the Win32 API functions, so you can write
programs which use the Windows GUI.
</p><p>You can get more info on DJGPP by following
<a class="ulink" href="http://www.delorie.com/" target="_top">http://www.delorie.com/</a>.
</p></td></tr><tr class="qandadiv"><td align="left" valign="top" colspan="2"><h3 class="title"><a name="faq.known-problems"></a>7. Known Problems in the Latest Net Release</h3></td></tr><tr class="toc"><td align="left" valign="top" colspan="2"><dl><dt>7.1. <a href="faq-nochunks.html#faq.known-problems.pipe-key">Pipe key (|) doesn't work on non-US keyboards in Win9x/ME</a></dt><dt>7.2. <a href="faq-nochunks.html#faq.known-problems.win9x-tape">Cannot access tape devices with mt on Win9x</a></dt><dt>7.3. <a href="faq-nochunks.html#faq.known-problems.win9x-scp">On Win9x, scp leaves ssh processes running.</a></dt></dl></td></tr><tr class="toc"><td align="left" valign="top" colspan="2"><p>Aware of the problem, no solution known.</p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq.known-problems.pipe-key"></a><p><b>7.1.</b></p></td><td align="left" valign="top"><p>Pipe key (<code class="literal">|</code>) doesn't work on non-US keyboards in Win9x/ME</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>This might get fixed someday, but meanwhile, just use rxvt, which does
not have this problem.  This is no real loss, because rxvt has many
other advantages.  (Do not attempt to use the "broken" pipe key
(<code class="literal">&#166;</code>) as a substitute, it is a different character.)
</p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq.known-problems.win9x-tape"></a><p><b>7.2.</b></p></td><td align="left" valign="top"><p>Cannot access tape devices with mt on Win9x</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Win9x does not support the API used by the Cygwin fhandler_dev_tape
class.  Details at
<a class="ulink" href="http://sources.redhat.com/ml/cygwin/2000-12/msg00331.html" target="_top">http://sources.redhat.com/ml/cygwin/2000-12/msg00331.html</a>.
</p></td></tr><tr class="question"><td align="left" valign="top"><a name="faq.known-problems.win9x-scp"></a><p><b>7.3.</b></p></td><td align="left" valign="top"><p>On Win9x, scp leaves ssh processes running.</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>
You can stop them by hand with the Task Manager.
</p></td></tr><tr class="qandadiv"><td align="left" valign="top" colspan="2"><h3 class="title"><a name="faq.copyright"></a>8. Copyright</h3></td></tr><tr class="toc"><td align="left" valign="top" colspan="2"><dl><dt>8.1. <a href="faq-nochunks.html#faq.what.copyright">What are the copyrights?</a></dt></dl></td></tr><tr class="question"><td align="left" valign="top"><a name="faq.what.copyright"></a><p><b>8.1.</b></p></td><td align="left" valign="top"><p>What are the copyrights?</p></td></tr><tr class="answer"><td align="left" valign="top"></td><td align="left" valign="top"><p>Please see
<a class="ulink" href="http://cygwin.com/license.html" target="_top">http://cygwin.com/license.html</a> for more information
about Cygwin copyright and licensing.
</p></td></tr></tbody></table></div></div><div class="navfooter"><hr></div></body></html>
