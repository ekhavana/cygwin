<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=ANSI_X3.4-1968"><title>Chapter&#160;2.&#160;Setting Up Cygwin</title><link rel="stylesheet" href="docbook.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.74.0"><link rel="home" href="cygwin-ug-net.html" title="Cygwin User's Guide"><link rel="up" href="cygwin-ug-net.html" title="Cygwin User's Guide"><link rel="prev" href="ov-new1.7.html" title="What's new and what changed in Cygwin 1.7"><link rel="next" href="setup-env.html" title="Environment Variables"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Chapter&#160;2.&#160;Setting Up Cygwin</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ov-new1.7.html">Prev</a>&#160;</td><th width="60%" align="center">&#160;</th><td width="20%" align="right">&#160;<a accesskey="n" href="setup-env.html">Next</a></td></tr></table><hr></div><div class="chapter" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="setup-net"></a>Chapter&#160;2.&#160;Setting Up Cygwin</h2></div></div></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt><span class="sect1"><a href="setup-net.html#internet-setup">Internet Setup</a></span></dt><dd><dl><dt><span class="sect2"><a href="setup-net.html#setup-download">Download Source</a></span></dt><dt><span class="sect2"><a href="setup-net.html#setup-dir">Selecting an Install Directory</a></span></dt><dt><span class="sect2"><a href="setup-net.html#setup-localdir">Local Package Directory</a></span></dt><dt><span class="sect2"><a href="setup-net.html#setup-connection">Connection Method</a></span></dt><dt><span class="sect2"><a href="setup-net.html#setup-mirror">Choosing Mirrors</a></span></dt><dt><span class="sect2"><a href="setup-net.html#setup-packages">Choosing Packages</a></span></dt><dt><span class="sect2"><a href="setup-net.html#setup-progress">Download and Installation Progress</a></span></dt><dt><span class="sect2"><a href="setup-net.html#setup-icons">Icons</a></span></dt><dt><span class="sect2"><a href="setup-net.html#setup-postinstall">Post-Install Scripts</a></span></dt><dt><span class="sect2"><a href="setup-net.html#setup-troubleshooting">Troubleshooting</a></span></dt></dl></dd><dt><span class="sect1"><a href="setup-env.html">Environment Variables</a></span></dt><dt><span class="sect1"><a href="setup-maxmem.html">Changing Cygwin's Maximum Memory</a></span></dt><dt><span class="sect1"><a href="setup-locale.html">Internationalization</a></span></dt><dd><dl><dt><span class="sect2"><a href="setup-locale.html#setup-locale-ov">Overview</a></span></dt><dt><span class="sect2"><a href="setup-locale.html#setup-locale-how">How to set the locale</a></span></dt><dt><span class="sect2"><a href="setup-locale.html#setup-locale-console">The Windows Console character set</a></span></dt><dt><span class="sect2"><a href="setup-locale.html#setup-locale-problems">Potential Problems when using Locales</a></span></dt><dt><span class="sect2"><a href="setup-locale.html#setup-locale-missing">What does not work?</a></span></dt><dt><span class="sect2"><a href="setup-locale.html#setup-locale-charsetlist">List of supported character sets</a></span></dt></dl></dd><dt><span class="sect1"><a href="ntsec.html">Using Windows security in Cygwin</a></span></dt><dd><dl><dt><span class="sect2"><a href="ntsec.html#ntsec-common">Overview</a></span></dt><dt><span class="sect2"><a href="ntsec.html#ntsec-files">File permissions</a></span></dt><dt><span class="sect2"><a href="ntsec.html#ntsec-ids">Special values of user and group ids</a></span></dt><dt><span class="sect2"><a href="ntsec.html#ntsec-mapping">The POSIX permission mapping leak</a></span></dt><dt><span class="sect2"><a href="ntsec.html#ntsec-setuid-overview">Switching the user context</a></span></dt><dt><span class="sect2"><a href="ntsec.html#ntsec-logonuser">Switching the user context with password authentication</a></span></dt><dt><span class="sect2"><a href="ntsec.html#ntsec-nopasswd1">Switching the user context without password, Method 1: Create a token from scratch</a></span></dt><dt><span class="sect2"><a href="ntsec.html#ntsec-nopasswd2">Switching the user context without password, Method 2: LSA authentication package</a></span></dt><dt><span class="sect2"><a href="ntsec.html#ntsec-nopasswd3">Switching the user context without password, Method 3: With password</a></span></dt><dt><span class="sect2"><a href="ntsec.html#ntsec-setuid-impl">Switching the user context, how does it all fit together?</a></span></dt></dl></dd><dt><span class="sect1"><a href="setup-files.html">Customizing bash</a></span></dt></dl></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="internet-setup"></a>Internet Setup</h2></div></div></div><p>To install the Cygwin net release, go to <a class="ulink" href="http://cygwin.com/" target="_top">http://cygwin.com/</a> and click on <a class="ulink" href="http://cygwin.com/setup.exe" target="_top">"Install Cygwin Now!"</a>.  This will
download a GUI installer called <span class="command"><strong>setup.exe</strong></span> which can
be run to download a complete cygwin installation via the internet.
Follow the instructions on each screen to install Cygwin.
</p><p>
The <span class="command"><strong>setup.exe</strong></span> installer is designed to be easy
for new users to understand while remaining flexible for the 
experienced. The volunteer development team is constantly working
on <span class="command"><strong>setup.exe</strong></span>; before requesting a new feature,
check the wishlist in the <a class="ulink" href="http://sourceware.org/cgi-bin/cvsweb.cgi/setup/README?cvsroot=cygwin-apps&amp;rev=2" target="_top">CVS <code class="literal">README</code>
</a>. It may already be present in the CVS version!
</p><p>
Since the default value for each option is the logical choice for
most installations, you can get a working minimal Cygwin environment
installed by simply clicking the <code class="literal">Next</code> button
at each page. The only exception to this is choosing a Cygwin mirror,
which you can choose by experimenting with those listed at
<a class="ulink" href="http://cygwin.com/mirrors.html" target="_top">
http://cygwin.com/mirrors.html
</a>. For more details about each of page of the 
<span class="command"><strong>setup.exe</strong></span> installation, read on below.
Please note that this guide assumes that you have a basic understanding
of Unix (or a Unix-like OS). If you are new to Unix, you will also want 
to make use of <a class="ulink" href="http://www.google.com/search?q=new+to+unix" target="_top">
other resources</a>.
</p><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="setup-download"></a>Download Source</h3></div></div></div><p>
Cygwin uses packages to manage installing various software. When
the default <code class="literal">Install from Internet</code> option is chosen,
<span class="command"><strong>setup.exe</strong></span> creates a local directory to store
the packages before actually installing the contents. 
<code class="literal">Download from Internet</code> performs only the first
part (storing the packages locally), while 
<code class="literal">Install from Local Directory</code> performs only the 
second (installing the contents of the packages). 
</p><p>
The <code class="literal">Download from Internet</code> option is mainly
for creating a base Cygwin package tree on one computer for 
installation on several machines with 
<code class="literal">Install from Local Directory</code>; copy the
entire local package tree to another machine with the directory
tree intact. For example, you might create a <code class="literal">C:\cache\</code>
directory and place <span class="command"><strong>setup.exe</strong></span> in it. Run 
<span class="command"><strong>setup.exe</strong></span> to <code class="literal">Install from Internet</code>
or <code class="literal">Download from Internet</code>, then copy the whole
<code class="literal">C:\cache\</code> to each machine and instead choose
<code class="literal">Install from Local Directory</code>. Unfortunately
<span class="command"><strong>setup.exe</strong></span> does not yet support unattended installs.
</p><p>
Though this provides some basic mirroring functionality, if you
are managing a large Cygwin installation, to keep up to date we recommend 
using a mirroring tool such as <span class="command"><strong>wget</strong></span>. A helpful user on 
the Cygwin mailing list created a simple demonstration script to accomplish
this; search the list for <span class="command"><strong>mkcygwget</strong></span> for ideas.
</p></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="setup-dir"></a>Selecting an Install Directory</h3></div></div></div><p>
The <code class="literal">Root Directory</code> for Cygwin (default
<code class="literal">C:\cygwin</code>) will become <code class="literal">/</code> 
within your Cygwin installation. You must have write access to
the parent directory, and any ACLs on the parent directory will
determine access to installed files.
</p><p>
The <code class="literal">Install For</code> options of <code class="literal">All Users</code> 
or <code class="literal">Just Me</code> should always be left on the default
<code class="literal">All Users</code>, unless you do not have write access to 
<code class="literal">HKEY_LOCAL_MACHINE</code> in the registry or the All Users 
Start Menu. This is true  even if you are the only user planning to use Cygwin 
on the machine.  Selecting <code class="literal">Just Me</code> will cause problems 
for programs such as <span class="command"><strong>crond</strong></span> and <span class="command"><strong>sshd</strong></span>.
If you do not have the necessary permissions, but still want to use these
programs, consult the Cygwin mailing list archives about others' experiences.

</p><p>
The <code class="literal">Default Text File Type</code> should be left on
<code class="literal">Unix</code> (that is, <code class="literal">\n</code>) unless you
have a very good reason to switch it to 
<code class="literal">DOS</code> (that is, <code class="literal">\r\n</code>).
</p></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="setup-localdir"></a>Local Package Directory</h3></div></div></div><p>
The <code class="literal">Local Package Directory</code> is the cache where 
<span class="command"><strong>setup.exe</strong></span> stores the packages before they are
installed. The cache must not be the same folder as the Cygwin
root. Within the cache, a separate directory is created for each
Cygwin mirror, which allows <span class="command"><strong>setup.exe</strong></span> to use 
multiple mirrors and custom packages. After installing Cygwin,
the cache is no longer necessary, but you may want to retain the
packages as backups, for installing Cygwin to another system,
or in case you need to reinstall a package.
</p></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="setup-connection"></a>Connection Method</h3></div></div></div><p>
The <code class="literal">Direct Connection</code> method of downloading will 
directly download the packages, while the IE5 method will leverage your 
IE5 cache for performance. If your organisation uses a proxy server or
auto-configuration scripts, the IE5 method also uses these settings.
If you have a proxy server, you can manually type it into 
the <code class="literal">Use Proxy</code> section. Unfortunately, 
<span class="command"><strong>setup.exe</strong></span> does not currently support password
authorization for proxy servers.
</p></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="setup-mirror"></a>Choosing Mirrors</h3></div></div></div><p>
Since there is no way of knowing from where you will be downloading
Cygwin, you need to choose at least one mirror site.  Cygwin mirrors 
are geographically distributed around the world; check the list at <a class="ulink" href="http://cygwin.com/mirrors.html" target="_top">http://cygwin.com/mirrors.html</a>
to find one near you. You can select multiple mirrors by holding down
<code class="literal">CTRL</code> and clicking on each one. If you have the URL of 
an unlisted mirror (for example, if your organization has an internal Cygwin 
mirror) you can add it.
</p></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="setup-packages"></a>Choosing Packages</h3></div></div></div><p>
For each selected mirror site, <span class="command"><strong>setup.exe</strong></span> downloads a 
small text file called <code class="literal">setup.bz2</code> that contains a list
of packages available from that site along with some basic information about
each package which <span class="command"><strong>setup.exe</strong></span> parses and uses to create the 
chooser window. For details about the format of this file, see 
the <a class="ulink" href="http://sourceware.org/cygwin-apps/setup.html" target="_top">
setup.exe homepage</a>.
</p><p>
The chooser is the most complex part of <span class="command"><strong>setup.exe</strong></span>. 
Packages are grouped into categories, and one package may belong to multiple 
categories (assigned by the volunteer package maintainer). Each package
can be found under any of those categories in the heirarchial chooser view.
By default, <span class="command"><strong>setup.exe</strong></span>
will install only the packages in the <code class="literal">Base</code> category
and their dependencies, resulting in a minimal Cygwin installation.
However, this will not include many commonly used tools such as 
<span class="command"><strong>gcc</strong></span> (which you will find in the <code class="literal">Devel</code> 
category).  Since <span class="command"><strong>setup.exe</strong></span> automatically selects
dependencies, be careful not to unselect any required packages. In 
particular, everything in the <code class="literal">Base</code> category is
required.
</p><p>
You can change <span class="command"><strong>setup.exe</strong></span>'s view style, which is helpful
if you know the name of a package you want to install but not which 
category it is in. 
Click on the <code class="literal">View</code> button and it will rotate between 
<code class="literal">Category</code> (the default), <code class="literal">Full</code> (all 
packages), and <code class="literal">Partial</code> (only packages to be upgraded).
If you are familiar with Unix, you will probably want to at least glance 
through the <code class="literal">Full</code> listing for your favorite tools.
</p><p>
Once you have an existing Cygwin installation, the <span class="command"><strong>setup.exe</strong></span>
chooser is also used to manage your Cygwin installation. 
Information on installed packages is kept in the
<code class="literal">/etc/setup/</code> directory of your Cygwin installation; if 
<span class="command"><strong>setup.exe</strong></span> cannot find this directory it will act as if
you have no Cygwin installation.  If <span class="command"><strong>setup.exe</strong></span>
finds a newer version of an installed package available, it will automatically 
mark it to be upgraded. 
To <code class="literal">Uninstall</code>, <code class="literal">Reinstall</code>, or get the
<code class="literal">Source</code> for an existing package, click on 
<code class="literal">Keep</code> to toggle it. 
Also, to avoid the need to reboot after upgrading, make sure
to close all Cygwin windows and stop all Cygwin processes before 
<span class="command"><strong>setup.exe</strong></span> begins to install the upgraded package.
</p><p>
The final feature of the <span class="command"><strong>setup.exe</strong></span> chooser is for
<code class="literal">Previous</code> and <code class="literal">Experimental</code> packages.
By default the chooser shows only the current version of each package,
though mirrors have at least one previous version and occasionally there
is a testing or beta version of a package available. To see these package,
click on the <code class="literal">Prev</code> or <code class="literal">Exp</code> radio button.
Be warned, however, that the next time you run <span class="command"><strong>setup.exe</strong></span> 
it will try to replace old or experimental versions with the current
stable version. 
</p></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="setup-progress"></a>Download and Installation Progress</h3></div></div></div><p>
First, <span class="command"><strong>setup.exe</strong></span> will download all selected packages
to the local directory chosen earlier. Before installing, 
<span class="command"><strong>setup.exe</strong></span> performs a checksum on each package. If the
local directory is a slow medium (such as a network drive) this can take
a long time. During the download and installation, <span class="command"><strong>setup.exe</strong></span>
shows progress bars for the current task and total remaining disk space.
</p></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="setup-icons"></a>Icons</h3></div></div></div><p>
You may choose to install shortcuts on the Desktop and/or Start Menu
to start a <code class="literal">bash</code> shell. If you prefer to use a different
shell or the native Windows version of <code class="literal">rxvt</code>, you can
use these shortcuts as a guide to creating your own. 
</p></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="setup-postinstall"></a>Post-Install Scripts</h3></div></div></div><p>
Last of all, <span class="command"><strong>setup.exe</strong></span> will run any post-install
scripts to finish correctly setting up installed packages. Since each
script is run separately, several windows may pop up. If you are 
interested in what is being done, see the Cygwin Package Contributor's
Guide at <a class="ulink" href="http://cygwin.com/setup.html" target="_top">http://cygwin.com/setup.html</a>
When the last post-install script is completed, <span class="command"><strong>setup.exe</strong></span> 
will display a box announcing the completion. A few packages, such as
the OpenSSH server, require some manual site-specific configuration. 
Relevant documentation can be found in the <code class="literal">/usr/doc/Cygwin/</code> 
or <code class="literal">/usr/share/doc/Cygwin/</code> directory.
</p></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="setup-troubleshooting"></a>Troubleshooting</h3></div></div></div><p>
Unfortunately, the complex setup process means that odd problems can
occur. If you're having trouble downloading packages, it may be network
congestion, so try a different mirror and/or a different protocol (i.e.,
HTTP instead of FTP).  If you notice something is not working after
running setup, you can check the <span class="command"><strong>setup.exe</strong></span> log file
at <code class="literal">/var/log/setup.log.full</code>. Make a backup of this
file before running <span class="command"><strong>setup.exe</strong></span> again, and follow the
steps for <a class="ulink" href="http://cygwin.com/problems.html" target="_top">Reporting
Problems with Cygwin</a>.
</p></div></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ov-new1.7.html">Prev</a>&#160;</td><td width="20%" align="center">&#160;</td><td width="40%" align="right">&#160;<a accesskey="n" href="setup-env.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">What's new and what changed in Cygwin 1.7&#160;</td><td width="20%" align="center"><a accesskey="h" href="cygwin-ug-net.html">Home</a></td><td width="40%" align="right" valign="top">&#160;Environment Variables</td></tr></table></div></body></html>
